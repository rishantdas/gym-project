(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[50991,39395],{850115:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},537347:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function r(e,n){function i(){var e=r;o(e)&&e.a.parentNode&&n(e.g)}var r=e;t(e.b,i),t(e.c,i),o(e)}function a(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,l=null,d=null,c=null;function u(){return null===c&&(c=!!document.fonts),c}function p(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}d=""!==e.style.font}return d}function _(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var o=this,a=e||"BESbswy",d=0,c=t||3e3,p=(new Date).getTime();return new Promise((function(e,t){if(u()&&!function(){if(null===l)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!e&&603>parseInt(e[1],10)}else l=!1;return l}()){var h=new Promise((function(e,t){!function n(){(new Date).getTime()-p>=c?t(Error(c+"ms timeout exceeded")):document.fonts.load(_(o,'"'+o.family+'"'),a).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),E=new Promise((function(e,t){d=setTimeout((function(){t(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([E,h]).then((function(){clearTimeout(d),e(o)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=m&&-1!=I||-1!=m&&-1!=f||-1!=I&&-1!=f)&&((t=m!=I&&m!=f&&I!=f)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(m==T&&I==T&&f==T||m==g&&I==g&&f==g||m==y&&I==y&&f==y)),t=!t),t&&(S.parentNode&&S.parentNode.removeChild(S),clearTimeout(d),e(o))}var u=new n(a),h=new n(a),E=new n(a),m=-1,I=-1,f=-1,T=-1,g=-1,y=-1,S=document.createElement("div");S.dir="ltr",i(u,_(o,"sans-serif")),i(h,_(o,"serif")),i(E,_(o,"monospace")),S.appendChild(u.a),S.appendChild(h.a),S.appendChild(E.a),document.body.appendChild(S),T=u.a.offsetWidth,g=h.a.offsetWidth,y=E.a.offsetWidth,function e(){if((new Date).getTime()-p>=c)S.parentNode&&S.parentNode.removeChild(S),t(Error(c+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(m=u.a.offsetWidth,I=h.a.offsetWidth,f=E.a.offsetWidth,l()),d=setTimeout(e,50)}}(),r(u,(function(e){m=e,l()})),i(u,_(o,'"'+o.family+'",sans-serif')),r(h,(function(e){I=e,l()})),i(h,_(o,'"'+o.family+'",serif')),r(E,(function(e){f=e,l()})),i(E,_(o,'"'+o.family+'",monospace'))}))}))},e.exports=a}()},554290:(e,t,n)=>{var i=n(406557);e.exports=function(e){return"function"==typeof e?e:i}},385564:(e,t,n)=>{var i=n(121078);e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},498913:(e,t,n)=>{var i=n(422545),o=n(554290),r=n(640554),a=4294967295,s=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var n=a,l=s(e,a);t=o(t),e-=a;for(var d=i(l,t);++n<e;)t(n);return d}},225643:e=>{e.exports={FeedFieldType:{ITEM_ID:1,ITEM_GROUP_ID:2,TITLE:3,DESCRIPTION:4,ITEM_LINK:5,ORGANIC_LINK:6,IMAGE_LINK:7,ADWORDS_REDIRECT_LINK:8,AD_LINK:9,SIZE:10,GOOGLE_PRODUCT_CATEGORY:11,PRODUCT_CATEGORY:12,CONDITION:13,AVAILABILITY:14,GENDER:15,AGE_GROUP:16,SIZE_TYPE:17,SIZE_SYSTEM:18,ADULT:19,SHIPPING:20,SHIPPING_WEIGHT:21,TAX:22,MULTIPACK:23,ADDITIONAL_IMAGE_LINK:24,PRICE:25,SALE_PRICE:26,IS_BUNDLE:27,EXPIRATION_DATE:28,SALE_PRICE_EFFECTIVE_DATE:29,AVAILABILITY_DATE:30,WEIGHT_UNIT:31,UPDATED_TIME:32,PRODUCT_TYPE:33,CUSTOM_LABEL_0:34,CUSTOM_LABEL_1:35,CUSTOM_LABEL_2:36,CUSTOM_LABEL_3:37,CUSTOM_LABEL_4:38,MATERIAL:39,PATTERN:40,COLOR:41,BRAND:42,GTIN:43,MPN:44,IOS_DEEP_LINK:45,ANDROID_DEEP_LINK:46,FREE_SHIPPING_LABEL:47,FREE_SHIPPING_LIMIT:48,AVG_REVIEW_RATING:49,NUM_RATINGS:50,NUM_REVIEWS:51,ALT_TEXT:52,VARIANT_NAMES:53,VARIANT_VALUES:54,MIN_AD_PRICE:55,SHIPPING_WIDTH:56,SHIPPING_HEIGHT:57,LENGTH_UNIT:58,DESCRIPTION_HTML:59,CHECKOUT_ENABLED:60},ConditionType:{NEW:1,USED:2,REFURBISHED:3},AvailabilityType:{IN_STOCK:1,OUT_OF_STOCK:2,PREORDER:3,UNAVAILABLE:4},GenderType:{MALE:1,FEMALE:2,UNISEX:3},AgeGroupType:{NEWBORN:1,INFANT:2,TODDLER:3,KIDS:4,ADULT:5},TrueFalseType:{IS_TRUE:1,IS_FALSE:2,YES:3,NO:4},SizeTypeType:{REGULAR:1,PETITE:2,PLUS:3,BIG_AND_TALL:4,MATERNITY:5},SizeSystemType:{US:1,UK:2,EU:3,DE:4,FR:5,JP:6,CN:7,IT:8,BR:9,MEX:10,AU:11},WeightUnitType:{LB:1,OZ:2,KG:3,G:4},LengthUnitType:{IN:1,FT:2,MM:3,CM:4,M:5,KM:6},ShippingLabelType:{PERISHABLE:1,BULKY:2,PROMOTION:3},FeedType:{SHOPIFY:1,DEMANDWARE:4,BIGCOMMERCE:7,WAYFAIR:8,MAGENTO:9,IBM:10,OVERSTOCK:11,CHANNEL_ADVISOR:12,STITCHER_ADS:13,CHANNEL_INTELLIGENCE:14,MERCHANT_ADVANTAGE:15,DIRECT_HTTP_TSV:18,DIRECT_SFTP_TSV:19,DIRECT_FTP_TSV:20,DIRECT_HTTP_CSV:23,DIRECT_SFTP_CSV:24,DIRECT_FTP_CSV:25,DIRECT_HTTP_XML:26,DIRECT_SFTP_XML:27,DIRECT_FTP_XML:28,SHOPIFY_BULK:29,TARGET:2,MACYS:3,NEIMAN:5,NORDSTROM:6,IPROSPECT:16,MERCENT:17,PRODUCTSUP:21,MERKEL:22},RealtimePriorityLane:{ONBOARDING:0,DEFAULT:1,LOW:2,MEDIUM:3,HIGH:4,MEGA:5,API:6},FeedApplicationType:{BUYABLE_PIN_FEED:1,PRODUCT_PIN_ADS_FEED:2},PartnerType:{NONE:0,SHOPIFY:1},EntityEnvType:{PROD:0,STAGING:1,TEST:2,PROD_TEST:3},ProductApprovalStatus:{PENDING:0,APPROVED:1,DECLINED:2},ItemState:{ACTIVE:0,DELETED:1},OrderStatus:{NEW:1,IN_PROGRESS:2,SHIPPED:3,BACKORDER:4,CANCELLED:5,DELIVERED:6,RETURNED:7},FundingType:{UNKNOWN:1,CREDIT:2,DEBIT:3,PREPAID:4},OmsType:{SHOPIFY:1,TARGET:2,WALMART:3,DEMANDWARE:4,BIGCOMMERCE:5,MACYS:6,NEIMAN:7,NORDSTROM:8,BLOOMINGDALES:9,STANDARD:21},PaymentReceiverType:{PINTEREST_STRIPE_TOKEN_SHOPIFY:1,PINTEREST_STRIPE_CARD_PMD_SHOPIFY:2,PINTEREST_STRIPE_CARD_PMD_TARGET:3,PINTEREST_STRIPE_TOKEN_PMD_SHOPIFY:4,APPLE_PAY_STRIPE_TOKEN_PMD_SHOPIFY:5,PINTEREST_BRAINTREE_CARD_PMD_SHOPIFY:6,APPLE_PAY_BRAINTREE_TOKEN_PMD_SHOPIFY:7,PINTEREST_STRIPE_CARD_PMD_MACYS:8,APPLE_PAY_STRIPE_TOKEN_PMD_MACYS:9,PINTEREST_BRAINTREE_CARD_PMD_MACYS:10,APPLE_PAY_BRAINTREE_TOKEN_PMD_MACYS:11,PINTEREST_STRIPE_CARD_PMD_NEIMAN:12,APPLE_PAY_STRIPE_TOKEN_PMD_NEIMAN:13,PINTEREST_BRAINTREE_CARD_PMD_NEIMAN:14,APPLE_PAY_BRAINTREE_TOKEN_PMD_NEIMAN:15,PINTEREST_STRIPE_CARD_PMD_DEMANDWARE:16,APPLE_PAY_STRIPE_TOKEN_PMD_DEMANDWARE:17,PINTEREST_BRAINTREE_CARD_PMD_DEMANDWARE:18,APPLE_PAY_BRAINTREE_TOKEN_PMD_DEMANDWARE:19,PINTEREST_STRIPE_CARD_PMD_NORDSTROM:20,APPLE_PAY_STRIPE_TOKEN_PMD_NORDSTROM:21,PINTEREST_BRAINTREE_CARD_PMD_NORDSTROM:22,APPLE_PAY_BRAINTREE_TOKEN_PMD_NORDSTROM:23,PINTEREST_STRIPE_CARD_PMD_BLOOMINGDALES:24,APPLE_PAY_STRIPE_TOKEN_PMD_BLOOMINGDALES:25,PINTEREST_BRAINTREE_CARD_PMD_BLOOMINGDALES:26,APPLE_PAY_BRAINTREE_TOKEN_PMD_BLOOMINGDALES:27,PINTEREST_STRIPE_CARD_PMD_STANDARD:51,APPLE_PAY_STRIPE_TOKEN_PMD_STANDARD:52,PINTEREST_BRAINTREE_CARD_PMD_STANDARD:53,APPLE_PAY_BRAINTREE_TOKEN_PMD_STANDARD:54},IncentiveType:{VISA_STATEMENT_REBATE:1,MASTERCARD_STATEMENT_REBATE:2},IncentiveEnrollmentStatus:{ENROLLED:1,UNENROLLED:2,PENDING_ENROLL:11,PENDING_UNENROLL:12},IncentiveStatus:{NEW:1,VERIFIED:2,PRE_SUBMIT:3,SUBMITTED:4,DELIVERED:5,UNCONFIRMED:10,FAILED:11},FeedIntent:{PRODUCT_FULL:1,PRODUCT_UPDATE:2,PRODUCT_PIN_ADS_FULL:10,PRODUCT_PIN_ADS_UPDATE:11},WorkflowStatus:{IDLE:1,RUNNING:2,FINISHED:3,FAILED:4,DISCARDED:5},FeedFormatDisplayType:{TSV:1,CSV:2,XML:3,SHOPIFY_BULK:4},FeedProfileStatus:{ACTIVE:0,NEW_NOT_YET_ACTIVE:1,INACTIVE:2,TESTING:3,DISABLED:4},FeedFormatType:{GOOGLE_TSV:1,GOOGLE_TSV_NO_QUOTE:4,GOOGLE_TSV_EXCEL:5,GOOGLE_CSV:6,SHOPIFY_BULK:8,RICH_CLAIMED:9,NMG_XML:3,GOOGLE_XML:2,GOOGLE_CSV_EXCEL:7},PreprocessingStatusType:{PENDING:0,COMPLETED:1},FeedSourceType:{CATALOGS_FEED:1,UNIVERSAL_FEED:2},MerchantApprovalStatus:{APPROVED:0,PENDING:1,DECLINED:2,REVOKED:3,STAGING:4,PROD_TEST:5,APPEAL_PENDING:6},MerchantFeedType:{DIRECT:1,AGGREGATOR:2},MerchantReviewReason:{NO_RETURN_POLICY:0,NO_SHIPPING_POLICY:1,UNCLEAR_RETURNS:2,UNCLEAR_SHIPPING:3,SERVICES:4,TERMS_AND_SERVICES_VIOLATION:6,SPAM_VIOLATION:7,PROHIBITED_PRODUCTS:8,TRUST_AND_SAFETY_VIOLATION:9,PAYPAL:14,IN_STOCK:15,BANNER_ADS:16,DOMAIN_AGE:17,WATERMARKS:19,SALE:20,OUT_OF_DATE:21,PRODUCT_DESCRIPTION:22,POP_UP:23,NO_VIOLATION:25,MISCELLANEOUS:26,INACTIVE_FEED:33,AUTOREJECT:61,MARKETPLACE_SECOND_HAND:34,MARKETPLACE_AFFILIATES:35,MARKETPLACE_WHOLESALE:36,BROKEN_404:37,BROKEN_REGISTRATION:38,INCOMPLETE_WEBSITE_TEMPLATE:39,INCOMPLETE_PRODUCT_CATEGORIES:40,INCOMPLETE_BROKEN_SHOPPING_CART:41,LONG_SHIPPING_TIME:42,AUTHENTICITY_PLAGIARIZED_ABOUT:43,AUTHENTICITY_NO_SOCIALS_OR_ABOUT:44,AUTHENTICITY_NO_CONTACT_INFORMATION:45,AUTHENTICITY_PAYPAL_VERIFIED_LOGO:46,IMAGE_QUALITY_BLURRY_IMAGES:47,IMAGE_QUALITY_STOCK_PHOTOS:48,INAUTHENTIC_PHOTOS_EMPTY_OR_BROKEN_PHOTOS:49,INAUTHENTIC_PHOTOS_IMAGE_NOT_OF_PRODUCT:50,WATCHLIST_DROPSHIPPER:51,WATCHLIST_TRAFFIC_50_TO_69:52,WATCHLIST_TRAFFIC_70_TO_89:53,WATCHLIST_TRAFFIC_90_TO_100:54,PRODUCTS_GENERIC_PRODUCT_DESCRIPTION_OR_MISMATCH:55,PRODUCTS_NO_PRODUCT_CATEGORIES:56,RETURNS_MISMATCH:57,PINTEREST_TRAFFIC_71_TO_100:58,SCAMADVISER_SCORE_1_TO_80:59,BROKEN_SOCIAL_MEDIA:60,RESALE_MARKETPLACE:28,AFFILIATE_MARKETPLACE:29,WEBSITE_REQUIREMENTS:30,PRODUCT_REQUIREMENTS:31,BRAND_REPUTATION:32,BROKEN_URL:5,MARKETPLACE:10,DOMAIN_MISMATCH:11,INCOMPLETE:12,AUTHENTICITY:13,IMAGE_QUALITY:18,INAUTHENTIC_PHOTOS:24,DOMAIN_TOOLS_SCORE:27},MerchantVertical:{FASHION_WOMEN:0,FASHION_MEN:1,FASHION_CHILDREN:2,BEAUTY:3,WEDDINGS:4,HOME_DECOR:5,DIY_ARTS_AND_CRAFTS:6,OTHER:7,FOOD_AND_DRINK:8,ELECTRONICS:9,HEALTH:10},ResultOrderKey:{CREATE_TIMESTAMP:1,UPDATE_TIMESTAMP:2,USE_TIMESTAMP:3,BUYABLE_PIN_COUNT:4},NativeCheckoutPartnerType:{NONE:0,SHOPIFY:1,BOLT:2,AMAZON_US:3,AMAZON_UK:4},NativeCheckoutOrderStatus:{UNKNOWN:0,CREATED:1,CANCELLED:2,FULFILLMENT_IN_PROGRESS:3,FULFILLED:4,FAILED:5},NativeCheckoutPaymentEvent:{UNKNOWN:0,AUTHORIZE:1,CAPTURE:2,VOID:3,REFUND:4,FAILED:5},FeedAccessType:{PUSH:1,PULL:2},FeedFetchProtocolType:{HTTP:1,FTP:2,SFTP:3},FeedFetchAuthType:{NONE:1,OAUTH:2,BASIC:3,PKI:4,CUSTOM:5},FeedDefaultOperationType:{REPLACE:1,UPDATE:2,REMOVE:3},FeedFetchWorkflowStatus:{UNINITIALIZED:0,FETCHING:1,VALIDATING:2,SORTING:10,PREPROCESSING:3,INGESTING:4,INDEX_PENDING:11,COMPLETED_CANCELLED:5,COMPLETED_SUCCESS:6,COMPLETED_FAILED:7,COMPLETED_DUPLICATE:8,COMPLETED_WITHOUT_INGESTION:9,DATA_SOURCE_INVALID_EMAIL_PENDING:12},NotificationType:{PRICE_DROP:1,FREE_SHIPPING_AVAILABLE:2,AVAILABILITY_CHANGE:3,CART_ABANDONMENT:4},FeedTargetType:{FEED_FILE:1,ITEM:2,IMAGE:3,PRODUCT:4},FeedActionType:{FEED_FILE_ARCHIVED:10,FEED_FILE_REJECTED:11,ITEM_SAVED:20,ITEM_REJECTED:21,IMAGE_SAVED:30,IMAGE_REJECTED:31,PRODUCT_SAVED:40,PRODUCT_REJECTED:41},CommerceActionType:{CLOSEUP_7_DAYS:1,REPIN_7_DAYS:2,CLICK_THROUGH_7_DAYS:3,CART_CREATE_14_DAYS:4,PURCHASE_14_DAYS:5},AnnotationVersion:{ALL_FIELDS:1},TimeRange:{DAY:1,WEEK:2,BI_WEEK:3,MONTH:4},SalesRankTimeRange:{ONE_DAY:1,SEVEN_DAYS:2,THIRTY_DAYS:3},PriceModelVersion:{ENG_CV5FR11K:0,ENG_CV5INTL11K:1,GPT_GAUSSIAN:2},Source:{POPULAR_QUERY:1,POPULAR_INTEREST:2,SEARS_KOSEI:3,CRAWLED_DATA_SEARS:4,CRAWLED_DATA_MACYS:5,CRAWLED_DATA_BLOOMINGDALES:6,CRAWLED_DATA_NORDSTROM:7,CRAWLED_DATA_NEIMAN_MARCUS:8,CRAWLED_DATA_OVERSTOCK:9,OTHER:10},State:{UNINITIALIZED:0,VALID:1,BANNED:2},Edit:{TERM_CREATE:1,STATE_UPDATE:2,LANGUAGE_UPDATE:3,TEXT_UPDATE:4,SOURCE_ADD:5,SOURCE_DEL:6,UPDATE_AUX_DATA:7,UPDATE_DISPLAY_TEXT:8},EditSource:{ADMIN:1,COMMUNITY:2,ALGO:5},RealtimeIngestionType:{FULL:1,INCREMENTAL:2},RealtimeWorkflowStage:{FETCHING:1001,TRANSFORMER:1002,BATCHER:1003,VALIDATION:2001,MEDIA_PROCESSING:3001,MEDIA_PROCESSING_CALLBACK:3002,MEDIA_PREPROCESSING:3003,MEDIA_PREPROCESSING_CALLBACK:3004,PIN_CREATION:4001,PIN_CREATION_CALLBACK:4002,PIN_UPDATE_CALLBACK:4003,INDEXING:5001,PRE_AGGREGATION:6e3,AGGREGATION:6001},RealtimeWorkflowStatus:{INITIALIZED:1e3,RUNNING:2e3,SUCCESS:3e3,FAILED:4e3,DUPLICATE:5e3,TERMINATED:6e3,TIMED_OUT:7e3,RETRY_VALIDATION:8e3,INDEX_VALIDATION_PENDING:9e3},RealtimeWorkflowBatchStatus:{SCHEDULED:100,RUNNING:200,SUCCESS:300,FAILED:400,TERMINATED:500},ItemDropReason:{MERCHANT_NOT_APPROVED:0,STALE_EPOCH:1,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:2,BLOCKLISTED_IMAGE_SIGNATURE:3},Environment:{PROD:0,DEV:1,STAGING:2,CANARY:3},MerchantClientName:{SHOPPING_MERCHANT_DEFAULT:1,SHOPPING_MERCHANT_LOW:4,SHOPPING_MERCHANT_MEDIUM:3,SHOPPING_MERCHANT_HIGH:2,SHOPPING_MERCHANT_VERY_HIGH:5,SHOPPING_MERCHANT_TIER_0:6},EventType:{FETCH_SAME_SIGNATURE:2,FETCH_INACTIVE_FEED_ERROR:3,ITEM_NOT_FOUND:98,ITEM_ALREADY_EXISTS:99,FETCH_ERROR:100,ENCODING_ERROR:101,DELIMITER_ERROR:102,REQUIRED_COLUMNS_MISSING:103,IMAGE_LINK_INVALID:104,ITEMID_MISSING:105,TITLE_MISSING:106,DESCRIPTION_MISSING:107,PRODUCT_CATEGORY_MISSING:108,PRODUCT_CATEGORY_INVALID:109,PRODUCT_LINK_MISSING:110,IMAGE_LINK_MISSING:111,AVAILABILITY_INVALID:112,PRODUCT_PRICE_INVALID:113,TITLE_LENGTH_TOO_LONG:114,DESCRIPTION_LENGTH_TOO_LONG:115,CONDITION_INVALID:116,GENDER_INVALID:117,AGE_GROUP_INVALID:118,SIZE_TYPE_INVALID:119,PARSE_LINE_ERROR:120,LINK_FORMAT_WARNING:121,LINK_FORMAT_INVALID:122,DUPLICATE_PRODUCTS:123,DUPLICATE_LINKS:124,SALES_PRICE_INVALID:125,PRODUCT_CATEGORY_DEPTH_WARNING:126,ADWORDS_SAME_AS_LINK:127,INTERNAL_SERVICE_ERROR:128,DUPLICATE_HEADERS:129,TAX_INVALID:130,SHIPPING_INVALID:131,SHIPPING_WEIGHT_INVALID:132,MULTIPACK_INVALID:133,ADWORDS_FORMAT_WARNING:134,ADWORDS_FORMAT_INVALID:135,IMAGE_LINK_WARNING:136,ADDITIONAL_IMAGE_LINK_WARNING:137,FEED_LENGTH_TOO_LONG:138,INVALID_DOMAIN:139,NO_VERIFIED_DOMAIN:140,ADULT_INVALID:141,LINK_LENGTH_TOO_LONG:142,MALFORMED_XML:143,EXPIRATION_DATE_INVALID:144,AVAILABILITY_DATE_INVALID:145,SALE_DATE_INVALID:146,WEIGHT_UNIT_INVALID:147,IS_BUNDLE_INVALID:148,UPDATED_TIME_INVALID:149,REDIRECT_INVALID:150,PRICE_MISSING:151,FEED_TOO_SMALL:152,CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRODUCT_TYPE_LENGTH_TOO_LONG:154,TOO_MANY_ADDITIONAL_IMAGE_LINKS:155,SHOPIFY_NO_PRODUCTS:156,OPTIONAL_PRODUCT_CATEGORY_MISSING:157,OPTIONAL_PRODUCT_CATEGORY_INVALID:158,OPTIONAL_CONDITION_MISSING:159,OPTIONAL_CONDITION_INVALID:160,IOS_DEEP_LINK_INVALID:161,ANDROID_DEEP_LINK_INVALID:162,AVAILABILITY_NORMALIZED:163,CONDITION_NORMALIZED:164,GENDER_NORMALIZED:165,AGE_GROUP_NORMALIZED:166,SIZE_TYPE_NORMALIZED:167,UTM_SOURCE_AUTO_CORRECTED:168,COUNTRY_DOES_NOT_MAP_TO_CURRENCY:169,MIN_AD_PRICE_INVALID:170,ADULT_FLAGGED:171,STALE_EPOCH:4021,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:4022,MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,IMAGE_DOWNLOAD_SUCCESS:1e3,IMAGE_DOWNLOAD_ERROR:1001,IMAGE_DOWNLOAD_UNRECOGNIZED_ERROR:1005,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,INDEXED_PRODUCT_COUNT_LARGE_DELTA:1013,INDEXED_PRODUCT_COUNT_LARGE_DELTA_FALIURE:1014,IMAGE_NOT_FOUND:1010,IMAGE_UNAUTHORIZED_FAILURE:1101,IMAGE_DOWNLOAD_INTERNAL_ERROR:1102,IMAGE_DOWNLOAD_UPLOAD_REQUEST_EXPIRED:1103,IMAGE_DOWNLOAD_FILE_NOT_ACCESSIBLE:1104,IMAGE_DOWNLOAD_MALFORMED_URL:1105,IMAGE_FAILED_TO_DOWNLOAD:1106,IMAGE_DOWNLOAD_FILE_NOT_FOUND:1107,IMAGE_DOWNLOAD_CONFIGURATION_ERROR:1108,IMAGE_DOWNLOAD_INVALID_FILE:1109,IMAGE_DOWNLOAD_ERROR_RATE_LIMITED:1110,IMAGE_PREPROCESSING_SUCCESS:1120,IMAGE_PREPROCESSING_ERROR:1121,IMAGE_PREPROCESSING_INTERNAL_ERROR:1122,IMAGE_PREPROCESSING_UPLOAD_REQUEST_EXPIRED:1123,IMAGE_PREPROCESSING_FILE_NOT_ACCESSIBLE:1124,IMAGE_PREPROCESSING_MALFORMED_URL:1125,IMAGE_FAILED_TO_PREPROCESS:1126,IMAGE_PREPROCESSING_FILE_NOT_FOUND:1127,IMAGE_PREPROCESSING_CONFIGURATION_ERROR:1128,IMAGE_PREPROCESSING_INVALID_FILE:1129,IMAGE_PREPROCESSING_ERROR_RATE_LIMITED:1130,IMAGE_PREPROCESSING_UNRECOGNIZED_ERROR:1131,IMAGE_DOWNLOAD_HTTP_STATUS_400:1200,IMAGE_DOWNLOAD_HTTP_STATUS_403:1201,IMAGE_DOWNLOAD_HTTP_STATUS_404:1202,IMAGE_DOWNLOAD_HTTP_STATUS_405:1203,IMAGE_DOWNLOAD_HTTP_STATUS_410:1204,IMAGE_DOWNLOAD_HTTP_STATUS_429:1205,IMAGE_DOWNLOAD_HTTP_STATUS_500:1206,IMAGE_DOWNLOAD_HTTP_STATUS_502:1207,IMAGE_DOWNLOAD_HTTP_STATUS_503:1208,IMAGE_DOWNLOAD_HTTP_STATUS_504:1209,IMAGE_DOWNLOAD_HTTP_STATUS_507:1210,IMAGE_DOWNLOAD_HTTP_STATUS_508:1211,IMAGE_DOWNLOAD_HTTP_STATUS_520:1213,IMAGE_DOWNLOAD_HTTP_STATUS_521:1214,IMAGE_DOWNLOAD_HTTP_STATUS_522:1215,IMAGE_DOWNLOAD_HTTP_STATUS_525:1216,IMAGE_DOWNLOAD_SITE_TIMEOUT:1300,IMAGE_DOWNLOAD_CONTENT_READ_ERROR:1301,IMAGE_DOWNLOAD_SITE_ERROR:1302,IMAGE_DOWNLOAD_SSL_ERROR:1303,IMAGE_DOWNLOAD_SSL_HANDSHAKE_ERROR:1304,IMAGE_DOWNLOAD_DNS_LOOKUP_ERROR:1305,IMAGE_PROCESSING_HEIGHT_TOO_SMALL:1400,IMAGE_PROCESSING_WIDTH_TOO_SMALL:1401,IMAGE_PROCESSING_TOO_MANY_PIXELS:1402,IMAGE_PROCESSING_TYPE_MISMATCH:1403,IMAGE_PROCESSING_EMPTY_FILE:1404,IMAGE_DOWNLOAD_JOB_NOT_FOUND:1500,JOB_INITIALIZED:4e3,JOB_RUNNING:4001,JOB_ENQUEUE_FAILED:4002,JOB_COMPLETED:4010,UNIQUE_FEED_PRODUCTS:4027,FEED_FILE_ITEMS:4040,FEED_FILE_BATCHES:4051,SHOPIFY_ORIGINAL_NUMBER_OF_ITEMS:4056,SHOPIFY_ITEMS_NOT_PUBLISHED_ON_PINTEREST:4057,SHOPIFY_ONLINE_STORE_URL_MISSING:4058,SHOPIFY_TRANSLATIONS_MISSING:4059,SHOPIFY_ILLEGAL_STATE_EXCEPTIONS:4088,SHOPIFY_NULL_POINTER_EXCEPTIONS:4089,SHOPIFY_VARIANT_CURRENCY_EXCEPTIONS:4090,SHOPIFY_CURRENCY_MAPPING_NOT_FOUND:4091,SHOPIFY_NUMBER_OF_COLLECTIONS:4104,MERCHANT_NOT_APPROVED:4020,PIN_SELECTION_FAILURE:4024,ITEM_SCORE_FETCH_FAILURE:4025,ITEM_INDEX_WRITE_FAILURE:4026,ITEM_INDEX_WRITE_SUCCESS:4039,UNIFIED_CATALOG_ITEM_WRITE_FAILURE:4092,UNIFIED_CATALOG_ITEM_WRITE_SUCCESS:4093,ITEM_PERFORMANCE_DATA_FETCH_FAILURE:4086,ITEM_PRODUCT_ITEM_PINS_FETCH_FAILURE:4087,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_SUCCESS:4094,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_FAILURE:4095,ITEM_CONVERSION_UNIFIED_CATALOG_WRITE_FAILURE:4096,ITEM_CANONICALIZATION_UNIFIED_CATALOG_WRITE_FAILURE:4097,ITEM_SUBSET_UNIFIED_CATALOG_WRITE_FAILURE:4098,ITEM_CREATION_UNIFIED_CATALOG_WRITE_FAILURE:4099,ITEM_UPDATE_UNIFIED_CATALOG_WRITE_FAILURE:4100,ITEM_RECONCILIATION_UNIFIED_CATALOG_WRITE_FAILURE:4101,ITEM_NOT_PASS_DECIDER_UNIFIED_CATALOG_WRITE_FAILURE:4102,ITEM_ASYNC_IO_UNIFIED_CATALOG_WRITE_FAILURE:4103,ITEM_MAIN_IMAGE_PREPROCESSING_FAILURE:4070,ITEM_MAIN_IMAGE_PREPROCESSING_INTERNAL_ERROR:4071,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_FAILURE:4072,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_INTERNAL_ERROR:4073,IP_CALLBACK_RIO_REQUEST_FAIL:4074,IP_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4075,IP_MAIN_IMAGES_NEED_TO_BE_DOWNLOADED:4076,IP_MAIN_IMAGES_RECEIVED_IN_CALLBACK:4077,IP_ADDITIONAL_IMAGES_NEED_TO_BE_DOWNLOADED:4078,IP_ADDITIONAL_IMAGES_RECEIVED_IN_CALLBACK:4079,IP_MAIN_IMAGES_IN_CACHE:4080,IP_ADDITIONAL_IMAGES_IN_CACHE:4081,ITEM_MAIN_IMAGE_DOWNLOAD_FAILURE:4028,ITEM_MAIN_IMAGE_DOWNLOAD_INTERNAL_ERROR:4054,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_FAILURE:4029,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_INTERNAL_ERROR:4055,BMD_CALLBACK_RIO_REQUEST_FAIL:4045,BMD_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4046,PIN_CREATION_IMAGE_CACHE_READ_FAIL:4047,PIN_CREATION_ITEM_PIN_CACHE_READ_FAIL:4048,PIN_CREATION_REQ_SUCCESS:4030,PIN_CREATION_REQ_FAILED:4031,PIN_CREATION_REQ_INVALID_USER:4032,PIN_CREATION_REQ_INVALID_BOARD:4033,PIN_CREATION_REQ_FAIL_SPAM_CHECK:4034,PIN_CREATION_REQ_INVALID_SIGNATURE:4035,PIN_CREATION_CB_CREATED_SUCCESS:4036,PIN_CREATION_INTERNAL_FAILURE:4037,PIN_CREATION_NO_CACHED_SIGNATURE:4038,PIN_CREATION_BULK_UPDATE_FAILURE:4044,PIN_CREATION_MAIN_IMAGE_SPAM_CHECK_FAILED:4060,PIN_CREATION_ADDITIONAL_IMAGE_SPAM_CHECK_FAILED:4061,PIN_CREATION_FAILED_TO_CREATE:4082,PIN_CREATION_FAILED_TO_PROCESS:4083,PIN_CREATION_FAILED_SENT_TO_KAFKA:4084,PIN_CREATION_NOT_SUPPORTED_BOARD:4085,BPC_CALLBACK_READ_IMAGE_FAIL:4049,BPC_CALLBACK_READ_PIN_CACHE_FAIL:4050,BLOCKLISTED_IMAGE_SIGNATURE:4023,BLOCKLISTED_ADDITIONAL_IMAGE_SIGNATURE:4041,PINJOIN_CONTENT_UNSAFE:4042,ADDITIONAL_PINJOIN_CONTENT_UNSAFE:4043,GPT_UNSAFE_SIGNATURE:4052,GPT_UNSAFE_ADDITIONAL_SIGNATURE:4053,FIELD_IS_EQUAL_TO_PREVIOUS_VALUE:5e3,INTERNAL_LOGGING_ERROR:8e3,STATUS_TRACKING_JOB_FAILURE:8001,WORKLFLOW_SLA_MISSED:8002,PRE_AGGREGATION_SUCCESS:8003,PRE_AGGREGATION_FAILURE:8004,PRE_AGGREGATION_INVALID_EPOCH_INGESTION:8005,PRE_AGGREGATION_FAILED_INDEXED_PRODUCT_COUNT_DELTA:8006,PRE_AGGREGATION_FAILED_INDEXED_SR_THRESHOLD:8007,PRE_AGGREGATION_INVALID_FIRST_INGESTION:8008,PRE_AGGREGATION_SURPASSED_NUM_RETRIES:8009,PRE_AGGREGATION_SKIPPED_STREAMING_ENABLED:8010,IN_STOCK:9e3,OUT_OF_STOCK:9001,PREORDER:9002,NEW_ITEM:9003,UPDATED_PRICE:9004,UPDATED_AVAILABILITY:9005},ItemValidationToolFeedLevelEventType:{VALIDATE_FEED_FAILURE:1,MALFORMED_XML:2,XML_TO_TSV_TRANSFORMATION_FAILURE:3,FEED_HEADER_INVALID:4,ITEM_VALIDATION_TOOL_INTERNAL_ERROR:5},LogLevel:{INFO:1,DEBUG:2,WARN:3,ERROR:4},ShoppingCounterDimensions:{WORKFLOW_EVENT:1,WORKFLOW_STAGE:2},FeedIngestionEventType:{JOB_FAILURE:7,JOB_SUCCESS:8},ItemOperationType:{UPDATE:1,CREATE:2,UPSERT:3,DELETE:4}}},778423:e=>{e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},531572:(e,t,n)=>{n.d(t,{GT:()=>E,Gy:()=>l,Kl:()=>f,QY:()=>h,RR:()=>c,SP:()=>p,Sn:()=>I,Uz:()=>_,Zs:()=>m,i8:()=>d,nn:()=>s,qN:()=>u});var i=n(227361),o=n.n(i),r=n(850770),a=n(259755);const s=e=>!!e&&(e.shopping_flags||[]).includes(2),l=e=>{var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},d=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},c=e=>{var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},u=e=>e.is_oos_product,p=e=>e.is_stale_product,_=e=>u(e)||p(e),h=e=>{const t=o()(e,"link_domain.official_user.full_name");if(t)return t;const n=o()(e,"rich_summary.site_name");if(n)return n;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const i=o()(e,"via_pinner.full_name");return e.is_repin&&i?i:void 0},E=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function m(e,t={}){var n,i,o,s,l,d;const c=E(e),u={...t.commerce_data};c.includes(2)&&(u.pin_is_shop_the_look=!0),c.includes(1)&&(u.is_available=!0),c.includes(5)&&(u.is_product_pin_v2=!0),c.includes(6)&&(u.is_rich_product_pin=!0),c.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,a.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(u.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const t=(0,r.Z)({pin:e});var p;if(t)u.image_count=null===(p=t.carousel_slots)||void 0===p?void 0:p.length,u.image_index=t.index}null!=e&&null!==(n=e.rich_summary)&&void 0!==n&&null!==(i=n.products)&&void 0!==i&&null!==(o=i[0])&&void 0!==o&&o.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(l=s.products)&&void 0!==l&&null!==(d=l[0])&&void 0!==d&&d.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const _=e.aggregated_pin_data||{};return null!=_&&_.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function I(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const f=(e,t={})=>{if(e){return I(m(e,t))}return null}},858197:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(537347),o=n.n(i),r=n(71445);function a(e){if("undefined"==typeof window||!document.head)return r.Z.increment("load_fonts.failure",1,{failure_reason:"window undefined"}),Promise.reject(new Error("Window is undefined or no head on the document. Unable to load fonts"));const t=document.head,n=[];return e.forEach((e=>{e.styles.forEach((i=>{var r;let a=document.querySelector(`#${null!==(r=e.fontFamily)&&void 0!==r?r:""}-${i.name}`);if(!a){var s;if(a=document.createElement("style"),a.setAttribute("id",`${null!==(s=e.fontFamily)&&void 0!==s?s:""}-${i.name}`),t.appendChild(a),e.format&&i.fontUrl&&a&&a.sheet){var l;a.sheet.insertRule(`\n            @font-face {\n              font-family: "${null!==(l=e.fontFamily)&&void 0!==l?l:""}";\n              font-style: "${i.fontStyle}";\n              font-weight: "${i.fontWeight}";\n              src: url("${i.fontUrl}") format("${e.format}");\n            }\n          `,0)}n.push(new(o())(e.fontFamily,{style:i.fontStyle,weight:i.fontWeight}).load())}}))})),Promise.all(n).then((()=>{Promise.resolve()})).catch((e=>{r.Z.increment("load_fonts.failure",1,{failure_reason:"unsuccessful load"}),Promise.reject(e)}))}},622263:(e,t,n)=>{function i(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:()=>i})},134413:(e,t,n)=>{n.d(t,{A6:()=>d,BS:()=>s,EC:()=>r,FC:()=>i,_5:()=>l,m9:()=>a,z9:()=>o});const i=424,o=800,r=508,a=424,s=278,l=640,d=508},813973:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(740049);async function o({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:o,isUnauth:r,pinId:a,viewParameter:s,viewType:l},d){return"undefined"==typeof window?Promise.resolve():((0,i.My)(`web.${r?"unauth":"auth"}.download.click.${o||"no_category"}`),d({event_type:82,object_id_str:a,view_type:l||3,view_parameter:s||139}),t&&document?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{var i,o;const r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.setAttribute("download",e&&e.replace(".","_")),r.style.display="none",null===(i=document.body)||void 0===i||i.appendChild(r),r.click(),null===(o=document.body)||void 0===o||o.removeChild(r),null==n||n()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},902339:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=n(966338),r=n(518378),a=n(710159),s=n(724207);var l=n(883119),d=n(785893);function c({favorited:e,favoriteCount:t,isCloseupButton:n,onFavorite:c,onUnfavorite:u,pinId:p,size:_}){const h=(0,a.ZP)(),E=(0,o.useDispatch)(),[m,I]=(0,i.useState)(!1),[f,T]=(0,i.useState)(e),[g,y]=(0,i.useState)(null!=t?t:0),S=async()=>{var e;T(!f),I(!0),f?(y(g-1),await E((e=p,async t=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),u(),I(!1)):(y(g+1),await E(function(e){return async t=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(p)),c(),I(!1))},v=g<10?g:h._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return(0,d.jsxs)(l.kC,{alignItems:"center",gap:1,children:[void 0!==t&&g>0&&(0,d.jsx)(l.xv,{size:"200",weight:"bold",children:v}),(0,d.jsx)(r.Z,{isCloseupButton:n,isDisabled:m,isFavorited:f,onTap:()=>{S()},size:_})]})}},518378:(e,t,n)=>{n.d(t,{W:()=>s,Z:()=>l});var i=n(710159),o=n(883119),r=n(785893);const a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:t,isFavorited:n,onTap:l,size:d}){const c=(0,i.ZP)();return e?(0,r.jsx)(o.hU,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),dangerouslySetSvgPath:n?s:a,disabled:t,iconColor:"darkGray",onClick:l,size:"lg"}):(0,r.jsx)(o.iP,{disabled:t,onTap:l,children:(0,r.jsx)(o.JO,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"default",dangerouslySetSvgPath:n?s:a,size:d})})}},277243:(e,t,n)=>{function i(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some((e=>e.pin_type===t))}n.d(t,{E:()=>o,J:()=>i})},715342:(e,t,n)=>{n.d(t,{H1:()=>d,HW:()=>r,iL:()=>l,pN:()=>s,s_:()=>a});var i=n(456168),o=n(112978);const r=new Date(2022,1,1);function a(){const e=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),t=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled,n=(0,o.tc)("android_ios_web_ip_plays_dark_reads")().anyEnabled;return e||t||n}function s({isOwnPin:e,isStoryPin:t,pinCreationDate:n,surface:a}){const s=(0,i.Z)(),l=(0,o.tc)("web_play_playtime_pin_stats")({dangerouslySkipActivation:!0}).anyEnabled,d="CreatorProfileStoryPinGrid"===a&&t&&n&&n.getTime()>=r.getTime()&&l&&s.isPartner&&e,c=(0,o.aq)("web_ip_plays",!!d).anyEnabled,u=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),p=(0,o.tc)("web_ip_pinner_plays");if("CreatorProfileStoryPinGrid"===a&&t&&n&&n.getTime()>=r.getTime()){if(s.isPartner)return e&&c||!e&&u;if(p().anyEnabled)return!0}return!1}function l({isOwnPin:e,isPartner:t}){const n=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),i=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(i&&!t||n&&t))}function d({isOwnPin:e,isPartner:t}){const n=(0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).anyEnabled,i=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(n&&t||i&&!t))}},238098:(e,t,n)=>{n.d(t,{G7:()=>h,ZP:()=>p,_E:()=>_,l6:()=>E,rh:()=>u});var i=n(620831),o=n(377097),r=n(628885),a=n(123686),s=n(721237),l=n(883119),d=n(785893);const c=e=>["employees","enabled"].includes(e.v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function u(e,t,n){var r,a,l;if(!t.isAuth)return!1;const d=(0,s.Nc)(e)||(0,s.o)(e),u=(null===(r=e.board)||void 0===r?void 0:r.privacy)===i.Z.BoardPrivacy.PUBLIC,p=(null===(a=e.board)||void 0===a?void 0:a.privacy)===i.Z.BoardPrivacy.PROTECTED,_=(c(n)&&p||u)&&!e.is_repin&&(null===(l=e.pinner)||void 0===l?void 0:l.id)===t.id,{isStoryPin:h}=(0,o.Z)(e);return d&&(!p||c(n))||t.isPartner&&_||(e=>["employees","enabled"].includes(e.v2ActivateExperiment("web_ps4p")))(n)&&h&&_||(0,s.pU)(e)}function p({isVideo:e,isStoryPin:t,i18n:n,showPublicPinStats:i,showPrivateFullScreenPinStats:o}){return e?[{align:"start",displayText:n._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:n._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:t?i?[{align:"start",displayText:n._("Full screen plays","pinRep.pinStats.fullScreenPlays","Label for how many times the Idea Pin has been played full screen"),field:"full_screen_play",iconType:"play"}]:o?[{align:"start",displayText:n._("Full screen plays","pinRep.pinStats.fullScreenPlays","Label for how many times the Idea Pin has been played full screen"),field:"full_screen_play",iconType:"play"},{align:"center",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:n._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:n._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:n._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function _(e,t,n,i){const{isStoryPin:r,isVideo:c}=(0,o.Z)(e),u=(0,s.Nc)(e),p=(0,s.o)(e)&&(r||!u)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,_=new Date(e.created_at),h=(new Date).getTime()-_.getTime(),E=Math.floor(h/36e5),m=p?p["24h_realtime"].is_realtime:null,I=p?p["24h_realtime"].timestamp:null;let f=null;p&&(f=r||c?p.all_time_realtime.timestamp:p["30d_realtime"].timestamp);const T=f!==I,g=e=>(0,a.nk)(n._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),y={timeframe:"",lastUpdated:""};if(p)if(m){const e=p["24h_realtime"].impression>=(r||c?p.all_time_realtime.impression:p["30d_realtime"].impression);y.timeframe=e?n._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):r||c?n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),y.lastUpdated=n._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(T||E>48)if(r||c){const e=i(p.all_time_realtime.timestamp);y.timeframe=n._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),y.lastUpdated=g(e)}else{const e=i(p["30d_realtime"].timestamp);y.timeframe=n._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),y.lastUpdated=g(e)}else{const e=i(p["24h_realtime"].timestamp);y.timeframe=n._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),y.lastUpdated=g(e)}else y.lastUpdated=n._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return(0,d.jsxs)(l.xu,{alignItems:r||"lg"!==t?"center":void 0,display:r||"lg"!==t?"flex":void 0,children:[(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:y.lastUpdated}),(r||["md","sm"].includes(t))&&!!p&&(0,d.jsx)(l.xv,{color:"subtle",inline:!0,size:"100",children:" ・"}),(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:y.timeframe})]})}function h(e,t){return(0,r.Z)(t.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function E(e,t){return(0,r.Z)(t.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},8858:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),o=n(539195),r=n(713751);function a(e,t){const{logContextEvent:n}=(0,o.v)(),{componentType:a,contextLogData:s,viewParameter:l,viewType:d}=(0,r.E)(),{aux_data:c,view_type:u,view_parameter:p,component:_,...h}=null!=t?t:{};return(0,i.useCallback)((()=>{n({event_type:e,view_type:u||d,view_parameter:p||l,component:_||a,...h,aux_data:{...c,...s}})}),[n,c,h,p,u,_,a,s,e,l,d])}},187828:(e,t,n)=>{n.d(t,{X:()=>o,Z:()=>r});var i=n(667294);const o=120;function r(e,t=0,n=o){const[r,a]=(0,i.useState)(e?"active":"inactive");return(0,i.useEffect)((()=>{if(!e){const e=setTimeout((()=>a("inactive")),n);return()=>{clearTimeout(e)}}if(t){const e=setTimeout((()=>a("active")),t);return()=>{clearTimeout(e)}}a("active")}),[e]),r}},713751:(e,t,n)=>{n.d(t,{B:()=>o,E:()=>r});var i=n(487889);const{Provider:o,useHook:r}=(0,i.Z)("trackingParametersContext")},599797:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(741012),o=n(531572),r=n(848392),a=n(20814),s=n(883119),l=n(112978),d=n(539195),c=n(713751),u=n(785893);function p({sizing:e="default",children:t,collageChipId:n,componentType:p,contextLogData:_,elementType:h,pin:E,viewParameter:m,viewType:I}){const{logContextEvent:f}=(0,d.v)(),T=(0,c.E)(),{group:g}=(0,l.tc)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:y,id:S}=E;let v,P=`/pin/${n||S}/`;if(y){const{carousel_slots:e=[],id:t,index:n=0}=y;P=`/pin/${S}/`,v={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n}}v={...v||{},...(0,o.Kl)(E,_)||{}};const x=(0,i.Z)({href:P,externalData:{auxData:v,pin:E}});return(0,u.jsx)(s.iP,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),(()=>{if(f({event_type:101,component:p||T.componentType,element:h,object_id_str:S,view_type:I||T.viewType,view_parameter:m||T.viewParameter,aux_data:{..._,...(0,o.Kl)(E,_)||{}}}),f({event_type:8948,view_type:I||T.viewType,view_parameter:m||T.viewParameter,component:p||T.componentType,element:h,object_id_str:S,aux_data:{closeup_navigation_type:"click",..._,...(0,o.Kl)(E,_)||{}}}),g){const e=Number(a.y7.getItem(r.J)||0);a.y7.setItem(r.J,e+1)}})(),x({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:P,role:"link",children:t})}},875410:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(599797),o=n(883119),r=n(785893);const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:n}=e,{pin_tags_chips:s}=n||{},l=s&&s.length>=3?s.slice(0,3):[];return(0,r.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:l.map((n=>{var s,l,d,c;const u=(null===(s=n.images)||void 0===s?void 0:s["750x"])||{},p=(0,r.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=u.height)&&void 0!==l?l:1,naturalWidth:null!==(d=u.width)&&void 0!==d?d:1,role:"presentation",src:null!==(c=u.url)&&void 0!==c?c:""});return(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,r.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:t?(0,r.jsx)(i.Z,{sizing:"fullSize",collageChipId:n.id,pin:e,children:p}):p})})})},n.id)}))})}},805251:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({children:e,additionalStyles:t={}}){return(0,o.jsx)(i.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},670641:(e,t,n)=>{n.d(t,{F:()=>s,Z:()=>l});var i=n(58545),o=n(883119),r=n(785893);const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==(0,i.Z)().debug_impression_log;function l({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,r.jsx)(o.xv,{color:"inverse",children:(0,r.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}},606348:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),o=n(647136),r=n(710159),a=n(883119),s=n(785893);function l(e){const t=(0,r.ZP)(),{onHide:n}=e,i=(0,s.jsx)(a.xv,{children:t._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return(0,s.jsx)(o.ZP,{onHide:n,text:i})}var d=n(724207),c=n(456168),u=n(358142);const p=function({anchor:e,onDismiss:t,pinId:n,signals:o}){const p=(0,r.ZP)(),[_,h]=(0,i.useState)(0),E=(0,c.Z)(),{showOneToast:m}=(0,u.F9)();if(!E.isEmployee)return null;const I=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:f,icon_url:T,signal_id:g,signal_message:y}=o[_];return(0,s.jsx)(a.mh,{children:(0,s.jsx)(a.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,s.jsxs)(a.xu,{padding:4,width:"100%",children:[o.length>1&&(0,s.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,s.jsx)(a.mQ,{activeTabIndex:_,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:n})=>{n(),(({activeTabIndex:e,event:t})=>{t.preventDefault(),h(e)})({activeTabIndex:t,event:e})},tabs:I})}),(0,s.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(a.X6,{size:"400",children:p._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),(0,s.jsx)(a.xu,{paddingY:3,children:(0,s.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,s.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:T?(0,s.jsx)(a.Ee,{alt:p._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:T}):(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f}},height:40,width:40})}),(0,s.jsx)(a.xv,{size:"200",children:y})]})}),(0,s.jsx)(a.xu,{marginBottom:3,children:(0,s.jsx)(a.xv,{size:"200",children:p._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),(0,s.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,s.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:p._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:n,signal_id:g,user:E.id};d.ZP.create("SignalReviewRequestResource",e).callCreate(),t(),m((({onHide:e})=>(0,s.jsx)(l,{onHide:e})))}}),(0,s.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:p._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:t})]})]})})})};var _=n(628613),h=n(53930),E=n(741874),m=n(179869);function I({signals:e,pinId:t}){const{background_color:n,icon_url:o,signal_message:r}=e[0],[l,d]=(0,i.useState)(!1),c=(0,i.useRef)();return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(h.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,s.jsx)(E.Z,{children:(0,s.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,s.jsx)(_.Z,{children:(0,s.jsx)(m.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>(0,s.jsx)(a.iP,{onTap:()=>d((e=>!e)),rounding:"pill",onMouseEnter:t,onMouseLeave:i,children:(0,s.jsxs)(a.xu,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:c,children:[(0,s.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,s.jsx)(a.Ee,{alt:"",color:n,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,s.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:r})]})})})})})})}),l&&c&&c.current&&(0,s.jsx)(p,{anchor:c.current,onDismiss:()=>d(!1),pinId:t,signals:e})]})}function f({pin:e}){if(!(0,c.Z)().isEmployee)return null;const{id:t,deb_ads:n,deb_content_quality:i,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:a}=e;return n?(0,s.jsx)(I,{pinId:t,signals:n}):i?(0,s.jsx)(I,{pinId:t,signals:i}):o?(0,s.jsx)(I,{pinId:t,signals:o}):r?(0,s.jsx)(I,{pinId:t,signals:r}):a?(0,s.jsx)(I,{pinId:t,signals:a}):null}},932937:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),o=n(187828),r=n(785893);function a(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:t=0,fadeOutDuration:n=o.X,visibility:s}){return"none"!==s&&e?(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:a(t,n)[s]},children:e}):null}},128240:(e,t,n)=>{n.d(t,{ZP:()=>m});var i=n(667294),o=n(805251),r=n(710159),a=n(834375),s=n(903997),l=n(539195),d=n(883119),c=n(785893);const u={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},p={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},_={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},h=["followed","related","search"],E=["pfy","pfyBoard"];function m({feedbackType:e,isHomefeedTunerVariantExp:t,pin:n,hideContents:m=!1}){var I;const{logContextEvent:f}=(0,l.v)(),T=(0,r.ZP)(),[g,y]=(0,i.useState)(!1),[S,v]=(0,i.useState)(!1);(0,i.useEffect)((()=>y(!0)),[]);const P=()=>v(!0),{feedbackText:x,images:A,showFeedbackOverlay:R,undoAction:b,undoText:O}=n,N=A&&(null===(I=A["236x"])||void 0===I?void 0:I.url),{image:C,subTitle:w,title:D,unfollow:L}=null!=x?x:{},M=!h.includes(e),k=E.includes(e),j=()=>{f({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,c.jsxs)(d.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[N&&(0,c.jsx)(o.Z,{additionalStyles:{...u.base,...g?u.blurred:{},backgroundImage:`url("${N}")`}}),(0,c.jsx)(o.Z,{additionalStyles:{...p.base,...p.blurred}})]}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{..._.base,...!R&&g?_.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!m&&(0,c.jsx)(d.xu,{height:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(d.xu,{marginBottom:2,children:(0,c.jsx)(d.X6,{color:"light",size:"400",children:D})}),(0,c.jsxs)(d.xu,{display:"flex",marginBottom:1,children:[C&&(0,c.jsx)(d.xu,{marginEnd:3,children:(0,c.jsx)(d.zd,{width:C.width,height:C.height,rounding:2,wash:!0,children:(0,c.jsx)(d.Ee,{alt:w||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:C.url||""})})}),(0,c.jsx)(d.xv,{color:"light",overflow:"normal",children:w})]}),t?(0,c.jsxs)(i.Fragment,{children:[b&&(0,c.jsx)(d.xu,{children:(0,c.jsx)(d.iP,{onTap:b,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:T._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!b&&!S&&L&&!k&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,a.t)(L.action,L.actionOptions,P),text:T._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),M&&(0,c.jsx)(d.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:j,text:T._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.xu,{children:M&&(0,c.jsx)(d.rU,{href:"/edit",onClick:j,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:T._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!b&&!S&&L&&!k&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,a.t)(L.action,L.actionOptions,P),text:T._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),b&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:b,text:O||T._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},408479:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(667294),o=n(966338),r=n(369870),a=n(230555),s=n(203695),l=n(819086),d=n(710159),c=n(8858),u=n(11874),p=n(8720),_=n(378351),h=n(713751),E=n(883119),m=n(785893);function I({feedbackData:e,feedbackType:t,pin:n,pinTitle:I,setForcePrimary:f,transparentBackground:T}){const g=(0,d.ZP)(),y=(0,o.useDispatch)(),{viewParameter:S,viewType:v}=(0,h.E)(),{reportPin:P}=(0,_.f)(),[x,A]=(0,i.useState)(!1),[R,b]=(0,i.useState)(),{ad_match_reason:O,show_ad_reasons:N,board:C,category:w,description:D,id:L="",images:M,is_promoted:k,pinner:j,promoter:G,recommendation_reason:B,source_interest:U,videos:F}=n;var H;const Z=(H=k?60:50,function(e){return(0,l.ZP)((e||"").trim(),H)})(null!=D?D:""),V=(0,r.Z)(M,"236x"),W=(0,p.iR)(F),Y=(0,c.Z)(101,{component:0,element:981,object_id_str:L,aux_data:{feedback_type:t}}),z=()=>{N||(f(!1),y((0,u.i0)(L)),A(!1))};return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(E.xu,{"data-test-id":"feedback-button",ref:b,children:(0,m.jsx)(E.hU,{accessibilityLabel:g._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:T?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{x?z():(f(!0),A(!0)),Y()},size:"sm"})}),x&&(0,m.jsx)(E.xu,{onFocus:e=>e.stopPropagation(),children:(0,m.jsx)(s.Z,{anchor:R,ad_match_reason:O,bestPinImgSrc:(0,a.Z)(n),board:C,feedbackData:e,feedbackType:t,hideDownload:W,isPromoted:k,onLinkClick:()=>{x&&z()},onDismiss:z,onHide:z,onDownloadHideFlyout:()=>{f(!1),A(!1)},pinCategory:w,pinDescription:Z,pinId:L,pinImgSrc:V,pinner:j,pinTitle:I,promoter:G,recommendationReason:B,reportPin:()=>P(n,S,v),sourceInterest:U,viewParameter:S,viewType:v})})]})}},203695:(e,t,n)=>{n.d(t,{Z:()=>G});var i=n(667294),o=n(966338),r=n(144977),a=n(883119),s=n(785893);function l({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:n,showNavigationIcon:i,text:o}){return(0,s.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,s.jsx)(r.Z,{id:"ad-reason-icon",children:(0,s.jsx)(a.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),(0,s.jsx)(a.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,s.jsx)(a.xv,{children:o})}),i&&n&&(0,s.jsx)(a.kC,{direction:"column",justifyContent:"center",children:(0,s.jsx)(a.JO,{accessibilityLabel:n,color:"default",icon:"arrow-forward"})})]})}var d=n(916389),c=n(632589),u=n(710159),p=n(123686),_=n(539195);const{ACCOUNT_SETTINGS:h,CANONICAL_MAIN_URL:E,HELP_BLOCKING:m,HELP_PROMOTED_PINS_URL:I}=c.Z.settings;function f({onDismiss:e,brandName:t,country:n,language:i,isAgeMatched:o,isBehaviorTargetingMatched:c,isCustomerListMatched:f,isGeoPostalCodeMatched:T,isGeoRegionMatched:g,isShoppingTargetingRematched:y}){const{logContextEvent:S}=(0,_.v)(),v=(0,u.ZP)();return(0,s.jsx)(d.ZP,{accessibilityModalLabel:v._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:e,children:(0,s.jsxs)(a.xu,{paddingX:8,paddingY:6,children:[(0,s.jsxs)(a.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,s.jsx)(a.xu,{position:"absolute",left:!0,children:(0,s.jsx)(a.hU,{accessibilityLabel:v._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),(0,s.jsx)(a.X6,{align:"center",size:"500",children:v._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),(0,s.jsxs)(a.xu,{children:[(0,s.jsxs)(a.kC,{direction:"column",gap:4,children:[(0,s.jsx)(a.xu,{children:(0,s.jsx)(a.xv,{children:(0,p.nk)(v._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:(0,s.jsx)(r.Z,{id:"ad-reasons-learn-more-link",children:(0,s.jsx)(a.xv,{inline:!0,children:(0,s.jsx)(a.rU,{href:I,inline:!0,onClick:()=>{S({event_type:101,component:13756,element:12057})},target:"blank",children:v._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})}),(0,s.jsx)(a.xu,{marginBottom:4,children:(0,s.jsx)(a.xv,{children:(0,p.nk)(v._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})})]}),(0,s.jsx)(r.Z,{id:"ad-reasons",children:(0,s.jsxs)(a.kC,{direction:"column",flex:"none",gap:4,children:[T||g?(0,s.jsx)(a.iP,{role:"link",href:`${E}${h}`,onTap:()=>{S({event_type:101,component:13756,element:12059})},target:"blank",children:(0,s.jsx)(l,{iconAccessibilityLabel:v._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",linkAccessibilityLabel:v._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),showNavigationIcon:!0,text:(0,p.nk)(v._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-language")})})}):null,o&&(0,s.jsx)(l,{iconAccessibilityLabel:v._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:(0,p.nk)(v._("{{ brandName }} is trying to reach people in your age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),c&&(0,s.jsx)(l,{iconAccessibilityLabel:v._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:v._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),y&&(0,s.jsx)(l,{iconAccessibilityLabel:v._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:(0,p.nk)(v._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),f&&(0,s.jsx)(l,{iconAccessibilityLabel:v._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:(0,p.nk)(v._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),(0,s.jsx)(a.xu,{marginBottom:1,children:(0,s.jsx)(a.xv,{children:v._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]})}),(0,s.jsxs)(a.kC,{direction:"column",gap:1,children:[(0,s.jsx)(a.xu,{marginBottom:3,marginTop:3,children:(0,s.jsx)(a.iz,{})}),(0,s.jsx)(a.xu,{marginBottom:1,marginTop:1,children:(0,s.jsx)(a.X6,{size:"400",children:v._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")})}),(0,s.jsx)(a.xu,{marginBottom:4,children:(0,s.jsx)(a.xv,{children:(0,p.nk)(v._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:(0,s.jsx)(a.xv,{inline:!0,children:(0,s.jsx)(a.rU,{inline:!0,href:m,onClick:()=>{S({event_type:101,component:13756,element:12058})},target:"blank",children:v._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var T=n(379771),g=n(456168),y=n(952733);function S({pinId:e,onDismiss:t}){var n,r,a,l;const{logContextEvent:d}=(0,_.v)(),{locale:c}=(0,y.B)(),{country:u=""}=(0,g.Z)(),p=(0,T.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),h=(0,T.Z)({name:"LocalesResource"}),E=(0,o.useSelector)((({pins:t})=>t[e]));(0,i.useEffect)((()=>{d({event_type:120,component:13756})}),[d]);const{ad_targeting_attribution:m,promoter:I}=null!=E?E:{},{is_age_matched:S=!1,is_behavior_targeting_matched:v=!1,is_customer_list_matched:P=!1,is_geo_postal_code_matched:x=!1,is_geo_region_matched:A=!1,is_shopping_retargeting_matched:R=!1}=null!==(n=function(e=null,t=4){return e&&Object.keys(e).filter((t=>"boolean"==typeof e[t])).slice(0,t).reduce(((t,n)=>({...t,[n]:e[n]})),{})}(m))&&void 0!==n?n:{},b=null!==(r=null==I?void 0:I.full_name)&&void 0!==r?r:"",O=function(e,t){var n;const{name:i=""}=null!==(n=e.find((e=>e.key===t)))&&void 0!==n?n:{};return i}(null!==(a=p.data)&&void 0!==a?a:[],u),N=function(e,t){var n;const{name:i=""}=null!==(n=e.find((e=>e.key===t)))&&void 0!==n?n:{};return i}(null!==(l=h.data)&&void 0!==l?l:[],c);return(0,s.jsx)(f,{brandName:b,country:O,language:N,isAgeMatched:S,isBehaviorTargetingMatched:v,isCustomerListMatched:P,isGeoPostalCodeMatched:x,isGeoRegionMatched:A,isShoppingTargetingRematched:R,onDismiss:t})}var v=n(248240),P=n(813973),x=n(394465),A=n(30813),R=n(887196),b=n(879268),O=n(778423),N=n(656831),C=n(716975),w=n(11874),D=n(834375),L=n(925927);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k={color:"white",textDecorationColor:"white"};class j extends i.Component{constructor(e){super(e),M(this,"getRecommendationDescription",(()=>{const{ad_match_reason:e,board:t,feedbackType:n,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,promoter:o,recommendationReason:r,sourceInterest:a})})),M(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:t,pinner:n,recommendationReason:i}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,l;return n&&n.explicitly_followed_by_me?(o=n.image_small_url,r="50%",l=`/${n.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",l=i&&i.board&&i.board.url||e.url),o?(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden",children:(0,s.jsx)(a.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,s.jsx)(a.zd,{height:40,wash:!0,width:40,children:(0,s.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),M(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:t,pinner:n,sourceInterest:i}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:n,sourceInterest:i})})),M(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):"")),M(this,"feedbackHelpers",(0,C.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:p.nk})),M(this,"makeNavigateLink",((e,t,n,i)=>{const o={display:"inline",...i?k:{}};return(0,s.jsx)(a.rU,{onClick:this.props.onLinkClick,role:"link",href:t,inline:!0,children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o},children:n})},e)})),M(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:this.props.i18n._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),M(this,"hidePinOption",(e=>{const{feedbackData:t,feedbackType:n,pinId:i,recommendationReason:o}=this.props,r="search"===n?973:982,{action:a,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:n,pinId:i,recommendationReasonId:o&&o.reason&&O.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===n?4:10,throughId:o&&(0,C.yl)(o),throughProperties:o&&(0,C.XZ)(o),clientTrackingParams:(0,v.Z)(i)}),l=this.props.i18n._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:a,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:this.props.i18n._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}})),M(this,"stopRecommendationOption",(()=>{const{feedbackData:e,feedbackType:t,pinId:n,recommendationReason:i}=this.props,{board:o,reason:r}=null!=i?i:{},a=r&&O.ReasonToChoose[r],s=i&&(0,C.yl)(i),l=i&&(0,C.XZ)(i),d="pfyBoard"===t,{action:c,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:a,pinFeedbackType:d?2:4,throughId:s,throughProperties:l,clientTrackingParams:(0,v.Z)(n)}),_=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:c,actionOptions:u,feedbackText:{subTitle:d&&o?(0,p.nk)(this.props.i18n._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:_}):this.props.i18n._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:d&&o?(0,p.nk)(this.props.i18n._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):this.props.i18n._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}})),M(this,"unfollowBoardOption",(()=>{var e,t;const{board:n}=this.props,i=n?this.makeNavigateLink("boardUrl",null!==(e=n.url)&&void 0!==e?e:"",null!==(t=n.name)&&void 0!==t?t:"",!0):"",o=(0,p.nk)(this.props.i18n._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),r=(0,p.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:i});return{action:"unfollowBoard",actionOptions:{board_id:null==n?void 0:n.id},feedbackText:{title:"",subTitle:r},text:o,description:(0,p.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==n?void 0:n.name}),elementType:10614}})),M(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:n="",url_name:i=""}=e,o=`/topics/${i}`,r=this.makeNavigateLink("topicUrl",o,n,!0),a=(0,p.nk)(this.props.i18n._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:n}),s=(0,p.nk)(this.props.i18n._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:b.X},feedbackText:{title:"",subTitle:s},text:a,description:(0,p.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null})),M(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:t,username:n,full_name:i}=null!=e?e:{},o=`/${n}`,r=e?this.makeNavigateLink("pinnerUrl",o,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:(0,p.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:(0,p.nk)(this.props.i18n._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:this.props.i18n._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}})),M(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836}))),M(this,"_pinFeedbackText",(()=>{const{location:e,feedbackType:t,hideDownload:n,pinner:i}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),a=(o||"topic"===t)&&!r,s=this.hidePinOption(a),l=this.reportPinOption(),d="promoted"!==t&&!n;switch(t){case"followed":const e=r,n=!e&&this.getRecommendationDescription(),o=null!=i&&i.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...n?{description:n}:{},options:[s,...a||e?[o]:[],..."promoted"!==t?[this.downloadPinOption()]:[],l]};case"promoted":const{pinId:c,showAdReasonsModal:u}=this.props,p=[s,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:()=>{u(c)}},l];return{description:this.getRecommendationDescription(),options:p};case"topic":const _=this.unfollowTopicOption(),h=[s,...a&&_?[_]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":const E=[s,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:E};default:const m=[s,...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:m}}})),M(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:t,promoter:n}=this.props,i=e?null:this.getUnfollowAction();return t&&null!=n&&n.full_name?{title:"",subTitle:(0,p.nk)(this.props.i18n._("{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.","webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle","Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin."),{promoter:n.full_name})}:i?{title:"",subTitle:this.getRecommendationDescription(),unfollow:i}:{title:"",subTitle:this.props.i18n._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}));const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,D.t)(t.action,t.actionOptions,n)}onPinHide(e,t,n,i){const{hidePinFeedback:o,onHide:r,pinId:a,showPinFeedback:s,showPinFeedbackOverlay:l,showPinFeedbackUndo:d,viewParameter:c,viewType:u,logContextEvent:p}=this.props;t&&n&&i?d(a,e,(0,C.EF)(n,i,a,u,c,o,p),this.getUndoText(i)):s(a,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?r():(this.setState({showSecondary:!0}),l(a))}handleClickLogging(e,t={}){const{feedbackType:n,viewParameter:i,viewType:o,logContextEvent:r}=this.props;r({event_type:101,view_type:o,view_parameter:i,element:e,component:(0,C.nb)(n),aux_data:{...t}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:n,viewType:i,viewParameter:o,logContextEvent:r,isWindowsPwa:l}=this.props,{pinFeedbackConfig:d}=this.state,{options:c}=d,u=[],p=c.length;for(let _=0;_<p;_+=1){const d=c[_],p=D.P.includes(d.action),h=d.callback?d.callback:()=>this.onPinHide(d.feedbackText,p,d.actionOptions,d.action);if("downloadPin"!==d.action){const e=(0,x.Z)({url:d.link||""});let t="";Array.isArray(d.text)?t=d.text.join(""):"string"!=typeof d.text&&"number"!=typeof d.text||(t=d.text.toString()),u.push(d.link?(0,s.jsx)(a.Lt.Link,{href:d.link,isExternal:e,option:{value:d.action||"",label:t},dataTestId:d.dataTestId||""}):(0,s.jsx)(a.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,d,h),option:{value:d.action||"",label:t},dataTestId:d.dataTestId||""}))}else if(!e&&!1===l){const{bestPinImgSrc:e,pinTitle:l,pinDescription:d,pinCategory:c}=this.props;u.push((0,s.jsx)(a.Lt.Item,{onSelect:()=>{(0,P.Z)({category:c,filename:l||d,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:n,viewParameter:o,viewType:i},r)},option:{value:"downloadImage",label:this.props.i18n._("Download image","pinRep.pinFeedbackDropdown.downloadImage","Label to download the pin image")}}))}}return u}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{anchor:n,onDismiss:o,feedbackData:r,feedbackType:l,hideAdReasonsModal:d,pinId:c,onHide:u,recommendationReason:p,showAdReasons:_,viewParameter:h,viewType:E}=this.props,{description:m}=e,I=this.getRecommendationDescriptionImage();return(0,s.jsxs)(i.Fragment,{children:[t?(0,s.jsx)(A.Z,{anchor:n,feedbackData:r,feedbackType:l,pinId:c,onDismiss:o,onHide:u,recommendationReason:p,viewParameter:h,viewType:E}):(0,s.jsx)(a.Lt,{anchor:n,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:R.lI,headerContent:m&&(0,s.jsxs)(a.kC,{alignItems:"center",children:[(0,s.jsx)(a.xu,{"data-pin-recommendation-reason":null==p?void 0:p.reason,maxHeight:56,overflow:"hidden",children:(0,s.jsx)(a.xv,{color:"default",overflow:"normal",size:"200",children:m})}),I]}),children:this.renderButtons()}),_&&(0,s.jsx)(S,{onDismiss:()=>d(c),pinId:c})]})}}const G=(0,o.connect)(null,(e=>({hidePinFeedback:t=>e((0,w.I1)(t)),showPinFeedback:(t,n)=>e((0,w.ZP)(t,n)),showPinFeedbackOverlay:t=>e((0,w.Ib)(t)),showPinFeedbackUndo:(t,n,i,o)=>e((0,w.NA)(t,n,i,o)),showAdReasonsModal:t=>e((0,w.b9)(t)),hideAdReasonsModal:t=>e((0,w.yj)(t))})))((function(e){const{logContextEvent:t}=(0,_.v)(),n=(0,u.ZP)(),{ad_targeting_attribution:i,show_ad_reasons:r=!1}=(0,o.useSelector)((({pins:t})=>t[e.pinId])),a=(0,N.kf)();return(0,s.jsx)(j,{...e,showAdReasons:r,adTargetingAttribution:i,history:(0,L.k6)(),i18n:n,isWindowsPwa:a,location:(0,L.TH)(),logContextEvent:t})}))},30813:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(710159),o=n(834375),r=n(883119),a=n(887196),s=n(123686),l=n(778423),d=n(539195),c=n(716975),u=n(785893);function p({anchor:e,feedbackData:t,feedbackType:n,pinId:p,onDismiss:_,onHide:h,recommendationReason:E,viewParameter:m,viewType:I}){const{logContextEvent:f}=(0,d.v)(),T=(0,i.ZP)(),g=(0,c.ZP)({i18n:T,interpolateNamedTemplate:s.nk}),y=(e,i)=>{const r=E&&E.reason&&l.ReasonToChoose[E.reason],a=E&&(0,c.yl)(E),s=E&&(0,c.XZ)(E),{action:d,actionOptions:u}=g.getHidePinAction({feedbackData:t,feedbackType:n,pinId:p,recommendationReasonId:r,throughId:a,throughProperties:s,complaintReason:e});(e=>{f({event_type:101,view_type:I,view_parameter:m,element:e,component:(0,c.nb)(n)})})(i),(0,o.t)(d,u),h()},S="promoted"===n?[{text:T._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:T._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:T._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:T._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:T._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:T._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:T._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:T._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return(0,u.jsx)(r.Lt,{anchor:e,idealDirection:"down",onDismiss:_,zIndex:a.lI,id:"pin-action-dropdown",children:(0,u.jsx)(r.Lt.Section,{label:T._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback"),children:S.map((({text:e,reason:t,elementType:n})=>(0,u.jsx)(r.Lt.Item,{onSelect:()=>y(t,n),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},98775:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),o=n(294184),r=n.n(o),a=n(443109),s=n(394465),l=n(514183),d=n(710159),c=n(883119),u=n(785893);class p extends i.Component{constructor(...e){var t,n,i;super(...e),i={showBoardName:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:n,name:o,shouldUseLegoStyles:d,type:p,url:_}=this.props;if(d&&t)return null;const h="boardless"===p?this.props.i18n._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):o;let E,m;if(!n||e||d){const e=d?(0,u.jsx)(c.xv,{color:"inverse",size:"300",weight:"bold",children:h.length<=20?h:(0,l.Z)(h,20)}):(0,u.jsx)(c.X6,{color:"inverse",size:"400",lineClamp:1,children:h}),t=(0,s.Z)({url:_})?"nofollow":"none";E=_?(0,u.jsx)(c.rU,{rel:t,href:_,children:e}):e}else E=(0,u.jsx)(c.xv,{color:"inverse",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return n&&(m=e?"board":"saved"),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(a.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,u.jsx)("div",{"data-test-id":"savedInfo",className:!d&&r()("SavedAnimation",m),children:E})]})}}const _=function(e){const t=(0,d.ZP)();return(0,u.jsx)(p,{...e,i18n:t})}},285392:(e,t,n)=>{n.d(t,{Y:()=>s,Z:()=>u});var i=n(710159),o=n(539195),r=n(883119),a=n(785893);const s=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],l={component:210,view_type:4,view_parameter:3106},d={view_type:5,view_parameter:3069},c={component:13668,view_type:4,view_parameter:3106};function u({pinId:e,surface:t}){const{logContextEvent:n}=(0,o.v)(),u=(0,i.ZP)(),p=()=>{const e=s.includes(t)?c:"BaseBoardPinGrid"===t?d:"UserProfilePinGrid"===t?l:{};n({event_type:101,element:10573,...e})},_=u._("See more stats","pinRep.actionBar.seeStatsButton","Button that will re-direct user to detailed stats page");return(0,a.jsx)(r.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:s.includes(t)?(0,a.jsx)(r.zx,{role:"link",accessibilityLabel:u._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This button will take the user to their detailed pin stats page for the pin"),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:p,size:"sm",text:(h=_,h.length>14?`${h.substring(0,12).trim()}...`:h)}):(0,a.jsx)(r.hU,{role:"link",accessibilityLabel:u._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This icon button will take the user to their detailed pin stats page for the pin"),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:p,size:"sm"})});var h}},588028:(e,t,n)=>{function i(e,t){const n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,{Z:()=>i})},238235:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(475559);function o(e){return i.zI.includes(e)}},578895:(e,t,n)=>{n.d(t,{Z:()=>oe});var i=n(667294),o=n(966338),r=n(235198),a=n(377097),s=n(475559);function l({isGroupBoard:e,pin:t,surface:n}){const{carousel_data:i,grid_title:o,rich_summary:r,title:l}=t,{isOwnPin:d,isPromoted:c}=(0,a.Z)(t);if(i){const{carousel_slots:e=[],index:t=0}=i;if(e[t]&&e[t].title)return e[t].title.trim()}if(c){if(s.ZF.includes(n))return o||"";if(d&&!e&&!i&&"UserProfilePinGrid"!==n)return"";const t=r&&"mobile application"!==r.type_name&&r.display_name;return l||t||o||""}return o||""}var d=n(8720);const c=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=n(706713),p=n(235744),_=n(238098);const h=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function E({attributionOption:e,board:t,contentType:n,experimentsClient:i,feedbackData:o,feedbackType:r,hasCarouselData:s,inMsgPinCardUpdateExp:d=!1,isGroupBoard:c,isORBACProfileManager:E,isOwnBoard:m,pin:I,searchResultNewIdeaPinStyle:f=!1,showImageOnly:T,showNativeReactions:g,showPromotedShoppingPrice:y,surface:S,viewer:v}){var P;const{isPromoted:x,isSponsored:A}=(0,a.Z)(I),{pin_note:R}=I,b=function({attributionOption:e,feedbackType:t,isGroupBoard:n,pin:i,showImageOnly:o,surface:r,inMsgPinCardUpdateExp:a=!1}){const{is_downstream_promotion:s,native_creator:l,promoter:d,sponsorship:c,story_pin_data_id:u}=i;if("promoted"===t||d&&!s||c)return"default";if((!a||"ConversationView"!==r)&&h.includes(r))return"none";if(n)return"none";let p="default";return"SearchItem"===r&&u?p:(e&&("image-only"===e?p="image-only-credit":"hide"===e&&(p="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?p:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":l?"default":"none":p)}({attributionOption:e,feedbackType:r,isGroupBoard:c,pin:I,showImageOnly:T,surface:S,inMsgPinCardUpdateExp:d}),O=T?"":l({isGroupBoard:c,pin:I,surface:S}),N=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(S)&&!x&&!T&&Boolean((0,u.Z)(I,S)),C=["ShoppingGridShippedMetadataWithVisitButton"].includes(S),w="BaseBoardPinGrid"===S&&R?null===(P=R.text)||void 0===P?void 0:P.trim():null,D=x,L="shopping"===n,M=/ShoppingSquareGridRelatedProducts/.test(S);let k=2;x?k=3:(N||"none"!==b)&&(k=L||M?2:1);let j,G,B,U;if(L||(x&&M||y)){var F,H;const e=null===(F=I.rich_summary)||void 0===F||null===(H=F.products)||void 0===H?void 0:H[0],{offer_summary:t}=e||{};j=t?t.standard_price:void 0,G=t?t.price||t.max_price:void 0}if(L&&!x){var Z,V,W;const{rating_count:e,rating_value:t,review_count:n}=(null===(Z=I.rich_summary)||void 0===Z?void 0:Z.aggregate_rating)||{};(e||n)&&parseFloat(t)&&(B={count:e||n,rating:t}),U=null===(V=I.rich_metadata)||void 0===V||null===(W=V.products)||void 0===W?void 0:W[0].shipping_info}const Y=(0,_.rh)(I,v,i),z="CreatorProfileStoryPinGrid"===S||"CreatorProfileActivityPinGrid"===S,K=!z,X=c&&!A;return{attributionDisplay:f?"overlay":"default",attributionType:b,board:t,contentType:n,feedbackData:o,feedbackType:r,pinNoteText:w,pinTitle:O,productCurrentPrice:G,productOriginalPrice:j,productRating:B,productShipping:U,reactionAlignment:f?"center":"start",showCarouselEllipsis:s,showFavoriteButton:!E&&("BaseBoardPinGrid"===S&&m||Boolean((null==t?void 0:t.is_collaborative)&&(0,p.Z)({board:t,viewer:v})))&&!z,showGroupBoardAvatar:X,showNativeReactions:g,showOverflowMenu:D,showPinStats:Y,showSource:N,showTextContent:K,showTitle:!f,showVerifiedIcon:!!f,showVisitSiteButton:C,titleLines:k}}var m=n(620831),I=n(982844),f=n(20814),T=n(134413),g=n(388481);const y=["ShoppingCatalogsProductsMetadata"];const S=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],v=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var P=n(588028),x=n(53930),A=n(866104),R=n(497959),b=n(629037),O=n(584230),N=n(22192),C=n(622263),w=n(309892),D=n(238235),L=n(741874),M=n(710159),k=n(625983),j=n(385894),G=n(456168),B=(n(883119),n(285392)),U=n(483050),F=n(251890),H=n(406335),Z=n(4216),V=n(713751),W=n(727853),Y=n(673504),z=n(715342),K=n(227447),X=n(141063),$=n(670641),q=n(112978),J=n(907683),Q=n(925927),ee=n(785893);const te=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(69965),n.e(15833),n.e(92982)]).then(n.bind(n,755255)))),ne=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],ie=["BaseBoardPinGrid","UserProfilePinGrid",...B.Y];const oe=(0,o.connect)((function({boards:e,pins:t},{pin:n,pinId:i}){const o=t[i]||n,r=o.board&&o.board.id,a=(r?e[`${r}`]:void 0)||o.board;return o.grid_title=o.grid_title||n.grid_title,{board:a,reduxPin:o}}),(()=>({})))((function({attributionOption:e,blockClickEvents:t,board:n,debugImpressionState:u,feedbackOptions:p,imageOnlyOption:h="default",pinImageCrop:B,pinImageFit:oe,reduxPin:re,resolution:ae="default",saveButtonOptions:se,surface:le,trackingParameters:de,...ce}){var ue,pe;const _e=(0,M.ZP)(),he=(0,Y.Y)(),{collaborated_by_me:Ee,collaborator_count:me,is_collaborative:Ie}=n||{},{is_quick_promotable:fe,pinner:Te,showFeedback:ge,sponsorship:ye,story_pin_data_id:Se}=re,{isPromoted:ve}=(0,a.Z)(re),Pe=(0,C.Z)(re),xe=(0,G.Z)(),Ae=(0,k.Z)(),{anyEnabled:Re}=(0,q.tc)("web_m10n_business_access_orbac_beta_2")(),be=(0,q.tc)("dweb_search_results_idea_attribution"),{group:Oe}="SearchItem"===le?be():{},Ne=!!Se&&["enabled_blended","enabled_idea","employees"].includes(Oe),Ce=(0,Q.TH)(),{slotIndex:we,viewParameter:De}=de,{anyEnabled:Le}=(0,q.aq)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(le)),Me=(0,K.x)(),{appUI:{videosAutoplaying:ke}}=(0,W.I)(),je=(0,F.i8)(re.id,ke),Ge=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},Be=(0,N.Z)(re),Ue=(0,b.Z)(re),Fe=xe.isAuth&&xe.isEmployee,He=xe.isAuth&&((0,O.Z)(null,xe)||(0,w.Z)(null,xe))&&!xe.isPartner;let Ze=He;"TodayArticleFeed"===le&&(Ze=!1),"default"!==h&&(Ze="image-only"===h),(0,D.Z)(le)&&(Ze=!1),"ShoppingSquareGridDomainNoMetadata"===le&&(Ze=!0),ve||Se||!["enabled_blended","employees"].includes(Oe)||(Ze=!0);let Ve=e;He&&!Ve&&(Ve="image-only");const We=(0,R.Z)({feedbackOptions:p,pin:re,viewParameter:De},_e),{data:Ye}=p||{},ze="number"==typeof me&&me>0||Ie;let Ke=!1;"OtherProfilePinGrid"===le?Ke=!0:"BaseBoardPinGrid"===le?Ke="dense"===(null==Me?void 0:Me.boardPinDensity):"UserProfilePinGrid"===le&&(Ke="dense"===(null==Me?void 0:Me.profilePinDensity));const Xe=Boolean(ze&&"BaseBoardPinGrid"===le),$e=(0,j.Z)(),qe=(0,o.useSelector)((({users:e})=>{var t,n,i,o;return e&&e[null!==(t=null===(n=$e.data)||void 0===n?void 0:n.id)&&void 0!==t?t:""]?e[null!==(i=null===(o=$e.data)||void 0===o?void 0:o.id)&&void 0!==i?i:""]:$e.data})),Je=(0,P.Z)(xe,n);let Qe=!1;if(!!(0,Q.LX)(Ce.pathname,{path:"/:username/_created/",exact:!0}))Qe=(0,H.q6)(xe,null==qe?void 0:qe.id,Ae);else if((0,J.am)(Ce)||(0,J.OJ)(Ce)){const e=n&&n.owner&&n.owner.id||"";Qe=(0,H.q6)(xe,e,Ae)}const et=Boolean(xe.isAuth&&Te&&Te.id===xe.id),tt=Boolean(Ee||ze&&Je),nt=xe.isAuth&&xe.isPartner,it=(0,q.aq)("web_deleted_idea_pins",!(null===(ue=re.story_pin_data)||void 0===ue||!ue.is_deleted)).anyEnabled,ot=(0,i.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:t,surface:n}){const i={primaryContent:null,secondaryContent:null,actionBar:v.includes(n)||t?"none":"visible",accessoryContent:e?"visible":"none"};return t||S.includes(n)?(i.primaryContent="none",i.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(n)&&(i.primaryContent="visible"),i}({hasCarouselData:Ue,isDeletedStoryPin:it,surface:le})),[Ue,it,le]),rt=(0,i.useMemo)((()=>function({board:e,isDenseView:t,isGroupBoard:n,isInlineBetterSave:i,isOwnBoard:o,isORBACProfileManager:r,isQuickPromotable:a,isRemovable:l,saveButtonOptions:d,surface:c,viewer:u,viewerIsCollaborator:p}){const _=u.isAuth?u.boardCount:void 0;let h=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(_);a?h={type:"promote"}:(p||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(c))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(c)?h={type:"classic"}:(p||o)&&["BaseBoardPinGrid"].includes(c)&&null!=e&&e.name&&e.url&&e.id&&(h={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return i&&(h={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===c}),(l||y.includes(c)||r)&&(h={type:"none"}),{board:e,derivedSaveButtonOptions:h,showLikeButton:p&&n&&s.UP.includes(c),supportsReactionBar:!t}}({board:n,isInlineBetterSave:Le,isDenseView:Ke,isGroupBoard:Xe,isOwnBoard:Je,isOwnPin:et,isORBACProfileManager:Qe,isQuickPromotable:fe,isRemovable:Pe,saveButtonOptions:se,surface:le,viewer:xe,viewerIsCollaborator:tt})),[n,Le,Ke,Xe,Je,et,Qe,fe,Pe,se,le,xe,tt]),{anyEnabled:at}=(0,q.tc)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0});let st;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridRelatedProducts"].includes(le)&&!ve&&(st="white");const lt=(0,i.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:n}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.Wv.includes(n),shoppingLabelColor:t}}({allowProductCarousel:Be,shoppingLabelColor:st,surface:le})),[Be,st,le]),dt=(0,i.useMemo)((()=>function({board:e,feedbackData:t,feedbackType:n,isDenseView:i,isGroupBoard:o,isOwnBoard:s,isORBACProfileManager:u,isORBACBeta2:p,pin:_,surface:h,viewer:E}){var m;const{isOwnPin:I,isPromoted:f}=(0,a.Z)(_),T=l({isGroupBoard:o,pin:_,surface:h}),g=e&&(0,r.Z)({action:4,board:e,viewer:E})||I,y=_.savedInfo&&_.savedInfo.localPinId,S=Boolean(s&&!o||"UserProfilePinGrid"===h&&g||y),v=Boolean(o&&g||S||u&&(!(0,d.hy)(_)||p)),P=Boolean((null==e?void 0:e.is_collaborative)||S),x=!(f||s||o||c.includes(h)||u),A="CloseupRelatedProducts"!==h&&!u,{tracked_link:R,link:b}=_,O=!(null===(m=null!=R?R:b)||void 0===m||!m);let N=o&&i?"equally-spaced":"default",C="default";return i&&(C=o?"icon-only":"truncated-text"),i&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(h)&&(C="icon-only",N="equally-spaced"),{actionBarEditBeforeShare:P,feedbackData:t,feedbackType:n,layout:N,pinTitle:T,showEditButton:v,showOverflowMenu:x,showShareButton:A,showSourceLinkButton:O,sourceLinkStyle:C}}({board:n,feedbackData:Ye,feedbackType:We,isDenseView:Ke,isGroupBoard:Xe,isOwnBoard:Je,isORBACProfileManager:Qe,isORBACBeta2:Re,pin:re,surface:le,viewer:xe})),[n,Ye,We,Ke,Xe,Je,Qe,Re,re,le,xe]),ct=!Qe&&(0,_.rh)(re,xe,he)&&ie.includes(le)&&et,ut=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(le),pt=!ve&&ut?"shopping":"standard",_t="CreatorProfileStoryPinGrid"===le?et&&(0,U.J6)(re,it):(0,U.J6)(re,it),ht=(0,q.tc)("web_ag_msg_pin_card_update"),Et="ConversationView"===le&&ht({dangerouslySkipActivation:!0}).anyEnabled,mt=(0,i.useMemo)((()=>E({attributionOption:Ve,board:n,contentType:pt,experimentsClient:he,feedbackData:Ye,feedbackType:We,hasCarouselData:Ue,inMsgPinCardUpdateExp:Et,isGroupBoard:Xe,isORBACProfileManager:Qe,isOwnBoard:Je,pin:re,searchResultNewIdeaPinStyle:Ne,showImageOnly:Ze,showNativeReactions:_t,showPromotedShoppingPrice:at&&ve&&ut,surface:le,viewer:xe})),[Ve,n,pt,he,Ye,We,Ue,Et,Xe,Qe,Je,ve,ut,re,Ne,at,Ze,_t,le,xe]),It=!!re.story_pin_data_id,ft=re.created_at?new Date(re.created_at):null,Tt=(0,z.pN)({isOwnPin:et,isStoryPin:It,pinCreationDate:ft,surface:le});let gt=Boolean(mt.pinTitle||mt.contentType||mt.userNote||mt.showSource||"none"!==mt.attributionType||mt.showNativeReactions||mt.productCurrentPrice||mt.productOriginalPrice||mt.showPinStats)||Xe;"BaseBoardPinGrid"===le&&Je&&nt||ye?gt=!0:ne.includes(le)||Ke&&(Je||Ee)?gt=!1:et||"CreatorProfileStoryPinGrid"!==le&&"CreatorProfileActivityPinGrid"!==le||(gt=!1);const yt=Boolean(ge),St=(0,q.tc)("web_others_board_feed_ads_border"),vt={showNoPinBorderRadius:"TopicBestPinNarrow"===le||"TopicBestPinWide"===le||Et&&"ConversationView"===le,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===le&&ve&&St().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:Pt}=(0,q.aq)("hfp_homefeed_control_cta_variants"),xt={feedbackType:We,isHomefeedTunerVariantExp:Pt},{anyEnabled:At}=(0,q.tc)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),Rt=(0,i.useMemo)((()=>function({hasCarouselData:e,isDenseView:t,isSocialSeasonalBoard:n,pinImageCrop:i,pinImageFit:o,resolution:r,showPromotedVideos:a,surface:l}){const d=s.zl.includes(l);let c="backend";"CloseupRelatedProducts"===l?c={height:g.GZ,width:g.OE}:"TopicBestPinWide"===l?c={height:T.m9,width:T.BS}:"TopicBestPinNarrow"===l?c={height:T._5,width:T.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(l)||d?c={height:g.zX,width:g.zX}:i&&(c=i);let u="none",p=null!=r?r:"default";"string"!=typeof c&&(u="cover",(d||"ShoppingDynamicHeightGrid"===l&&!o||"ShoppingSquareGridDomainNoMetadata"===l)&&(u="contain",p="high-res"));const _=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",h=(0,I.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===f.Xb.getItem(m.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:_,imageFit:u,isDenseView:t,isSocialSeasonalBoard:n,resolution:p,rootMargin:h,pinImageCrop:c,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:a}}({hasCarouselData:Ue,isDenseView:Ke,isPromoted:ve,isSocialSeasonalBoard:!1,pinImageCrop:B,pinImageFit:oe,resolution:ae,showPromotedVideos:At,surface:le})),[Ue,Ke,ve,B,oe,ae,At,le]),bt=Fe&&(0,$.F)(),Ot=(0,i.useMemo)((()=>({debugImpressionState:u,slotIndex:we})),[u,we]);return(0,ee.jsx)(x.Z,{name:"PinRepConfiguration",children:(0,ee.jsx)(V.B,{value:de,children:(0,ee.jsxs)(Z.B,{value:{surface:le},children:[(0,ee.jsx)(X.Z,{actionBarProps:dt,blockClickEvents:t,currentlyPlayingVideo:je,footerProps:mt,impressionsDebuggerProps:Ot,obscuredPinOverlayProps:xt,pin:re,pinVisualProps:Rt,presentationProps:vt,primaryContentProps:rt,secondaryContentProps:lt,showFooter:gt||Tt,showImpressionsDebugger:bt,showObscuredPinOverlay:yt,showSeeStatsButton:ct,showSignalDebugger:Fe,showUnavailablePin:it,surface:le,visibilityOverrides:ot,...(0,A.Z)(ce,["pinId"])}),Ge.shouldOpenModal&&Ge.newPin&&(null===(pe=Ge.originalPin)||void 0===pe?void 0:pe.id)===re.id&&(0,ee.jsx)(x.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,ee.jsx)(L.Z,{children:(0,ee.jsx)(te,{experience:Ge.experience,newPin:Ge.newPin})})})]})})})}))},141063:(e,t,n)=>{n.d(t,{J:()=>dn,Z:()=>cn});var i=n(667294),o=n(628613),r=n(53930),a=n(377097),s=n(741874),l=n(710159),d=n(952733),c=n(713751),u=n(796629),p=n(67316),_=n(361086);function h(e,t){const{carousel_data:n,domain:i,ad_destination_url:o}=e;let r=i||"";return o&&(r=(0,_.Z)(o).hostname||""),n&&n.id&&(r=function(e,t){const n=t||e&&e.index||0,i=e&&e.carousel_slots||[],o=i[n]&&i[n].link||"";return o&&(0,_.Z)(o).hostname||""}(n,t)),r.replace("www.","")}var E=n(741012),m=n(8858),I=n(531572),f=n(925927),T=n(883119),g=n(785893);const y={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function S({pin:e,sourceLinkStyle:t,surface:n,url:o}){const r=(0,l.ZP)(),[a,s]=(0,i.useState)(!1),{id:d}=e,_=h(e),S=(0,f.TH)(),v=(0,I.Kl)(e)||{},{slotIndex:P}=(0,c.E)(),x=(0,p.Z)(e,S),A=(0,m.Z)(12,{object_id_str:d,clientTrackingParams:x,aux_data:{grid_index:P,...(0,I.Kl)(e)||{}}}),R=(0,m.Z)(101,{element:162,object_id_str:d,clientTrackingParams:x,aux_data:{...(0,I.Kl)(e)||{}}}),b=(0,m.Z)(8948,{object_id_str:d,clientTrackingParams:x,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:P,...(0,I.Kl)(e)||{}}}),O=()=>{A(),R(),b()},N=(0,E.Z)({href:o,target:"blank",externalData:{auxData:v,pin:e,surface:n}});return"icon-only"===t?(0,g.jsx)(T.hU,{accessibilityLabel:r._("link","Website url link","Website url link"),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),O(),N({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{...y.container,...a?y.containerHovered:Object.freeze({}),..."truncated-text"===t?y.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),position:"relative",children:(0,g.jsx)(u.Z,{hovered:a,pin:e,slotIndex:P,viewType:1,children:(0,g.jsx)(T.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),O(),N({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,g.jsxs)(T.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:y.text},display:"flex",justifyContent:"between",children:[(0,g.jsx)(T.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,g.jsx)(T.JO,{accessibilityLabel:r._("link","Website url link","Website url link"),color:"default",icon:"arrow-up-right",size:9})}),(0,g.jsx)(T.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,g.jsx)(T.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:_})})]})})})})}const v=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(88299),n.e(71324),n.e(48035)]).then(n.bind(n,270280)))),P=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,408479)))),x=(0,i.lazy)((()=>n.e(5035).then(n.bind(n,130889))));const A=(0,i.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:n,layout:u,onToggleFlyout:p,pin:_,pinTitle:h,setForcePrimary:E,showEditButton:m,showOverflowMenu:I,showShareButton:f,showSourceLinkButton:y,sourceLinkStyle:A,surface:R}){var b,O;const N=(0,l.ZP)(),C=(0,T.JZ)(),{isRTL:w}=(0,d.B)(),{viewParameter:D,viewType:L}=(0,c.E)(),{carousel_data:M,id:k,savedInfo:j,tracked_link:G,link:B,ad_destination_url:U}=_,F=null!==(b=null!==(O=null!=U?U:G)&&void 0!==O?O:B)&&void 0!==b?b:"",{isLeadPin:H}=(0,a.Z)(_),[Z,V]=(0,i.useState)(m),[W,Y]=(0,i.useState)(m),[z,K]=(0,i.useState)(m),X={...w?{marginLeft:m&&I?-44:0}:{marginRight:m&&I?-44:0},transition:w?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},$={opacity:z?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},q={...w?{marginRight:W?4:0}:{marginLeft:W?4:0},transition:w?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,i.useEffect)((()=>{let e;return m&&I?(Y(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{V(!0),requestAnimationFrame((()=>{K(!0)}))}))}),800)):(Y(m),V(m),requestAnimationFrame((()=>{K(m)}))),()=>{clearTimeout(e)}}),[m,I]);let J=null;y&&(J=(0,g.jsx)(o.Z,{children:H?(0,g.jsx)(T.zx,{role:"button",accessibilityLabel:N._("Link for closeup view and sign up","[m10n] pinRep.actionBar.signup","Content for sign up link"),size:"sm",text:N._("Sign up","[m10n] pinRep.actionBar.signup","Content for sign up link")}):(0,g.jsx)(S,{pin:_,sourceLinkStyle:A,surface:R,url:F})}));const Q=f&&(0,g.jsx)(r.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,g.jsx)(s.Z,{children:(0,g.jsx)(T.xu,{"data-test-id":"send-share-link",children:(0,g.jsx)(o.Z,{children:(0,g.jsx)(x,{pin:_,setForcePrimary:E})})})})}),ee=Boolean(null==j?void 0:j.localPinId)?null==j?void 0:j.localPinId:k,te=Z&&(0,g.jsx)(r.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,g.jsx)(s.Z,{children:(0,g.jsx)(T.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:C?void 0:{__style:$},children:(0,g.jsx)(o.Z,{children:(0,g.jsx)(v,{carouselSlotCurrentIndex:M&&M.index,component:0,onToggleModal:p,pinId:ee,style:{size:"sm"},view:L,viewParameter:D,useLegoStyles:!0})})})})});return"equally-spaced"===u?(0,g.jsxs)(T.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:J}),e?te:Q,e?Q:te]}):(0,g.jsxs)(T.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,g.jsx)(T.xu,{flex:"shrink",children:J}),(0,g.jsx)(T.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:C?void 0:{__style:X},children:(0,g.jsxs)(T.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[e?te:Q,e?Q:te,I&&(0,g.jsx)(r.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,g.jsx)(s.Z,{children:(0,g.jsx)(T.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:C?void 0:{__style:q},children:(0,g.jsx)(o.Z,{children:(0,g.jsx)(P,{feedbackData:t,feedbackType:n,pin:_,pinTitle:h,setForcePrimary:E})})})})})]})})]})}));var R=n(966338),b=n(850770),O=n(255948),N=n(539195);function C({direction:e,swipeHandler:t}){const n=(0,l.ZP)(),i={left:n._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:n._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return(0,g.jsx)(T.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,g.jsx)(T.iP,{fullHeight:!0,fullWidth:!0,onTap:t,children:(0,g.jsx)(T.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,g.jsx)(T.JO,{accessibilityLabel:i[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}const w=(0,R.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,n)=>e((0,O.yR)(t,n))}}))((({pin:e,changeCarouselSlotIndex:t})=>{const{logContextEvent:n}=(0,N.v)(),{componentType:i,viewParameter:r,viewType:a}=(0,c.E)(),s=(0,b.Z)({pin:e});if(!s)return null;const{id:l=""}=e,{carousel_slots:d=[],index:u=0,id:p}=s;function _(o){return()=>{const s="left"===o?u-1:u+1;t(l,s),((t=0,o)=>{n({event_type:108,object_id_str:l,component:i,view_type:a,view_parameter:r,event_data:{pinCarouselSlotEventData:{carouselSlotId:d[t]&&Number(d[t].id),carouselDataId:Number(p),carouselSlotIndex:t,toCarouselSlotIndex:o}},aux_data:{...(0,I.Kl)(e)||{}}})})(u,s)}}return(0,g.jsxs)(T.xu,{height:"100%",position:"relative",width:"100%",children:[u>0&&(0,g.jsx)(o.Z,{children:(0,g.jsx)(C,{direction:"left",swipeHandler:_("left")})}),u<d.length-1&&(0,g.jsx)(o.Z,{children:(0,g.jsx)(C,{direction:"right",swipeHandler:_("right")})})]})}));var D=n(606348),L=n(156575);function M({accessibilityLabel:e,attributionNameLink:t,avatarUrl:n,fullWidth:i=!0,name:o="",onClick:r,outline:a=!1,size:s=32}){const l=(0,g.jsx)(T.xu,{"data-test-id":"attribution-avatar",height:s,width:s,children:(0,g.jsx)(L.Z,{name:o,src:n,accessibilityLabel:e,outline:a})});return t?(0,g.jsx)(T.iP,{fullWidth:i,role:"link",href:t,onTap:r,children:l}):l}var k=n(112978);function j({isHover:e,attributionNameLink:t,name:n,onClick:i,regularWeight:o}){const{anyEnabled:r}=(0,k.aq)("web_disable_ads_blocker",!t);return(0,g.jsx)(T.xu,{children:(0,g.jsx)(T.xv,{underline:e,size:"200",lineClamp:1,weight:o?"normal":"bold",children:t?(0,g.jsx)(T.rU,{onClick:i,href:t,children:n}):r?(0,g.jsx)("span",{children:n}):n})})}function G({isHover:e,link:t,onClick:n,title:i,weight:o}){return i?(0,g.jsx)(T.xv,{inline:!0,underline:e,size:"200",weight:o,children:t?(0,g.jsx)(T.rU,{onClick:n,href:t,children:i}):i}):null}var B=n(151479),U=n(321762);function F({attributionNameLink:e,attributionTitle:t,avatarUrl:n,display:o="default",isPromotedByPinCreator:r,pin:s,name:l,url:d,verifiedIdentity:c,isVerifiedMerchant:u}){const p=(0,U.f)(),[_,h]=(0,i.useState)(!1),{id:E,sponsorship:I,story_pin_data_id:f}=s,{isPromoted:y}=(0,a.Z)(s),{creator:S}=I||{},{id:v}=S||{},P=!!f,x=(0,m.Z)(101,{view_type:3,element:y?283:27,object_id_str:E,component:P?230:void 0,aux_data:{...v?{creator_id:v,pin_id:E}:{}}}),A=()=>{p.setMostRecentPinId(E),x()},R=()=>{h((e=>!e))},b=d&&!e,O="overlay"===o,N=(0,g.jsxs)(T.xu,{alignItems:"center",display:O?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,g.jsx)(T.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:O?"flex":void 0,justifyContent:"center",children:(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:O?{__style:{marginTop:-45}}:void 0,children:(0,g.jsx)(M,{attributionNameLink:e,avatarUrl:n,name:l,onClick:()=>A(),accessibilityLabel:"",size:O?64:32,outline:O})})}),(0,g.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:O?"flex":void 0,justifyContent:"center",marginTop:O?2:void 0,children:[(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,g.jsxs)(T.kC,{gap:1,children:[(0,g.jsx)(j,{attributionNameLink:e,name:l,onClick:()=>A(),regularWeight:!(y&&!I||r),isHover:_}),(0,g.jsx)(B.Z,{size:"sm",hasVerifiedIdentity:c,isVerifiedMerchant:u})]})}),(0,g.jsx)(G,{isHover:_,title:t,weight:"normal"})]})]});return b?(0,g.jsx)(T.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),A()},href:d,onMouseEnter:R,onMouseLeave:R,children:N}):N}var H=n(613239),Z=n(588028),V=n(251483),W=n(902339),Y=n(222421),z=n(456168),K=n(277243),X=n(130510),$=n(816458),q=n(712611);function J({board:e,favoriteCount:t,favorited:n,pinId:o}){const{logContextEvent:r}=(0,N.v)(),a=(0,R.useDispatch)(),{slotIndex:s}=(0,c.E)(),{currentFilter:l,eligibleFilters:d,refreshData:u=(()=>{}),sectionId:p,setShowExperienceTooltip:_}=(0,q.s)(),h=(0,i.useRef)(null),E=(0,z.Z)(),m=(0,Z.Z)(E,e),I=l===X.Ac&&(!t||1===t),f=(0,K.E)(d,X.Ac),y=e=>{r({event_type:101,component:0,element:e?12225:12226,object_id_str:o,view_type:5,view_parameter:m?3069:3070})};return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(T.xu,{ref:h,children:(0,g.jsx)(W.Z,{favorited:n,favoriteCount:t,onFavorite:()=>{y(!0),f&&u(),_&&_(!0)},onUnfavorite:()=>{y(!1),e&&I&&a((0,Y.Z)({feedId:p||e.id,feedType:p?$.DV.SECTION_PINS:$.DV.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),h&&!n&&!p&&0===s&&(0,g.jsx)(T.mh,{children:(0,g.jsx)(V.Z,{anchor:h.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var Q=n(850115),ee=n.n(Q),te=n(379507),ne=n.n(te),ie=n(637956),oe=n.n(ie),re=n(568594),ae=n(909745),se=n.n(ae),le=n(128206),de=n.n(le),ce=n(483050);const ue={goodIdea:ee(),love:oe(),thanks:se(),wow:de(),haha:ne()},pe={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},_e=["CreatorProfileStoryPinGrid"];const he=function({alignment:e="start",pinId:t,pinner:n,reactionCounts:i,surface:o}){const r=(0,z.Z)(),a=i?(0,ce.At)(i):null,s=i?(0,ce.Ud)(i):0,l=Boolean(r.isAuth&&(null==n?void 0:n.id)===r.id),d=!!a&&a.length>0&&a.map(((e,t)=>{const n=ue[pe[e]];return(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,g.jsx)(T.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${n})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),c=!!d&&(0,g.jsx)(T.iP,{role:"link",href:`/pin/${t}/`,children:(0,g.jsxs)(T.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,g.jsx)(T.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,g.jsx)(T.xu,{paddingX:1,children:(0,g.jsx)(T.xv,{size:"200",children:(0,g.jsx)(re.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),u=l&&_e.includes(o)&&(0,g.jsx)(T.xu,{height:24});return c||u};var Ee=n(599797),me=n(248252);function Ie({feedbackType:e,pin:t}){const n=(0,l.ZP)(),{pinner:i,source_interest:o}=t,{full_name:r,username:a}=i||{},{name:s}=o||{},d="topic"===e,c=!d&&"followed"===e,u=`/${a}/`,p=(0,me.NO)(s),_=`/search/pins/?q=${encodeURIComponent(p)}&rs=image_only_attribution`,h=d?_:u,E={topic:n._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:n._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:n._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:n._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!E)return null;if(c||d){const e=0===E.indexOf("{"),t=d?s:r,n=e?E.slice(E.indexOf("}")+1):E.slice(0,E.indexOf("{"));return e?(0,g.jsxs)(T.xu,{children:[(0,g.jsx)(T.rU,{inline:!0,href:h,children:(0,g.jsx)(T.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:t})}),(0,g.jsx)(T.xv,{inline:!0,size:"200",children:n})]}):(0,g.jsxs)(T.xu,{children:[(0,g.jsx)(T.xv,{inline:!0,size:"200",children:n}),(0,g.jsx)(T.rU,{inline:!0,href:h,children:(0,g.jsx)(T.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:t})})]})}return(0,g.jsx)(T.xu,{children:(0,g.jsx)(Ee.Z,{pin:t,children:(0,g.jsx)(T.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:E})})})}var fe=n(235744),Te=n(408479),ge=n(485394),ye=n(164271);function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ve extends i.Component{constructor(...e){super(...e),Se(this,"state",{spamCheck:null}),Se(this,"mounted",!1),Se(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:t,surface:n,url:i}=this.props;i&&t&&(0,ye.$3)({location:e,pin:t,surface:n})&&(0,ye.iw)({isMounted:this.mounted,pin:t,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:i})})),Se(this,"handleClick",(e=>{const{auxData:t,location:n,onClick:i,pin:o,pinId:r,url:a,logContextEvent:s}=this.props;(0,ye.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),i&&i(e),a&&(0,ge.h)({href:a,pinId:r,pin:o,location:n,auxData:t},s))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,url:t}=this.props;return(0,g.jsx)("a",{href:t,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}const Pe=(0,R.connect)((function({pins:e},{pinId:t}){return{pin:t&&e?e[t]:void 0}}),(()=>({})))((function(e){const{logContextEvent:t}=(0,N.v)();return(0,g.jsx)(ve,{...e,history:(0,f.k6)(),location:(0,f.TH)(),logContextEvent:t,match:(0,f.$B)()})}));function xe(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:n}=window.prefetchCompletion[e];return n?(t/n*100).toFixed(3).toString():"-1"}var Ae=n(144977),Re=n(562706);function be({children:e,componentType:t,contextLogData:n,pin:i,surface:o,viewParameter:r,viewType:a}){const{logContextEvent:s}=(0,N.v)(),l=(0,c.E)(),{ad_destination_url:d,carousel_data:u,id:p,link:_,tracked_link:h}=i;let E,m=d||h||_||"",I="one-tap-desktop";if(u){const{carousel_slots:e=[],id:t,index:n=0}=u;e[n]&&e[n].link&&(m=e[n].link),E={carousel_slot_id:e[n]&&e[n].id,carousel_data_id:t,carousel_slot_index:n},I+="-carousel"}return(0,g.jsx)(T.xu,{"data-test-id":"otpp",children:(0,g.jsx)(Ae.Z,{id:I,children:(0,g.jsx)(Pe,{auxData:E,onClick:()=>{const e=(0,Re.cv)();s({event_type:12,view_type:a||l.viewType,view_parameter:r||l.viewParameter,component:t||l.componentType,object_id_str:p,aux_data:{...n,grid_index:l.slotIndex,pin_id:p,prefetch_percentage_complete:xe(_||"")}}),s({event_type:8948,view_type:a||l.viewType,view_parameter:r||l.viewParameter,component:t||l.componentType,object_id_str:p,aux_data:{...n,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:l.slotIndex,pin_id:p,prefetch_percentage_complete:xe(_||"")}}),s({event_type:13,object_id_str:p,component:t||l.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...l.contextLogData,...n}}),s({event_type:13,...e})},pinId:p,surface:o,url:m,children:e})})})}var Oe=n(866104);function Ne(e){const{pin:t,surface:n}=e,{isOneTap:i,isVideo:o,isPromoted:r,isLeadPin:s}=(0,a.Z)(t),l=(0,k.tc)("web_no_tap_tap"),d=!s&&(i||o&&r&&l().anyEnabled)?be:Ee.Z;return(0,g.jsx)(d,{surface:i?n:void 0,...(0,Oe.Z)(e,["surface"])})}function Ce({pin:e,pinNoteText:t}){return(0,g.jsx)(Ne,{pin:e,children:(0,g.jsx)(T.xv,{lineClamp:1,overflow:"normal",size:"200",children:t})})}var we=n(238098),De=n(766279);function Le({value:e,valueFormat:t}){const n=(0,l.ZP)();return e||0===e?"TIME"===t?(0,De.Z)(e):(0,g.jsx)(re.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,g.jsx)(T.u,{idealDirection:"up",text:n._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"—"})}var Me=n(715342);function ke({pin:e}){var t;const n=(0,l.ZP)(),i=(0,z.Z)(),{isStoryPin:o,isVideo:r}=(0,a.Z)(e),s=i.isAuth&&(null===(t=e.pinner)||void 0===t?void 0:t.id)===i.id&&!e.is_repin,d=i.isAuth&&i.isPartner,c=(0,Me.iL)({isOwnPin:s,isPartner:d}),u=(0,Me.H1)({isOwnPin:s,isPartner:d}),p=e.created_at?new Date(e.created_at):null,_=(c||u)&&p&&p.getTime()<=Me.HW.getTime(),h=c?function(e){const{public_creator_analytics:t}=e,{isStoryPin:n}=(0,a.Z)(e);return n&&t?t:null}(e):function(e){const{aggregated_pin_data:t,creator_analytics:n}=e,{creator_analytics:i}=t||{},{isStoryPin:o}=(0,a.Z)(e);return!n||!o&&i?i:n}(e),E=(0,we.ZP)({isVideo:r,isStoryPin:o,i18n:n,showPublicPinStats:c,showPrivateFullScreenPinStats:u}),m=r||o?null==h?void 0:h.all_time_realtime:null==h?void 0:h["30d_realtime"];return(0,g.jsx)(T.kC,{alignItems:"stretch",justifyContent:"start",children:E.map((({align:e,displayText:t,field:n,iconType:i,iconSize:o=12,valueFormat:r})=>(0,g.jsxs)(T.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,g.jsx)(T.xu,{display:"inlineBlock",marginEnd:1,children:(0,g.jsx)(T.JO,{accessibilityLabel:t,color:"default",icon:i,size:o})}),(0,g.jsx)(T.xv,{inline:!0,size:"200",children:(0,g.jsx)(Le,{value:"full_screen_play"===n&&_?null:null==m?void 0:m[n],valueFormat:r})})]},n)))})}function je({currentPrice:e,originalPrice:t,pin:n,surface:i}){const o=t&&t!==e;return(0,g.jsx)(Ne,{pin:n,surface:i,children:(0,g.jsxs)(T.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,g.jsx)(T.xv,{color:o?"shopping":"subtle",size:"200",weight:"bold",children:e}),o&&(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,g.jsx)(T.xv,{color:"subtle",size:"200",weight:"bold",children:t})})]})})}var Ge=n(819086),Be=n(706713);function Ue({pin:e,surface:t}){return(0,g.jsx)(Ne,{pin:e,surface:t,children:(0,g.jsx)(T.kC,{alignItems:"stretch",justifyContent:"start",children:(0,g.jsx)(T.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:(0,Be.Z)(e,t)})})})}var Fe=n(815350);function He({numberOfLines:e=2,pin:t,pinTitle:n,surface:i}){return(0,g.jsx)(T.xv,{color:"default",lineClamp:e,size:"200",weight:"bold",children:(0,g.jsx)(Ne,{pin:t,surface:i,children:n})})}var Ze=n(187828);const Ve={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Ze.X}ms ease`},visible:{opacity:1}}};function We({attributionDisplay:e,attributionType:t,board:n,feedbackData:o,feedbackType:r,hasTextContent:s,hasTitleOrSource:d,hoverTransitionState:c,pin:u,pinNoteText:p,pinTitle:_,productCurrentPrice:h,productOriginalPrice:E,reactionAlignment:I,setForcePrimary:f,showCarouselEllipsis:y,showFavoriteButton:S,showGroupBoardAvatar:v,showNativeReactions:P,showOverflowMenu:x,showPinStats:A,showSource:b,showTextContent:O,showTitle:N,showVerifiedIcon:C,surface:w,titleLines:D}){var L,j,B,U;const Z=(0,l.ZP)(),V=(0,z.Z)(),W=(0,R.useDispatch)(),{favorited_by_me:Y,favorite_user_count:K,id:X,pinner:$,reaction_counts:q,sponsorship:Q,story_pin_data:ee}=u,{has_affiliate_products:te}=ee||{},ne=function(e,t,n){var i,o,r,s;const{board:l,link_domain:d={},promoter:c,sponsorship:u,native_creator:p}=e,{sponsor:_}=u||{},{isPromoted:h}=(0,a.Z)(e),{official_user:E}=d||{},m=h&&!!u&&(null==p?void 0:p.id)!==(null==c?void 0:c.id),I=e.pinner||{};let f="",T="",g="",y="",S="",v="",P=!1,x=!1;var A,R,b,O,N,C;if(m)f=null!==(A=null!==(R=null==p?void 0:p.image_medium_url)&&void 0!==R?R:null==p?void 0:p.image_small_url)&&void 0!==A?A:"",T=`/${null!==(b=null==p?void 0:p.username)&&void 0!==b?b:""}/`,g=null==c?void 0:c.full_name,y=null==p?void 0:p.full_name,v=`/${null!==(O=null==p?void 0:p.username)&&void 0!==O?O:""}/`,S=`/${null!==(N=null==c?void 0:c.username)&&void 0!==N?N:""}/`,P=null==p||null===(C=p.verified_identity)||void 0===C?void 0:C.verified,x=null==p?void 0:p.is_verified_merchant;else if(h&&c)f=c.image_medium_url||c.image_small_url,g=c.full_name,y=n._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),v=`/${c.username}/`;else if(u&&null!=_&&_.username){var w,D,L,M,k,j;f=null!==(w=null!==(D=null!==(L=null==p?void 0:p.image_large_url)&&void 0!==L?L:null==p?void 0:p.image_medium_url)&&void 0!==D?D:null==p?void 0:p.image_small_url)&&void 0!==w?w:"",T=`/${null!==(M=null==p?void 0:p.username)&&void 0!==M?M:""}/`,g=_.full_name,y=null==p?void 0:p.full_name,v=`/${null!==(k=null==p?void 0:p.username)&&void 0!==k?k:""}/`,S=`/${_.username}/`,P=null==p||null===(j=p.verified_identity)||void 0===j?void 0:j.verified,x=null==p?void 0:p.is_verified_merchant}else if(p){var G,B,U,F,H;f=null!==(G=null!==(B=null!==(U=p.image_large_url)&&void 0!==U?U:p.image_medium_url)&&void 0!==B?B:p.image_small_url)&&void 0!==G?G:"",y=p.full_name,v=`/${null!==(F=p.username)&&void 0!==F?F:""}/`,P=null===(H=p.verified_identity)||void 0===H?void 0:H.verified,x=p.is_verified_merchant}else if("show-for-claimed-content"===t){var Z,V,W,Y;null!=E&&E.is_primary_website_verified&&E.username&&(f=null!==(Z=null!==(V=null!==(W=E.image_large_url)&&void 0!==W?W:E.image_medium_url)&&void 0!==V?V:E.image_small_url)&&void 0!==Z?Z:"",y=E.full_name,v=`/${E.username}/`,P=null===(Y=E.verified_identity)||void 0===Y?void 0:Y.verified,x=E.is_verified_merchant)}else{var z,K,X,$;f=null!==(z=null!==(K=null!==(X=I.image_large_url)&&void 0!==X?X:I.image_medium_url)&&void 0!==K?K:I.image_small_url)&&void 0!==z?z:"",T=`/${I.username}/`,y=I.full_name,v=l?l.url:"",P=null===($=I.verified_identity)||void 0===$?void 0:$.verified,x=I.is_verified_merchant}return{avatarUrl:null!==(i=f)&&void 0!==i?i:"",attributionNameLink:T,attributionTitle:null!==(o=g)&&void 0!==o?o:"",name:null!==(r=y)&&void 0!==r?r:"",sponsorUrl:S,url:null!==(s=v)&&void 0!==s?s:"",verifiedIdentity:!!P,isVerifiedMerchant:!!x}}(u,t,Z),{avatarUrl:ie,attributionNameLink:oe,attributionTitle:re,name:ae,sponsorUrl:se,url:le,verifiedIdentity:de,isVerifiedMerchant:ce}=ne,ue=!!u.promoter&&!u.is_downstream_promotion,pe=ue&&(null===(L=u.native_creator)||void 0===L?void 0:L.id)===(null===(j=u.promoter)||void 0===j?void 0:j.id),_e=(0,m.Z)(101,{view_type:3,element:27,object_id_str:X,component:u.story_pin_data_id?230:void 0,aux_data:{pin_id:X,...null!=Q&&null!==(B=Q.creator)&&void 0!==B&&B.id&&null!==(U=Q.sponsor)&&void 0!==U&&U.id?{creator_id:Q.creator.id,sponsor_id:Q.sponsor.id}:{}}}),Ee=e=>W(Ee(e)),me=(0,k.tc)("web_ag_msg_pin_card_update"),ge="ConversationView"===w&&me({dangerouslySkipActivation:!0}).anyEnabled,ye=!pe&&Q?(0,g.jsx)(G,{link:se||le,onClick:()=>(Ee(X),void _e()),title:(0,Ge.ZP)(re,20),weight:"bold"},`${u.id}-sponsor-name-link`):null,Se="ConversationView"===w&&ge?{padding:"8px"}:Ve.container;return(0,g.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:Se},children:[y&&(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:d||v||"none"!==t?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,g.jsx)(H.default,{pinId:X})}),A&&(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,g.jsx)(ke,{pin:u})}),(0,g.jsx)(T.kC,{alignItems:"stretch",justifyContent:"start",children:(0,g.jsxs)(T.xu,{flex:"grow",children:[(!!Q||te&&!ue)&&!pe&&(0,g.jsx)(T.xu,{marginBottom:1,children:(0,g.jsx)(T.xu,{flex:"grow",overflow:"hidden",children:(0,g.jsx)(Fe.Z,{hasAffiliateProducts:te,isPromoted:ue,sponsorName:ye,sponsorshipStatus:null==Q?void 0:Q.status})})}),(O&&s||S)&&(0,g.jsxs)(T.xu,{marginBottom:1,children:[(E||h)&&(0,g.jsx)(T.xu,{marginBottom:1,children:(0,g.jsx)(je,{currentPrice:h,originalPrice:E,pin:u,surface:w})}),S?(0,g.jsxs)(T.kC,{alignItems:"start",children:[(0,g.jsx)(T.kC,{flex:"grow",children:(0,g.jsx)(He,{numberOfLines:D,pin:u,pinTitle:_,surface:w})}),(0,g.jsx)(T.xu,{marginStart:3,children:(0,g.jsx)(J,{board:n,favorited:!!Y,favoriteCount:null!=n&&n.is_collaborative&&(0,fe.Z)({board:n,viewer:V})?null!=K?K:0:void 0,pinId:X})})]}):N&&(0,g.jsx)(He,{numberOfLines:D,pin:u,pinTitle:_,surface:w}),b&&(0,g.jsx)(T.xu,{marginBottom:2,children:(0,g.jsx)(Ue,{pin:u,surface:w})})]}),(0,g.jsxs)(T.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(T.xu,{flex:"grow",children:(()=>{const n=(0,g.jsx)(F,{attributionNameLink:oe,attributionTitle:ue&&!Q||pe?re:"",avatarUrl:ie,display:e,isPromotedByPinCreator:!!pe,isVerifiedMerchant:C&&ce,name:ae,pin:u,url:le,verifiedIdentity:C&&de});switch(t){case"none":return null;case"image-only-credit":return(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:Ve.imageOnlyAttribution["active"===c?"visible":"hidden"]},children:(0,g.jsx)(Ie,{pin:u,feedbackType:r})});default:return Object.values(ne).some((e=>Boolean(e)))?n:null}})()}),x&&(0,g.jsx)(T.xu,{flex:"none",children:(0,g.jsx)(Te.default,{feedbackData:o,feedbackType:r,pin:u,pinTitle:_,setForcePrimary:f,transparentBackground:!0})})]}),P&&!!q&&Object.keys(q).length>0&&(0,g.jsx)(T.xu,{marginTop:"ConversationView"===w&&ge?2:void 0,children:(0,g.jsx)(he,{alignment:I,pinId:X,pinner:$,reactionCounts:q,surface:w})}),p&&(0,g.jsx)(T.xu,{marginBottom:1,children:(0,g.jsx)(Ce,{pin:u,pinNoteText:p})}),v&&!S&&(0,g.jsx)(T.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(M,{attributionNameLink:oe||le,avatarUrl:ie,fullWidth:!1,name:ae}),(0,g.jsx)(T.xu,{marginStart:2,flex:"grow",children:(0,g.jsx)(T.xv,{size:"200",children:ae})})]})})]})})]})}var Ye=n(394465),ze=n(792098);const Ke=(0,i.lazy)((()=>n.e(33168).then(n.bind(n,446124)))),Xe=(0,i.lazy)((()=>n.e(69221).then(n.bind(n,458392))));function $e({contentType:e,hasTextContent:t,pin:n,pinTitle:o,productCurrentPrice:a,productOriginalPrice:d,productRating:c,productShipping:u,showSource:p,showVisitSiteButton:_,surface:h,titleLines:E}){var m;const{logContextEvent:f}=(0,N.v)(),y=(0,l.ZP)(),S=(0,k.tc)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:v,group:P}=S({dangerouslySkipActivation:!0}),x=(null===(m=n.rich_summary)||void 0===m?void 0:m.url)||n.link;"shopping"!==e||P.includes("pwt")||S();const A=(0,Ye.Z)({url:x})?"nofollow":"none";return(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:Ve.productContainer},height:"100%",children:(0,g.jsx)(T.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&(0,g.jsxs)(i.Fragment,{children:[(0,g.jsxs)(T.xu,{children:[(d||a)&&(0,g.jsx)(T.xu,{marginBottom:1,children:(0,g.jsx)(je,{currentPrice:a,originalPrice:d,pin:n,surface:h})}),(0,I.qN)(n)&&(0,g.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:(0,g.jsx)(s.Z,{children:(0,g.jsx)(T.xu,{marginBottom:1,children:(0,g.jsx)(Ke,{})})})}),(0,I.SP)(n)&&(0,g.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:(0,g.jsx)(s.Z,{children:(0,g.jsx)(T.xu,{marginBottom:1,children:(0,g.jsx)(Xe,{})})})}),(0,g.jsx)(T.xu,{marginBottom:1,children:(0,g.jsx)(He,{numberOfLines:E,pin:n,pinTitle:o,surface:h})}),p&&(0,g.jsx)(Ue,{pin:n,surface:h}),"shopping"===e&&v&&(c||Number.isFinite(null==u?void 0:u.free_shipping_value))&&(0,g.jsx)(ze.Z,{count:null==c?void 0:c.count,countFormat:"number",isGridView:!0,ratingValue:null==c?void 0:c.rating,shippingInfo:u})]}),_&&x?(0,g.jsx)(T.xu,{marginTop:2,children:(0,g.jsx)(T.zx,{role:"link",fullWidth:!0,href:x,rel:A,onClick:()=>{f({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:y._("Visit site","ShoppingList.Pin.CTA.Button.VisitSite.Text","Text on CTA button on ShoppingList Pin to Visit Site")})}):null]})})})}const qe=(0,i.memo)((function({attributionDisplay:e,attributionType:t,blockClickEvents:n,board:i,contentType:r,feedbackData:a,feedbackType:s,hoverTransitionState:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:p,productOriginalPrice:_,reactionAlignment:h,productRating:E,productShipping:m,setForcePrimary:I,showCarouselEllipsis:f,showFavoriteButton:y,showGroupBoardAvatar:S,showNativeReactions:v,showOverflowMenu:P,showPinStats:x,showSource:A,showTextContent:R,showTitle:b,showVerifiedIcon:O,showVisitSiteButton:N,surface:C,titleLines:w}){const D=u||A,L="shopping"===r?(0,g.jsx)($e,{contentType:r,hasTextContent:!!D,pin:d,pinTitle:u,productCurrentPrice:p,productOriginalPrice:_,productRating:E,productShipping:m,showSource:A,showVisitSiteButton:N,surface:C,titleLines:w}):(0,g.jsx)(We,{attributionDisplay:e,attributionType:t,board:i,feedbackData:a,feedbackType:s,hasTextContent:!!D,hasTitleOrSource:!!D,hoverTransitionState:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:p,productOriginalPrice:_,reactionAlignment:h,setForcePrimary:I,showCarouselEllipsis:f,showFavoriteButton:y,showGroupBoardAvatar:S,showNativeReactions:v,showOverflowMenu:P,showPinStats:x,showSource:A,showTextContent:R,showTitle:b,showVerifiedIcon:O,surface:C,titleLines:w});return n?(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:L}):(0,g.jsx)(T.kC,{flex:"grow",children:(0,g.jsx)(o.Z,{fullWidth:!0,children:L})})}));var Je=n(238235),Qe=n(98775),et=n(565375);const tt=(0,i.lazy)((()=>n.e(34979).then(n.bind(n,325884)))),nt=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(88299),n.e(71324),n.e(43473)]).then(n.bind(n,252386)))),it=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(88299),n.e(15833),n.e(71324),n.e(22347)]).then(n.bind(n,635081)))),ot=(0,i.lazy)((()=>Promise.all([n.e(97270),n.e(69965),n.e(22538)]).then(n.bind(n,296991)))),rt=(0,i.lazy)((()=>n.e(1593).then(n.bind(n,831286))));function at({derivedSaveButtonOptions:e,forcePrimaryContent:t,showEnabledSaveBehavior:n,onToggleFlyout:a,onToggleModal:l,pin:d}){const{id:u,savedInfo:p}=d,_=(0,i.useRef)(!!p),h=(0,R.useSelector)((({experiences:e})=>{const t=e[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),{saveBehaviorType:E}=(0,et.tY)(n);void 0!==E&&["classic","controlled","inline"].includes(e.type)&&(e=E);const{viewParameter:I,viewType:f}=(0,c.E)(),y=(0,m.Z)(101,{element:0,object_id_str:u});let S=null;const v={onToggleModal:a,view:f,viewParameter:I,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(h||n&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:i}=e;S=(0,g.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,g.jsx)(s.Z,{children:(0,g.jsx)(o.Z,{children:(0,g.jsx)(ot,{experience:h||void 0,forcePrimaryContent:t,pin:d,renderPinSaveTooltip:i,showEnabledSaveBehavior:n,viewParameter:I})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;S=(0,g.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,g.jsx)(s.Z,{children:(0,g.jsx)(T.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,g.jsx)(o.Z,{children:(0,g.jsx)(nt,{onClickCallback:y,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:t,renderSavedStatus:()=>!!p&&(0,g.jsx)(o.Z,{children:(0,g.jsx)(Qe.Z,{isNewlySaved:!_.current,name:p.title,type:p.type,url:p.url})}),variant:"lego",viewParameter:I})})})})})}else if("inline"===e.type){const t=d,{initialSelection:n,onSave:i,renderPinSaveTooltip:c,hidePinBetterSaveDropdown:u}=e;S=(0,g.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,g.jsx)(s.Z,{children:(0,g.jsx)(T.xu,{"data-test-id":"better-save",children:(0,g.jsx)(o.Z,{children:(0,g.jsx)(it,{initialSelection:n,onSave:i,onToggleFlyout:a,onToggleModal:l,pin:t,renderPinSaveTooltip:c,renderSavedStatus:({savedInfo:e})=>e&&(0,g.jsx)(o.Z,{children:(0,g.jsx)(Qe.Z,{isNewlySaved:!_.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:I,hideDropdown:u})})})})})}else"persistentOneClickSave"===e.type?S=(0,g.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,g.jsx)(s.Z,{children:(0,g.jsx)(T.xu,{"data-test-id":"persistent-one-click-save",children:(0,g.jsx)(o.Z,{children:(0,g.jsx)(tt,{...v,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(S=(0,g.jsx)(T.kC,{alignItems:"stretch",justifyContent:"end",children:(0,g.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,g.jsx)(s.Z,{children:(0,g.jsx)(T.xu,{"data-test-id":"pin-promote-button",children:(0,g.jsx)(o.Z,{children:(0,g.jsx)(rt,{pin:d})})})})})}));return(0,g.jsx)(r.Z,{name:"PinRepPrimaryContent",children:(0,g.jsx)(T.xu,{display:"flex",margin:3,children:S&&(0,g.jsx)(T.xu,{marginStart:"auto",flex:"grow",children:S})})})}var st=n(516795),lt=n(875410),dt=n(440504),ct=n(491420),ut=n(801973),pt=n(937186),_t=n(858197),ht=n(719373),Et=n(914861),mt=n(685894),It=n(277703),ft=n(722014),Tt=n(587866),gt=n(727853),yt=n(751438),St=n(52063);var vt=n(251890);const Pt=(0,pt.Z)((function({isAutoplay:e,cropHeight:t,currentTime:n,onLoad:o,onError:r,videoBlock:a,pin:s,surface:d,playing:c,rootMargin:u,viewType:p,viewParameter:_,scaleFactor:h}){var E;const{id:m,is_promoted:I}=s,f=(0,l.ZP)(),[y,S]=(0,i.useState)(!0),v=!I,P=y;if(e&&c&&y&&S(!1),!a.video)return null;const{block_style:{height:x=100,width:A=100,x_coord:R=0,y_coord:b=0}={},video:O}=a,{hlsv3:N,mp4:C}=(0,yt.Z)(O)||{},w=C||N||{},D=(null===(E=a.video)||void 0===E?void 0:E.id)||s.id,{thumbnail:L,url:M,width:k,height:j}=w,G=(null!=k?k:1)/(null!=j?j:1),B=Tt._B/(Tt.l3/Tt.e7),U=A*Tt._B*h/100,F=x*B*h/100,H=R*Tt._B*h/100,Z=b*B*h/100,V=A<100?Math.min(Math.max(100,A)-Math.abs(R),A):Math.min(Math.max(A-Math.abs(R),0),100),W=(x<100?Math.min(Math.max(100,x)-Math.abs(b),x):Math.min(Math.max(x-Math.abs(b),0),100))*B*h/100,Y=V*Tt._B*h/100,z=Math.max(b,0)*B*h/100,K=Math.max(R,0)*Tt._B*h/100,X=U/F,$={height:"100%",left:"0",top:"0",width:"100%"};if(Math.abs(X-G)>.01)if(X<G){const e=100*G/X;$.width=`${e}%`,$.left=`-${(e-100)/2}%`}else if(X>G){const e=100*X/G;$.height=`${e}%`,$.top=`-${(e-100)/2}%`}const q=P?(0,g.jsx)(ut.Z,{onError:r,onLoad:o,pin:s}):(0,g.jsx)(T.xu,{height:W,overflow:"hidden",position:"relative",children:(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{left:K,top:z}},height:W,overflow:"hidden",position:"absolute",width:Y,children:(0,g.jsx)(T.xu,{height:F,overflow:"hidden",position:"relative",width:U,children:(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{left:H<0?H:0,top:Z<0?Z:0}},height:"100%",position:"absolute",width:"100%",children:(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:$},position:"absolute",children:(0,g.jsx)(St.ZP,{onError:r,isAutoPlay:!!e,cropHeight:t,rootMargin:u,surface:d,inAdsDesktopVideoExperiment:!0,contextLogData:{viewParameter:_,component:0,objectId:m,video_id:D,view:p},accessibilityMaximizeLabel:f._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:f._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:f._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:f._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:f._("Play","Play button on video","Play button on video"),accessibilityProgressBarLabel:f._("Progress bar","PinVideo.accessibilityProgressBarLabel","Video progress bar accessibility label"),accessibilityUnmuteLabel:f._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=k?k:1)/(null!=j?j:1),captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:n||-1},loop:v,playing:c,poster:L,src:null!=M?M:"",videoStartTime:n,volume:0})})})})})});return(0,g.jsx)(T.xu,{children:q})}));function xt({fonts:e,onLoad:t,pin:n,currentTime:o,onError:r,cropHeight:a,surface:s,viewParameter:l,viewType:d,rootMargin:c,highResOnly:u,lowResOnly:p,saved:_,blocks:h}){const[E,m]=(0,i.useState)(!1),{appUI:{appInFocus:I,isAutoplay:f,videosAutoplaying:y},pauseAutoplay:S,setCurrentVideo:v}=(0,gt.I)(),{id:P,is_promoted:x}=n,A=(0,vt.i8)(P,y);(0,Et.Z)((()=>(null==t||t(),(()=>{if(e&&Object.keys(e).length>0){const t=Object.keys(e).map((t=>{const n=e[t];return(0,It.d3)({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})}));(0,_t.Z)(t),m(!0)}})(),()=>{(0,vt.i8)(P,y)&&S({pinId:P,isPromoted:Boolean(x),currentTime:o})})));const R=()=>(0,vt.X9)(P,y)||o,b=(0,i.useRef)(!1);!I&&A?(b.current=!0,S({pinId:P,isPromoted:Boolean(x),currentTime:o})):b.current&&I&&(b.current=!1,v({pinId:P,isPromoted:Boolean(x),currentTime:R()}));const O=e=>{const t=(0,vt.i8)(P,y),n=(0,vt.DP)(P,y);e?x?v({pinId:P,isPromoted:x,currentTime:R()}):n&&v({pinId:P,isPromoted:Boolean(x),currentTime:R()}):!e&&t&&S({pinId:P,isPromoted:Boolean(x),currentTime:o})};return(0,g.jsx)(T.xu,{"data-test-id":"pinrep-story-blocks",children:h.map(((e,i)=>((e,i)=>{const o=(0,vt.X9)(P,y),h=(0,vt.i8)(P,y)&&f,m=("AuthHomefeed"===s?ft.xf:256)/Tt._B;switch(e.type){case mt.h8.VIDEO:return(0,g.jsx)(Pt,{cropHeight:a,rootMargin:c,currentTime:o,inAdsDesktopVideoExperiment:!0,isAutoplay:f,viewParameter:l,viewType:d,onVisibilityChanged:O,videoBlock:e,pin:n,surface:s,playing:h,trackFullVisible:!1,highResOnly:u,lowResOnly:p,onError:r,onLoad:t,saved:_,scaleFactor:m},i);case mt.h8.PARAGRAPH:case mt.h8.HEADING:return(0,g.jsx)(ht.Z,{block:e,fontsLoaded:E,scaleFactor:m},i);default:return null}})(e,i)))})}var At=n(422296);function Rt({onError:e,onLoad:t,pin:n,autoplaySettingOff:i,saved:o,cropHeight:r,surface:a,rootMargin:s,viewParameter:l,viewType:d}){var c,u;const p=(null===(c=n.story_pin_data)||void 0===c||null===(u=c.pages)||void 0===u?void 0:u[0].blocks)||[],_=[],h=[],E={};let m=!1;for(const f of p)if(At.Y.includes(f.type))if(f.type===mt.h8.PARAGRAPH||f.type===mt.h8.HEADING){var I;_.push(f);const e=(null===(I=f.style)||void 0===I?void 0:I.font)||mt.Cc.font,{name:t=""}=e;E[t]||(E[t]=e)}else h.push(f),f.video&&(m=!0);return h.push(..._),!i&&m?(0,g.jsx)(xt,{onError:e,onLoad:t,cropHeight:r,rootMargin:s,blocks:h,surface:a,viewType:d,viewParameter:l,pin:n,saved:o,fonts:E}):(0,g.jsx)(ut.Z,{onError:e,onLoad:t,pin:n})}var bt=n(955106);const Ot={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function Nt({isSelected:e}){const t=(0,l.ZP)();return(0,g.jsx)(T.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?Ot:{},children:(0,g.jsx)(T.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,g.jsx)(T.xu,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,g.jsx)(T.JO,{accessibilityLabel:t._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var Ct=n(897985),wt=n(126684),Dt=n(675152),Lt=n(448400),Mt=n(71445);const kt={},jt=e=>{Mt.Z.increment("web_prefetch_via_xhr.attempt",1);const t=(0,_.Z)(e);return new Promise(((n,i)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(Mt.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(e.effectiveType)&&(Mt.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(kt[e]&&(kt[e].loaded=!0),Mt.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(o.response)):(Mt.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),i())},kt[e]||(o.send(),kt[e]={added:!0,xhr:o},Mt.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},Gt={},Bt=(e,t)=>{const n="string"==typeof e?e:e.url;if(t&&n){const e="control"===t?"v1.pinimg.com":"v2.pinimg.com";return n.replace("v.pinimg.com",e)}return n};function Ut(e,t){return(Bt("https://v.pinimg.com/videos/mc/hls/",t)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function Ft(e){const{id:t}=e;t&&Gt[t]&&Gt[t].length>0&&Gt[t].forEach((e=>{(e=>{kt[e]&&kt[e].xhr&&!kt[e].loaded&&(Mt.Z.increment("web_prefetch_abort_xhr",1),kt[e].xhr.abort(),kt[e].aborted=!0)})(e)}))}function Ht({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:n,imageFit:o,isDenseView:r,isHovering:s,isSocialSeasonalBoard:l=!1,onError:d,onLoad:p,pin:_,pinImageCrop:h,resolution:E="default",rootMargin:m,selectionState:I,showCarousel:f,showPromotedVideos:y,showUnavailablePin:S,surface:v}){const{contextLogData:P,slotIndex:x,viewParameter:A,viewType:R}=(0,c.E)(),{group:b}=(0,k.aq)("web_prefetch_video_in_feed"),{id:O="",aggregated_pin_data:N,image_signature:C,story_pin_data:w}=_,{pin_tags_chips:D}=N||{},{isOneTap:L,isVideo:M,isPromoted:j,isGif:G}=(0,a.Z)(_),{cropHeight:B,cropWidth:U}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(h);let F=!1;if(w){var H,Z;const e=null===(H=w.pages)||void 0===H?void 0:H[0],t=null==e||null===(Z=e.blocks)||void 0===Z?void 0:Z.find((e=>3===e.block_type));F=!(null==t||!t.video)}const{anyEnabled:V}=(0,k.aq)("web_idea_pin_video_autoplay",F);let W=null;if(S)W=(0,g.jsx)(Ct.Z,{isDenseView:r,height:r?250:420,rounding:0,width:r?164:236});else if(e||!M||!y&&j||"BoardCoverSelectablePin"===v)if(f)W=(0,g.jsx)(T.xu,{"data-test-id":"pinrep-carousel",children:(0,g.jsx)(dt.Z,{cropHeight:B,cropWidth:U,onError:d,onLoad:p,highResOnly:"high-res"===E,lowResOnly:"low-res"===E,pinId:O,showCarouselBadge:!1,pin:_})});else if(V)W=(0,g.jsx)(T.xu,{"data-test-id":"pinrep-story",minHeight:55,children:(0,g.jsx)(Rt,{onLoad:p,onError:d,pin:_,cropHeight:B,rootMargin:m,surface:v,viewType:R,viewParameter:A,autoplaySettingOff:e})});else{const e="backend"===h?function({images:e,image_crop:t}){var n;const i=e&&(null===(n=e["236x"])||void 0===n?void 0:n.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:n=0}=t;return{marginTop:(e>0?-1*e*(null!=i?i:0):0)+"px",marginBottom:`${n<1?Math.round(-1*(1-n)*(null!=i?i:0)):0}px`}}return{}}(_):{};W=(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:(0,g.jsx)(ct.Z,{animateGif:G&&l,cropHeight:B,cropWidth:U,fallbackColor:n,imageFit:o,highResOnly:"high-res"===E,lowResOnly:"low-res"===E,mediumResOnly:"medium-res"===E,onLoad:p,onError:d,pin:_})})}else W=(0,g.jsx)(T.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:B||void 0,justifyContent:"center",children:(0,g.jsx)(bt.Z,{cropHeight:B,rootMargin:m,inAdsDesktopVideoExperiment:M&&y,pin:_,surface:v,onLoad:p,viewType:R,viewParameter:A,highResOnly:"high-res"===E,lowResOnly:"low-res"===E,onError:d,isExperimentalPinRep:!0})});const Y=(0,g.jsx)(T.zd,{wash:!0,children:(0,g.jsx)(u.Z,{hovered:s,pin:_,slotIndex:x,viewType:1,children:W})}),z=["selected-image-only","deselected-image-only"].includes(I),K="selected-image-only"===I,X=(0,i.useRef)(!0),$=(0,i.useRef)(!1),q=(0,i.useRef)(!1),J=(0,k.aq)("web_video_quic").group;if((0,i.useEffect)((()=>{X.current||!s||L||t||$.current?s||!$.current||q.current||(Ft(w||_),q.current=!0):w?(!function(e,t){var n;const{id:i,pages:o,pages_preview:r}=e;if(!r&&!o)return;const a=r?r[0]:null==o?void 0:o[0],s=null==a||null===(n=a.blocks)||void 0===n?void 0:n.find((e=>3===e.block_type));if(s&&s.video){const{hlsv3:e,mp4:n}=(0,yt.Z)(s.video)||{},o=n||e;if(o&&i){var l;const e=null!==(l=Bt(o,t))&&void 0!==l?l:"";Gt[i]=Gt[i]?Gt[i].concat(e):[e],jt(e)}}}(w,J),$.current=!0):(!function(e,t){const{id:n,videos:i}=e,{video_list:o}=i||{},r=(0,wt.Z)({pin:e}),{video:a}=(0,Dt.Z)(r)||{},{hls:s,hlsv3:l}=a||{};if(o){const e=(0,yt.t)(o)||{},i=l||s||{};if(i.url){var d;const e=null!==(d=Bt(i.url,t))&&void 0!==d?d:"";Gt[n]=Gt[n]?Gt[n].concat(e):[e],jt(e).then((e=>{let i=[];if("string"==typeof e&&(i=e.split("\n").filter((e=>e.endsWith(".m3u8")))),i&&i[Lt.VS]){const e=Ut(i[Lt.VS],t);return Gt[n]=Gt[n].concat(e),jt(null!=e?e:"")}return null})).then((e=>{let i=[];if("string"==typeof e&&(i=e.split("\n").filter((e=>e.endsWith(".ts")))),i&&i[0]){const e=Ut(i[0],t);return Gt[n]=Gt[n].concat(e),jt(null!=e?e:"")}return null}))}else if(e.url){var c;const i=null!==(c=Bt(e.url,t))&&void 0!==c?c:"";jt(i),Gt[n]=Gt[n]?Gt[n].concat(i):[i]}}}(_,J),$.current=!0),X.current=!1}),[t,s,L,w,_,b,J]),t)return(0,g.jsxs)(i.Fragment,{children:[Y,z&&(0,g.jsx)(Nt,{isSelected:K}),D&&(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,g.jsx)(lt.Z,{pin:_,enableCloseupLink:!0})})]});const{commerce_data:Q,story_type:ee}=P||{},te=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(v);return(0,g.jsxs)(Ne,{contextLogData:{commerce_data:te?Q:void 0,grid_index:x,image_signature:C,story_type:ee},elementType:w?12372:35,pin:_,surface:v,children:[Y,D&&(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,g.jsx)(lt.Z,{pin:_,enableCloseupLink:!1})})]})}var Zt=n(285392),Vt=n(293302),Wt=n(786654);const Yt=(0,Vt.Z)((({handleSendShareFlyoutButtonClick:e})=>{const t=(0,l.ZP)(),n=(0,Wt.Z)();return(0,g.jsx)(T.zx,{fullWidth:!0,onClick:n((({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),e()})),text:t._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:t._("Send","Accessible label to send a pin","Accessible label to send a pin")})}));function zt(e){return e<160?"header-only":"none"}function Kt(e){const[t,n]=(0,i.useState)(e.current?zt(e.current.clientHeight||0):"none");return function(e,t){const n=(0,i.useRef)();(0,i.useEffect)((()=>{const i=e.current;if(!i)return;const o=n.current;o&&o.width===i.offsetWidth&&o.height===i.offsetHeight||(n.current={width:i.offsetWidth||0,height:i.offsetHeight||0},t&&t(n.current))})),n.current}(e,(({height:e})=>{const i=zt(e);i!==t&&n(i)})),t}var Xt=n(670641),$t=n(128240),qt=n(805251),Jt=n(932937),Qt=n(903997);const en="#000000",tn="#ffffff";function nn({selected:e=!1}){const t=(0,l.ZP)(),{isRTL:n}=(0,d.B)();return(0,g.jsx)(T.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new T.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?en:tn,borderRadius:Qt.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,g.jsx)(T.xu,{position:"absolute",bottom:!0,right:!n,left:n,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,g.jsx)(T.JO,{accessibilityLabel:t._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):(0,g.jsx)(T.xu,{right:!n,left:n,position:"absolute",top:!0,margin:3,children:(0,g.jsx)(T.JO,{accessibilityLabel:t._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const on={wrapper:{borderRadius:Qt.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Qt.Dv.VISUAL},savedOverlay:{backgroundColor:Qt.Dv.SAVED},legoWashOverlay:{backgroundColor:Qt.Dv.LEGO_WASH}};function rn({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:n="none",handleMouseOverPinContent:i,handleMouseLeavePinContent:o,primaryContent:r,primaryContentVisibility:a="none",secondaryContent:s,secondaryContentVisibility:l="none",accessoryContent:d,accessoryContentVisibility:c="none",actionBar:u,actionBarVisibility:p="none",seeStatsButton:_,footer:h,selectionState:E="no-selection",debugContent:m,signalDebuggerContent:I,signalDebuggerV2Content:f,signalDebuggerV2ContentVisibility:y="none",obscuredPinOverlay:S,showNoPinBorderRadius:v,showPromotedPinBorderTreatment:P,shouldUseLegoWash:x}){return(0,g.jsx)(T.xu,{dangerouslySetInlineStyle:{__style:P?on.promotedPinBorderTreatment:{}},height:"100%",children:(0,g.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:v?{}:on.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(E)&&(0,g.jsx)(nn,{selected:"selected"===E}),(0,g.jsxs)(T.xu,{dangerouslySetInlineStyle:{__style:v?{}:on.wrapper},overflow:"hidden",position:"relative",onFocus:i,onBlur:o,onMouseEnter:i,onMouseLeave:o,children:[e,(0,g.jsx)(Jt.Z,{visibility:n,children:(0,g.jsx)(qt.Z,{additionalStyles:x?on.legoWashOverlay:on.visualOverlay})}),(0,g.jsx)(Jt.Z,{visibility:t,children:(0,g.jsx)(qt.Z,{additionalStyles:x?on.legoWashOverlay:on.savedOverlay})}),d&&(0,g.jsx)(Jt.Z,{visibility:c,children:(0,g.jsx)(qt.Z,{children:d})}),s&&(0,g.jsx)(Jt.Z,{visibility:l,children:(0,g.jsx)(qt.Z,{children:s})}),r&&(0,g.jsx)(Jt.Z,{visibility:a,children:(0,g.jsx)(qt.Z,{children:r})}),f&&(0,g.jsx)(Jt.Z,{visibility:y,children:(0,g.jsx)(qt.Z,{children:(0,g.jsx)(T.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:f})})}),u&&(0,g.jsx)(Jt.Z,{visibility:p,children:(0,g.jsx)(qt.Z,{children:(0,g.jsx)(T.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:u})})}),_&&(0,g.jsx)(qt.Z,{children:(0,g.jsx)(T.xu,{position:"absolute",left:!0,bottom:!0,children:_})}),m&&(0,g.jsx)(qt.Z,{children:m}),I]}),h,S&&(0,g.jsx)(T.xu,{children:S})]})})}var an=n(475559);function sn(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function ln(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const dn=228;const cn=(0,i.memo)((function({actionBarProps:e,blockClickEvents:t,borderStyle:n,currentlyPlayingVideo:a,disableHover:s=!1,footerProps:l,impressionsDebuggerProps:d,obscuredPinOverlayProps:u,onError:p,onLoad:_,pin:h,pinVisualProps:E,presentationProps:m,primaryContentProps:I,rounding:f,secondaryContentProps:y,selectionState:S,showFooter:v,showImpressionsDebugger:P,showObscuredPinOverlay:x,showSeeStatsButton:R,showSignalDebugger:b,showUnavailablePin:O,surface:N,visibilityOverrides:C}){var L,M;const{savedInfo:j}=h,{viewType:G}=(0,c.E)(),{showEnabledSaveBehavior:B}=(0,et.Yh)(an.ZF.includes(N)||(0,Je.Z)(N)),[U,F]=(0,i.useState)(!1),H=(0,Ze.Z)(U);let{isHovering:Z,hoverTransitionState:V,handleMouseOver:W,handleMouseLeave:Y}=function(){const[e,t]=(0,i.useState)(!1);return{isHovering:e,hoverTransitionState:(0,Ze.Z)(e,0,Ze.X),handleMouseOver:(0,i.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,i.useCallback)((()=>t(!1)),[t])}}();s&&(Z=!1,V="inactive");const z=(0,Ze.Z)(!!j),K=sn(z),X=sn(V),$=sn(V),q=sn(H),J=sn(z),Q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(N),ee="visible"!==K||Q?K:"none",te={primaryContentVisibility:null!==(L=C.primaryContent)&&void 0!==L?L:ln($,q,"visible"===J?"none":J),secondaryContentVisibility:(ne=ln($,q,J),"none"===ne?"visible":"visible"===ne?"none":"hidden"),actionBarVisibility:ln($,q),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var ne;const ie=e=>F(e),oe=e=>F(e),re=e=>{F(e),e||Y()};let ae=null;"none"!==te.primaryContentVisibility&&(ae=(0,g.jsx)(at,{forcePrimaryContent:ie,showEnabledSaveBehavior:B,onToggleFlyout:oe,onToggleModal:re,pin:h,...I}));let se=null;const le=(0,i.useRef)(!0),de=le.current;le.current=!1;const ce=function(e,t){const{carousel_data:n}=e,{index:o}=n||{},[r,a]=(0,i.useState)(!n||t),s=(0,i.useRef)(o),l=(0,i.useRef)(null);if(n){const e=s.current;s.current=o,(o!==e||t)&&(l.current&&clearTimeout(l.current),a(!0),l.current=setTimeout((()=>{a(!1),l.current=null}),4e3))}return(0,i.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),r}(h,de),ue=sn((0,Ze.Z)(ce));te.secondaryContentVisibility=null!==(M=C.secondaryContent)&&void 0!==M?M:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(te.secondaryContentVisibility,ue),se=(y.allowShoppingPriceIndicator||y.shoppingLabelColor||"none"!==te.secondaryContentVisibility)&&!a&&(0,g.jsx)(T.xu,{margin:2,children:(0,g.jsx)(st.Z,{pin:h,...y})});let pe=null;"visible"===C.accessoryContent&&(pe=(0,g.jsx)(w,{pin:h}),te.accessoryContentVisibility=sn(V)),E.isSocialSeasonalBoard&&(e.showShareButton=!1);let _e=null;R&&(e.showSourceLinkButton=!1,_e=(0,g.jsx)(o.Z,{children:(0,g.jsx)(Zt.Z,{pinId:h.id,surface:N})}));const he="visible"===C.actionBar?(0,g.jsx)(A,{onToggleFlyout:oe,pin:h,setForcePrimary:F,surface:N,...e}):null;let Ee=null;v&&(Ee=(0,g.jsx)(qe,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===l.attributionType?V:null,pin:h,setForcePrimary:F,surface:N,...l})),E.isSocialSeasonalBoard&&(Ee=(0,g.jsx)(T.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,g.jsx)(T.xu,{margin:"auto",width:dn,children:(0,g.jsx)(Yt,{isFlyoutOpen:U,onFlyoutDismiss:()=>oe(!U),onToggleFlyout:()=>oe(!U),pinId:h.id,sendType:"pin",shownWithinMasonry:!0,viewType:G})})}));const me=P&&(0,g.jsx)(Xt.Z,{...d}),Ie=b&&h.debug_info_html&&(0,g.jsx)(T.xu,{paddingY:1,children:(0,g.jsx)("pre",{children:h.debug_info_html})}),fe=(0,g.jsx)(D.Z,{pin:h}),Te=(0,i.useRef)();"header-only"===Kt(Te)&&(te.actionBarVisibility="none",te.accessoryContentVisibility="none");const ge=x?(0,g.jsx)($t.ZP,{pin:h,...u}):null,ye="ShoppingGridShippedMetadataWithVisitButton"===N?{height:"100%"}:{},Se=(0,k.tc)("web_ag_msg_pin_card_update"),ve="ConversationView"===N&&Se({dangerouslySkipActivation:!0}).anyEnabled,Pe=(0,k.tc)("web_creator_attr_hover_overlay"),xe=v&&"default"===l.attributionType&&an.ZF.includes(N),Ae=!h.is_promoted&&!s&&xe,Re=Ae&&Pe({dangerouslySkipActivation:!0}).anyEnabled;return Ae&&(Ee=(0,g.jsx)(T.xu,{onMouseEnter:Pe,onFocus:Pe,children:Ee})),(0,g.jsx)(r.Z,{name:"PinRepContainer",children:(0,g.jsx)(T.xu,{"data-test-id":"pin","data-test-pin-id":h.id,onFocus:Re?()=>{}:W,onBlur:Re?()=>{}:Y,onMouseEnter:Re?()=>{}:W,onMouseLeave:Re?()=>{}:Y,dangerouslySetInlineStyle:{__style:ye},rounding:ve&&"ConversationView"===N?f:void 0,borderStyle:ve&&"ConversationView"===N?n:"none",overflow:ve&&"ConversationView"===N?"hidden":"visible",children:(0,g.jsx)(rn,{visualOverlayVisibility:X,savedOverlayVisibility:ee,handleMouseOverPinContent:Re?W:()=>{},handleMouseLeavePinContent:Re?Y:()=>{},primaryContent:ae,primaryContentVisibility:te.primaryContentVisibility,secondaryContent:se,secondaryContentVisibility:te.secondaryContentVisibility,accessoryContent:pe,accessoryContentVisibility:te.accessoryContentVisibility,actionBar:he,actionBarVisibility:te.actionBarVisibility,seeStatsButton:_e,footer:Ee,selectionState:S,debugContent:me,signalDebuggerV2Content:fe,signalDebuggerV2ContentVisibility:te.signalDebuggerV2ContentVisibility,signalDebuggerContent:Ie,obscuredPinOverlay:ge,...m,children:(0,g.jsx)(T.xu,{height:"100%",ref:Te,children:(0,g.jsx)(Ht,{blockClickEvents:t,showUnavailablePin:O,isHovering:Z,onError:p,onLoad:_,pin:h,surface:N,selectionState:S,...E})})})})})}))},903997:(e,t,n)=>{n.d(t,{Dv:()=>r,Oc:()=>i,mv:()=>o});const i=16,o=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},497959:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(716975),o=n(123686);function r({feedbackOptions:e,pin:t,viewParameter:n},r){const{board:a,pinner:s}=t,{getFeedbackType:l}=(0,i.ZP)({i18n:r,interpolateNamedTemplate:o.nk});return l({board:a,feedback:e,pin:t,pinner:s,viewParameter:n})}},369870:(e,t,n)=>{function i(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:()=>i})},706713:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(377097),o=n(531572);function r(e,t){const{isProduct:n}=(0,i.Z)(e);return(n||"ShoppingGridShippedMetadataWithVisitButton"===t&&(0,o.Uz)(e))&&(0,o.QY)(e)||""}},48380:(e,t,n)=>{function i(e){const t=[];let n="";for(const i of e)if(n){const e=!!i.match(/\s/),o=!!n.match(/\s/);if(e===o)n+=i;else if(!o&&n.includes("-")){let e=0;for(let i=0;i<n.length;i+=1)"-"===n[i]&&(t.push(n.substring(e,i+1)),e=i+1);t.push(n.substring(e)),n=i}else t.push(n),n=i}else n=i;return n.length&&t.push(n),t}function o({font:e,fontSize:t,textList:n,width:o}){var r,a;if("undefined"==typeof document||!document.body||o<=0||t<=0)return[];const s=document.body,l=document.createElement("div");s.appendChild(l);const d=null!=(null===(r=e.fontOverrides)||void 0===r?void 0:r.letterSpacing)?`${e.fontOverrides.letterSpacing}px`:void 0,c=(null===(a=e.fontOverrides)||void 0===a?void 0:a.lineHeight)||1.1,u={letterSpacing:d,lineHeight:String(c),fontFamily:e.fontFamily,fontSize:`${t}px`,visibility:"hidden"};Object.assign(l.style,u);const p=document.createElement("div");p.style.display="inline",l.appendChild(p);const _=document.createTextNode("");p.appendChild(_);const h=[];let E="";const m=e=>{const t=e.trim();return _.textContent=t,{text:t,width:p.offsetWidth}},I=e=>{const t=!!e.match(/\s/),n=0===E.length;if(_.textContent=`${E}${e}`,p.offsetWidth>o)if(t)h.push(m(E)),E="";else if(n)for(const i of e)I(i);else h.push(m(E)),E="",I(e);else E+=e};for(const f of null!=n?n:[]){0===f.length&&h.push(m(E));i(f).forEach((e=>I(e))),E.length&&(h.push(m(E)),E="")}return p.remove(),l.remove(),h}function r({boxHeight:e,boxWidth:t,font:n,startFontSize:i,text:r}){var a,s;if("undefined"==typeof document||!document.body)return{fontSize:i,lines:[]};const l=document.body,d=document.createElement("div");l.appendChild(d);const c=null==r?void 0:r.split(/\r?\n/g);let u=i;const p=null!=(null===(a=n.fontOverrides)||void 0===a?void 0:a.letterSpacing)?`${n.fontOverrides.letterSpacing}px`:void 0,_=(null===(s=n.fontOverrides)||void 0===s?void 0:s.lineHeight)||1.1,h={letterSpacing:p,lineHeight:String(_),fontFamily:n.fontFamily,fontSize:`${u}px`,position:"absolute",visibility:"hidden",width:`${t}px`};Object.assign(d.style,h);const E=document.createElement("div");for(E.style.display="inline",d.appendChild(E),(null!=c?c:[]).forEach(((e,t)=>{const n=document.createElement("span");n.style.wordBreak="break-word",E.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(null!=r?r:"").length-1&&n.appendChild(document.createElement("br"))}));(E.offsetHeight>e||E.offsetWidth>t)&&u>0;)u-=1,d.style.fontSize=`${u}px`;return E.remove(),d.remove(),{fontSize:u,lines:u>0?o({font:n,fontSize:u,textList:c,width:t}):[]}}n.d(t,{K:()=>r,Y:()=>i})},376387:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(974610);function o(e){var t;return{defaultStyle:0,fontFamily:null!==(t=e.name)&&void 0!==t?t:"",fontGroup:i.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},721237:(e,t,n)=>{n.d(t,{$l:()=>c,Lb:()=>p,NE:()=>h,Nc:()=>a,SR:()=>r,bm:()=>_,dZ:()=>d,nU:()=>u,o:()=>s,pU:()=>l});var i=n(325768),o=n(8720);function r(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function a(e){var t,n;return!(0,o.iR)(e.videos)&&!(0,o.hy)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function l(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function d(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function c(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function u(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function p(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const _=({viewer:e,pin:t})=>(0,i.su)(e)&&t.is_quick_promotable_by_pinner;function h({carouselInfo:e,closePanelWidth:t,isWideVideo:n,isShortImage:i,naturalWidth:o,showCloseupContentRight:r}){return!(n||!r)&&(!!i||!e&&o<t)}},613933:(e,t,n)=>{n.d(t,{Nb:()=>s,Of:()=>l,YO:()=>a,ZP:()=>u,x4:()=>c});var i=n(667294),o=n(880881),r=n(384342);const a=({showPdp:e,isLargerPane:t,showCloseupContentRight:n})=>e&&t?n?r.Uj:r.zT:1,s=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showPdp:i,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:a})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showPdp:i,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:a}))),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:r.CI,regular:r.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:r.Kn,regular:r.u6}},d=(0,i.createContext)(l);function c(){const e=(0,i.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const u=d},134040:(e,t,n)=>{n.d(t,{Bu:()=>o,Mg:()=>r,_z:()=>a,pM:()=>s,zc:()=>i});const i="story_pin",o="closefakemodal",r="button",a="video",s="image"},719373:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),o=n(376387),r=n(883119),a=n(48380),s=n(667910),l=n(685894),d=n(277703),c=n(785893);function u({block:e,fontsLoaded:t,scaleFactor:n}){const{block_style:u,style:p=l.Cc,text:_}=e,{alignment:h,font:E,font_size:m,highlight_color:I,vertical_alignment:f=l.Cc.vertical_alignment}=p,{hex_color:T=l.Cc.hex_color}=null!=p?p:{},[g,y]=(0,i.useState)(0),[S,v]=(0,i.useState)([]),P=E||l.Cc.font,{name:x,default_size:A,letter_spacing:R,line_height:b}=P,O=(0,o.Z)(P),N=Math.round(100*((null==u?void 0:u.width)||100))/1e4,C=Math.round(100*((null==u?void 0:u.height)||100))/1e4,w=Math.round(100*((null==u?void 0:u.x_coord)||0))/1e4,D=Math.round(100*((null==u?void 0:u.y_coord)||0))/1e4;(0,i.useEffect)((()=>{if(t){const e=(0,a.K)({text:_,boxHeight:s.U*C,boxWidth:s.q8*N,font:O,startFontSize:Math.floor(m||A||24)});v(e.lines),y(e.fontSize)}}),[t]);const L=g*n,M=I?(0,l.pE)(L,b):{x:0,y:0},k=N*s.q8*n+2*M.x,j=C*s.U*n+2*M.y,G=w*s.q8*n-M.x,B=D*s.U*n-M.y;return(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{left:G,top:B}},display:"flex",height:j,position:"absolute",width:k,children:(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:(0,d.RK)({alignment:h,verticalAlignment:f})},children:(0,c.jsx)(r.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,c.jsx)("p",{style:(0,d.BN)({fontSize:L,hexColor:T,letterSpacing:R,lineHeight:b,name:x}),children:S.map(((e,t)=>(0,c.jsx)("span",{style:(0,d.xm)({fontSize:L,hasText:e.text.length>0,highlightColor:I||null,lineHeight:b}),children:t===S.length-1?e.text:(0,c.jsxs)(i.Fragment,{children:[e.text," ",(0,c.jsx)("br",{})]})},`paragraphLine-${t}-${(null!=_?_:"").substr(0,9)}`)))})})})})}},435594:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),o=n(828116),r=n(751438),a=n(982844),s=n(112978),l=n(539195),d=n(710159),c=n(883119),u=n(785893);class p extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t=this,n="startAudiblePlayTime",i=this.props.muted?null:new Date,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){const{musicRecordingId:e,muted:t,pinId:n,video:i}=this.props;if(e&&!t&&this.startAudiblePlayTime){if(new Date-this.startAudiblePlayTime>=2e3){const{hlsv3:t,mp4:o}=(0,r.Z)(i)||{},a=o||t,s=(null==a?void 0:a.duration)||0;this.props.logContextEvent({event_type:8999,object_id_str:e,aux_data:{pin_id:n,story_pin_music_duration:s}})}}}render(){const{activePageIndex:e,blockHeight:t,blockPosition:n,blockWidth:i,customEndCard:s,closeupStoryPinViewability:l,isPlaying:d,isVideoThumbnailFixEnabled:p,muted:_,onEnded:h,onUpdateVideoInfo:E,pageIndex:m,pinId:I,video:f}=this.props,{hlsv3:T,mp4:g}=(0,r.Z)(f)||{},y=g||T;if(!y)return null;const{height:S,thumbnail:v,width:P}=y,x=(null!=P?P:1)/(null!=S?S:1),A={height:"100%",left:"0",top:"0",width:"100%"},R=i/t;if(Math.abs(R-x)>.01)if(R<x){const e=100*x/R;A.width=`${e}%`,A.left=`-${(e-100)/2}%`}else if(R>x){const e=100*R/x;A.height=`${e}%`,A.top=`-${(e-100)/2}%`}const b="number"==typeof e&&m<=e+3;return(0,u.jsx)(c.xu,{height:t,overflow:"hidden",position:"relative",width:i,children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{left:n.left<0?n.left:0,top:n.top<0?n.top:0}},height:"100%",position:"absolute",width:"100%",children:b||d?(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:A},position:"absolute",children:(0,u.jsx)(o.Z,{loop:!1,autoplay:d,closeupStoryPinViewability:l,contextLogData:{component:0===m?227:228,element:10957,objectId:I,story_pin_page_id:m,view:3,viewParameter:157},customThumbnail:p?(0,a.c)(v):v,customEndCard:s,isPromoted:!1,muted:_,pinId:I,showControls:"never",variant:"storyPin",preferMp4:!!g,objectFit:g?"cover":void 0,video:{id:f.id,hlsv3:T,mp4:g},onTimeChange:({time:e})=>{if(E&&"number"==typeof y.duration&&y.duration>0){const t=y.duration/1e3;E(e,t)}},onEnded:()=>{h&&h(m)}})}):(0,u.jsx)(c.Ee,{alt:this.props.i18n._("Video cover image","closeup.storyPin.videoCover","cover image displayed for a video"),fit:"cover",naturalHeight:null!=S?S:1,naturalWidth:null!=P?P:1,src:null!=v?v:""})})})}}function _(e){const{logContextEvent:t}=(0,l.v)(),n=(0,d.ZP)(),i=(0,s.tc)("web_np_idea_pin_video_thumbnail_fix")().anyEnabled;return(0,u.jsx)(p,{...e,i18n:n,isVideoThumbnailFixEnabled:i,logContextEvent:t})}},587866:(e,t,n)=>{n.d(t,{e7:()=>P,l3:()=>x,_B:()=>A,Xw:()=>b,tD:()=>O,B5:()=>R,ZP:()=>w});var i=n(379771),o=n(539195),r=n(925927),a=n(883119),s=n(785893);const l=({block:{block_style:{height:e=0,width:t=0,x_coord:n=0,y_coord:l=0,rotation:d=0}={},original_comment_id:c},scaleFactor:u})=>{const{logContextEvent:p}=(0,o.v)(),_=A/(x/P),h=t*A*u/100,E=e*_*u/100,m=n*A*u/100,I=l*_*u/100,f=(0,r.k6)(),{data:T}=(0,i.Z)({name:"AggregatedCommentResource",options:{commentId:c,field_set_key:"comment_reply_sticker"}});return(0,s.jsx)(a.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{left:m,top:I,transform:`rotate(${d}deg)`}},height:E,position:"absolute",width:h,rounding:2,zIndex:R,padding:1,margin:-1,children:(0,s.jsx)(a.iP,{onTap:()=>{p({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:c}}),null!=T&&T.pin_id&&f.push(`/pin/${T.pin_id}/comments/${c||""}`)},rounding:"pill"})})};var d=n(339991),c=n(667294),u=n(156575),p=n(710159),_=n(685894),h=n(123686),E=n(112978);function m({block:e,elementType:t,onFlyoutOpen:n,pageIndex:l,productPins:d,scaleFactor:m,tooltipElementType:I,videoPinProgress:f}){var T;const{logContextEvent:g}=(0,o.v)(),[y,S]=(0,c.useState)(!1),v=(0,c.useRef)(),N=(0,r.k6)(),C=(0,p.ZP)(),{block_style:{height:w=0,width:D=0,x_coord:L=0,y_coord:M=0,rotation:k=0}={},end_time:j,error_message:G,interactive_sticker_type:B=null,is_removed:U,is_valid:F,start_time:H,sticker_data:Z,type:V}=e,W=e.pin_id,Y=(d||[]).find((e=>e.id===W))||{},{board_id:z}=Z||{},{image_small_url:K,full_name:X,username:$=""}=null!==(T=e.user)&&void 0!==T?T:{};let q=null;const J=F&&5===B&&!!z,Q=(0,i.Z)({name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:z,dangerouslyDisableFetch:!J}}),{is_collaborative:ee,pin_count:te,url:ne}=Q.data||{};V===_.h8.PRODUCT_STICKER?q=W?`/pin/${W}/`:"/":V===_.h8.MENTION_STICKER?q=`/${$}/`:J&&(q=Q.isLoaded?`${ne}`:null);const ie=A/(x/P),oe=D*A*m/100,re=w*ie*m/100,ae=L*A*m/100,se=M*ie*m/100,{anyEnabled:le}=(0,E.aq)("web_story_pin_tag_duration"),{currentTime:de,duration:ce}=f||{};let ue=!1;if((H||0===H)&&j){const e=H<j&&j<=ce,t=H<=de&&de<=j;ue=!!le&&(!e||!t)}const pe=()=>{g({event_type:123,component:228,element:I,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:l}}),S(!1)};(0,c.useEffect)((()=>(document.addEventListener("scroll",(()=>{S(!1)})),()=>document.removeEventListener("scroll",(()=>{S(!1)})))),[]);const _e=()=>{let e=null;switch(V){case _.h8.PRODUCT_STICKER:const t=40,{grid_title:n,images:i,rich_summary:o,description:r}=Y||{},l=(i||{})["236x"]||{},{display_name:d,products:p}=o||{},E=((p||[])[0]||{}).offer_summary||{},{price:m,max_price:I}=E||{},f=!(!E||!m&&!I),T=d||n||r;e=(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(a.xu,{flex:"none",children:(0,s.jsx)(a.zd,{wash:!0,height:t,width:t,rounding:3,children:(0,s.jsx)(a.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:l.url||""})})}),(0,s.jsx)(a.xu,{flex:"grow",paddingX:2,children:f?(0,s.jsxs)(a.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,s.jsx)(a.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:m}),(0,s.jsx)(a.xv,{size:"100",lineClamp:1,children:T})]}):(0,s.jsx)(a.xv,{size:"100",lineClamp:1,children:T})}),(0,s.jsx)(a.xu,{flex:"none",children:(0,s.jsx)(a.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case _.h8.MENTION_STICKER:e=(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(a.xu,{flex:"none",children:(0,s.jsx)(u.Z,{size:"sm",name:null!=X?X:"",src:null!=K?K:void 0})}),(0,s.jsx)(a.xu,{flex:"grow",paddingX:2,children:(0,s.jsx)(a.xv,{weight:"bold",size:"200",lineClamp:1,children:X})}),(0,s.jsx)(a.xu,{flex:"none",children:(0,s.jsx)(a.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case _.h8.GENERIC_STICKER:e=F?J?Q.isLoaded?(0,s.jsxs)(c.Fragment,{children:[(0,s.jsxs)(a.xu,{flex:"grow",paddingX:2,children:[(0,s.jsx)(a.xv,{weight:"bold",size:"100",lineClamp:1,children:ee?C._("Explore this group board","closeup.StoryPin.stickerBlock.boardSticker.clickLabel","Label explaining click action when group board tag flyout showing"):C._("Explore this board","closeup.StoryPin.stickerBlock.boardSticker.clickLabel","Label explaining click action when board tag flyout showing")}),(0,s.jsx)(a.xv,{size:"100",children:(!!te||0===te)&&(0,h.nk)(C.ngettext("{{ pinCount }} Pin","{{ pinCount }} Pins",te,"closeup.StoryPin.stickerBlock.boardSticker.boardLabel","Caption when board tag flyout that showing number of Pins on board"),{pinCount:te})})]}),(0,s.jsx)(a.xu,{flex:"none",children:(0,s.jsx)(a.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,s.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,s.jsx)(a.xu,{marginEnd:1,paddingX:2,children:(0,s.jsx)(a.xv,{color:"subtle",size:"100",lineClamp:1,children:C._("Loading board...","closeup.StoryPin.stickerBlock.boardSticker.loadingText","Label explaining board sticker still loading")})}),(0,s.jsx)(a.$j,{accessibilityLabel:C._("Board is loading","closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText","Accessibility label for board loading spinner"),size:"sm",show:!0})]}):(0,s.jsx)(a.xu,{paddingX:2,paddingY:2,children:(0,s.jsx)(a.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:C._("Sticker not supported yet","closeup.StoryPin.stickerBlock.genericStickerError","Label explaining this sticker has not been implemented yet")})}):(0,s.jsx)(a.xu,{paddingX:2,paddingY:2,children:(0,s.jsx)(a.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:G})});break;case _.h8.VTO_MAKEUP_STICKER:e=(0,s.jsx)(a.xv,{weight:"bold",size:"300",children:C._("Try this sticker on your phone!","closeup.storyPin.vtoMakeupSticker","Caption when @vitural-try-on-makeup tag is tapped for Web")})}return(0,s.jsx)(a.xu,{alignItems:"center","data-test-id":V,display:"flex",justifyContent:"center",padding:V===_.h8.PRODUCT_STICKER?1:3,width:"100%",children:U?(0,s.jsx)(a.xv,{color:"subtle",weight:"bold",size:"200",children:C._("Tag removed!","closeup.storyPin.stickerBlock","Caption when the tag is removed")}):e})};return(0,s.jsx)(c.Fragment,{children:ue?null:(0,s.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{left:ae,top:se,transform:`rotate(${k}deg)`}},"data-test-id":(V||"")+"_container",display:"flex",height:re+2*b,margin:-1,padding:1,position:"absolute",ref:v,rounding:2,width:oe+2*b,zIndex:R,children:[(0,s.jsx)(a.iP,{onTap:y?pe:({event:e})=>{ue||(g({event_type:101,component:228,element:t,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:l}}),g({event_type:120,component:228,element:I,view_type:3,view_parameter:157,aux_data:{error_message:!F&&G?G:null,story_pin_page_id:l}}),S(!0),n&&(e.stopPropagation(),n()))},rounding:"pill",disabled:ue}),y&&(0,s.jsx)(a.mh,{zIndex:O,children:(0,s.jsx)(a.J2,{anchor:v.current,idealDirection:"up",onDismiss:pe,positionRelativeToAnchor:!1,showCaret:!0,size:U?"flexible":"sm",children:U?_e():(0,s.jsx)(a.iP,{onTap:({event:e})=>{e.preventDefault(),U||(g({event_type:101,component:228,element:I,object_id_str:W,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:l}}),q?N.push(q):pe())},fullWidth:!0,children:_e()})})})]})})}var I=n(719373),f=n(435594),T=n(456168);function g({ownerId:e}){const t=(0,p.ZP)(),n=(0,T.Z)(),i=n.isAuth&&n.id===e;return(0,s.jsxs)(a.xu,{alignItems:"center",color:"gray",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,s.jsx)(a.xv,{color:"inverse",children:i?t._("Your video is processing!","closeup.storyPin.videoPlaceholder","Let user know that their video is still processing"):t._("This video is still processing!","closeup.storyPin.videoPlaceholder","Let user know that this video is still processing")}),(0,s.jsx)(a.xv,{color:"inverse",children:t._("Check back in a few minutes.","closeup.storyPin.videoPlaceholder","Let user know to come back in a couple of minutes to view the video")})]})}var y=n(328865),S=n(904810),v=n(134040);const P=16,x=9,A=375,R=new a.Ry(1),b=4,O=new a.Ry(3);function N({block:e,isActive:t,pwtTrackImageLoad:n}){var i,o,r,a,l;const c=(0,p.ZP)();if(!e.image)return null;const u=(null===(i=e.image.images)||void 0===i?void 0:i["750x"])||(null===(o=e.image.images)||void 0===o?void 0:o["474x"]);return(0,s.jsx)(d.Z,{alt:c._("Story pin image","closeup.storypin.renderer","Alt text for story pin image"),isActive:t,naturalHeight:null!==(r=null==u?void 0:u.height)&&void 0!==r?r:1,naturalWidth:null!==(a=null==u?void 0:u.width)&&void 0!==a?a:1,src:null!==(l=null==u?void 0:u.url)&&void 0!==l?l:"",onLoad:n})}function C({activePageIndex:e,block:t,closeupStoryPinViewability:n,isActive:i,customEndCard:o,isSplitLayout:r=!1,musicRecordingId:l,muted:d,onEnded:c,onUpdateVideoInfo:u,ownerId:p,pageIndex:_,pinId:h,scaleFactor:E,stillLoading:m}){var I,T;const{block_style:{height:y=100,width:S=100,x_coord:v=0,y_coord:R=0}={},video:b}=t,O=A/(x/P),N=S*A*E/100,C=y*O*E/100,w=v*A*E/100,D=R*O*E/100,L=S<100?Math.min(Math.max(100,S)-Math.abs(v),S):Math.min(Math.max(S-Math.abs(v),0),100),M=(y<100?Math.min(Math.max(100,y)-Math.abs(R),y):Math.min(Math.max(y-Math.abs(R),0),100))*O*E/100,k=L*A*E/100,j=Math.max(R,0)*O*E/100,G=Math.max(v,0)*A*E/100;if(m)return null;if(!b)return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:G,top:j}},height:M,position:"absolute",width:k,children:(0,s.jsx)(g,{ownerId:p})});return!!((null===(I=b.video_list)||void 0===I?void 0:I.V_HLSV3_MOBILE)||(null===(T=b.video_list)||void 0===T?void 0:T.V_720P))&&(0,s.jsx)(a.xu,{height:r?"50%":"100%",overflow:"hidden",position:"relative",children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:G,top:j}},height:M,overflow:"hidden",position:"absolute",width:k,children:(0,s.jsx)(f.Z,{activePageIndex:e,customEndCard:o,blockHeight:C,blockPosition:{left:w,top:D},blockWidth:N,closeupStoryPinViewability:n,isPlaying:i,musicRecordingId:l,muted:d,onEnded:c,onUpdateVideoInfo:u,pageIndex:_,pinId:h,video:b})})})}function w({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:i,fontsLoaded:o,isActive:r,isSplitLayout:d=!1,musicRecordingId:c,muteVideos:u,onEnded:p,onFlyoutOpen:h,onUpdateVideoInfo:f,ownerId:T,pageIndex:g,pageWidth:P,pinId:x,previewOnly:R,productPins:b,stillLoading:O=!1,videoPinProgress:w}){const{block_style:{height:D=100,width:L=100,x_coord:M=0,y_coord:k=0}={},interactive_sticker_type:j=null}=t,{anyEnabled:G}=(0,E.aq)("web_np_board_sticker_display",t.type===_.h8.GENERIC_STICKER),B=(0,S.g)(),U=(0,y.EV)(),F=()=>{B&&r&&(B.addBinaryAnnotation("pin.id",x,"STRING"),B.addBinaryAnnotation("video",!1,"BOOL"),B.stop()),U&&r&&(U.addBinaryAnnotation("pin.id",x,"STRING"),U.addBinaryAnnotation("video",!1,"BOOL"),U.removeConstraint(v._z),U.markConstraintComplete(v.pM))};if(0===D||0===L)return null;const H=P/A;switch(t.type){case _.h8.PARAGRAPH:case _.h8.HEADING:return(0,s.jsx)(I.Z,{block:t,fontsLoaded:o,scaleFactor:H});case _.h8.VIDEO:return(0,s.jsx)(C,{customEndCard:i,activePageIndex:e,block:t,closeupStoryPinViewability:n,isActive:r,isSplitLayout:d,musicRecordingId:c,muted:u,ownerId:T,onEnded:p,onUpdateVideoInfo:f,pageIndex:g,pinId:x,scaleFactor:H,stillLoading:O});case _.h8.IMAGE:return(0,s.jsx)(a.xu,{overflow:"hidden",position:"absolute",dangerouslySetInlineStyle:{__style:{height:`${D}%`,left:`${M}%`,top:`${k}%`,width:`${L}%`}},children:(0,s.jsx)(N,{block:t,isActive:r,pwtTrackImageLoad:F})});case _.h8.MENTION_STICKER:return!R&&(0,s.jsx)(m,{block:{...t},elementType:12120,onFlyoutOpen:h,pageIndex:g,scaleFactor:H,tooltipElementType:12121,videoPinProgress:w});case _.h8.GENERIC_STICKER:return G&&!R&&(e=>{switch(j){case 5:return(0,s.jsx)(m,{block:{...e},elementType:12827,onFlyoutOpen:h,pageIndex:g,scaleFactor:H,tooltipElementType:12828,videoPinProgress:w});default:return(0,s.jsx)(m,{block:{...e},elementType:12858,onFlyoutOpen:h,pageIndex:g,scaleFactor:H,tooltipElementType:12859,videoPinProgress:w})}})(t);case _.h8.PRODUCT_STICKER:return!R&&(0,s.jsx)(m,{block:{...t},elementType:12223,onFlyoutOpen:h,pageIndex:g,productPins:b,scaleFactor:H,tooltipElementType:12224,videoPinProgress:w});case _.h8.VTO_MAKEUP_STICKER:return!R&&(0,s.jsx)(m,{block:{...t},elementType:12561,onFlyoutOpen:h,pageIndex:g,scaleFactor:H,tooltipElementType:12561,videoPinProgress:w});case _.h8.COMMENT_REPLY_STICKER:return t.type===_.h8.COMMENT_REPLY_STICKER&&!R&&(0,s.jsx)(l,{block:t,scaleFactor:H});default:return null}}},422296:(e,t,n)=>{n.d(t,{Y:()=>c,Z:()=>u});var i=n(667294),o=n(587866),r=n(759679),a=n(710159),s=n(685894),l=n(883119),d=n(785893);const c=[s.h8.COMMENT_REPLY_STICKER,s.h8.GENERIC_STICKER,s.h8.HEADING,s.h8.IMAGE,s.h8.MENTION_STICKER,s.h8.PARAGRAPH,s.h8.PRODUCT_STICKER,s.h8.VIDEO,s.h8.VTO_MAKEUP_STICKER];function u({activePageIndex:e,closeupStoryPinViewability:t,fontsLoaded:n,hideMute:u,isActive:p,customEndCard:_,isPreview:h,muteVideos:E,onChangeMuteVideo:m,onEnded:I,onFlyoutOpen:f,onUpdateVideoInfo:T,ownerId:g,page:y,pageIndex:S,pageWidth:v,pinId:P,productPins:x,shouldLogTimeSpent:A=!0,stillLoading:R=!1,videoPinProgress:b,viewParameter:O,viewType:N}){var C;const w=(0,a.ZP)(),[D,L]=(0,i.useState)(!1),{background_color:M}=y.style||{},k=[],j=[],G=[];(null!==(C=y.blocks)&&void 0!==C?C:[]).forEach((e=>{c.includes(e.type)?e.type===s.h8.PARAGRAPH||e.type===s.h8.HEADING?j.push(e):G.push(e):k.push(e)})),G.push(...j);const B=!!G.find((e=>e.type===s.h8.VIDEO)),U=k.find((e=>e.type===s.h8.MUSIC)),F="story_pin_music_block"===(null==U?void 0:U.type)?U.provider_recording_id:void 0,H=()=>(0,d.jsx)(l.iP,{fullHeight:!0,onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),children:(0,d.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{background:M||"#fff"}},height:"100%",children:[!h&&G.map(((i,r)=>{var a,s;return(0,d.jsx)(o.ZP,{activePageIndex:e,customEndCard:_,block:i,closeupStoryPinViewability:t,fontsLoaded:n,isActive:p,isSplitLayout:3===y.layout,musicRecordingId:F,muteVideos:E,ownerId:g,onEnded:I,onFlyoutOpen:f,videoPinProgress:b,onUpdateVideoInfo:T,pageIndex:S,pageWidth:v,pinId:P,productPins:x,stillLoading:R},`${null!==(a=y.id)&&void 0!==a?a:""}-${null!==(s=i.type)&&void 0!==s?s:""}-${r}`)})),u||h||!B||!D&&!E?null:(0,d.jsx)(l.xu,{bottom:!0,left:!0,padding:4,position:"absolute",children:E?(0,d.jsx)(l.hU,{accessibilityLabel:w._("Click to unmute","closeup.storyPin.storyPinVideo.volume","Button to unmute the video"),bgColor:"white",icon:"mute",iconColor:"darkGray",onClick:()=>m(!1)}):(0,d.jsx)(l.hU,{accessibilityLabel:w._("Click to mute","closeup.storyPin.storyPinVideo.volume","Button to mute the video"),bgColor:"white",icon:"sound",iconColor:"darkGray",onClick:()=>m(!0)})})]})});return A?(0,d.jsx)(r.Z,{view:N,viewParameter:O,component:0===S?227:228,auxData:{story_pin_page_id:S},shouldUseGrandparentId:!0,children:H()}):H()}},384342:(e,t,n)=>{n.d(t,{CI:()=>r,Ch:()=>s,Gb:()=>l,Gg:()=>i,Ie:()=>p,JV:()=>h,KP:()=>_,Kn:()=>a,Uj:()=>d,bx:()=>E,d2:()=>u,g9:()=>m,iB:()=>I,u6:()=>o,zT:()=>c});const i=508,o=2*i,r=488,a=992,s=672,l=1176,d=.6,c=.84,u=40,p=72,_=740,h=60,E=912,m=32,I={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},248240:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(67316),o=n(633612);function r(e,t){const n=o.Z.instance;let r;if(n){const o=n.getState();if(o.pins&&e){const n=o.pins[e],a=o.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));n&&(r=t?e[t]:e.PinResource)}else n&&(r=(0,i.Z)(n,a))}}return r}},675152:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(648925),o=n(994953);const r=(0,i.Z)((e=>{const{videos:t}=e.pin,{id:n,video_list:i={}}=t||{},{V_720P:r,V_HLSV4:a,V_HLSV3_MOBILE:s}=i,l=(0,o.V)(a),d=(0,o.V)(s),c=(0,o.V)(r),u=c||l||d;return n&&u?{...e,video:{id:n,hasVideo:u,mp4:c||void 0,hls:l||void 0,hlsv3:d||void 0}}:null}))},613239:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(966338),o=n(850770),r=n(255948),a=n(531572),s=n(539195),l=n(613933),d=n(883119),c=n(785893);function u({carouselData:e,carouselIndex:t,componentType:n,contextLogData:u,handleCarouselSwipe:p,isCloseup:_,isEditMode:h,pinId:E,viewParameter:m,viewType:I,variant:f}){const{logContextEvent:T}=(0,s.v)(),g=(0,i.useSelector)((({pins:e})=>e[E]),i.shallowEqual),y=e||(0,o.Z)({pin:g}),S=(0,i.useDispatch)();if(!y)return null;const v=(e,t,i)=>{h||void 0===r.yR||(e.preventDefault(),e.stopPropagation(),S((0,r.yR)(String(E),i))),void 0!==p&&p(i),((e,t,n,i=0,o,r,s,l,d,c,u)=>{if(!u){const{carousel_slots:u,id:p}=r;e({event_type:108,object_id_str:n,component:d,view_type:l,view_parameter:s,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[i])&&Number(u[i].id),carouselDataId:Number(p),carouselSlotIndex:i,toCarouselSlotIndex:o}},aux_data:{...c,...(0,a.Kl)(t)||{}}})}})(T,g,E,t,i,y,m,I,n,u,h)},{carousel_slots:P=[],index:x}=y,A=void 0!==t?t:x,R="default"===f,b=R?"white":"#555",O=R?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,c.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,c.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:_?"end":"center",paddingY:h?1:0,children:[...Array(P.length).keys()].map((e=>{var t;return(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.iP,{accessibilityLabel:null!==(t=P[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>v(t,A,e),rounding:"circle",children:(0,c.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===A?b:O}},rounding:"circle"})})},E+e)}))})})}},796629:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),o=n(126684),r=n(400052),a=n(517649),s=n(573686),l=n(531572),d=n(8720),c=n(539195),u=n(785893);function p({children:e,hovered:t,pin:n,slotIndex:p,trafficSource:_,viewType:h}){const{logContextEvent:E}=(0,c.v)(),[m,I]=(0,i.useState)(),[f,T]=(0,i.useState)(),{id:g,tracked_link:y,link:S}=n,v=y||S||"",P=()=>{I(!0)},x=(0,s.Z)(n),A=(0,a.Z)((0,o.Z)({pin:n})),R=(0,i.useCallback)((()=>{((e,t,n)=>{const i={check_only:n,pin_id:e.id,url:t,client_tracking_params:x,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:g,...p||{},...(0,l.Kl)(e)||{}})};return(0,r.Z)(i)})(n,v,!1).callGet({showError:!1}).then((e=>{e&&(E({event_type:12,object_id_str:g,view_type:h,view_parameter:A,aux_data:{clickthrough_type:"rightClick",...p||{},...(0,l.Kl)(n)||{}}}),E({event_type:8948,view_type:h,object_id_str:g,view_parameter:A,aux_data:{click_type:"clickthrough",closeup_navigation_type:_&&(0,d.sV)(_)?"deeplink":"click",clickthrough_type:"rightClick",...p||{},...(0,l.Kl)(n)||{}}}))}))})),b=e=>{var t;m&&(/^\/pin/.test(null===(t=e.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(R(),I(!1)),window.removeEventListener(f,b,!1))};return(0,i.useEffect)((()=>{var e,t,n,i,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?T("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(i=n.document)||void 0===i?void 0:i.msHidden)?T("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&T("webkitvisibilitychange")}),[]),(0,i.useEffect)((()=>(m&&window&&window.addEventListener(f,b,!1),()=>window.removeEventListener(f,b))),[m,f]),(0,i.useEffect)((()=>(t&&window.addEventListener("contextmenu",P),()=>{window.removeEventListener("contextmenu",P)})),[t]),(0,u.jsx)(i.Fragment,{children:e})}},848392:(e,t,n)=>{n.d(t,{J:()=>i,o:()=>o});const i="numSearchCloseups",o=20},565375:(e,t,n)=>{n.d(t,{ZP:()=>l,tY:()=>c,Yh:()=>d});var i=n(966338),o=n(379771),r=n(456168);const a=0,s=1;function l(e){var t;const n=(0,r.Z)(),i=n.isAuth&&n.id===e,a=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!n.isAuth||i});return{showEnabledSaveBehavior:i&&n.has_quicksave_board||!(!n.isAuth||null===(t=a.data)||void 0===t||!t.has_quicksave_board)}}function d(e){var t;const n=(0,i.useDispatch)(),a=(0,r.Z)(),s=a.isAuth&&!!a.boardCount&&a.boardCount<5&&e,l=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id},dangerouslyDisableFetch:!s||!e});return a.isAuth&&void 0===a.save_behavior&&l&&null!==(t=l.data)&&void 0!==t&&t.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:s}}function c(e){const t=(0,r.Z)();let n;return e&&(t.save_behavior===a?n={type:"classic"}:t.save_behavior===s&&(n={type:"inline"})),{saveBehaviorType:n}}},385894:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(379771),o=n(925927);function r(){const{username:e}=(0,o.UO)();return(0,i.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}},712611:(e,t,n)=>{n.d(t,{k:()=>r,s:()=>a});var i=n(667294);const o=(0,i.createContext)(Object.freeze({})),r=o.Provider;function a(){return(0,i.useContext)(o)}},130510:(e,t,n)=>{n.d(t,{Ac:()=>r,c7:()=>o,cg:()=>i});const i=-1,o=5,r=6},235198:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(588028),o=n(257758);function r({action:e,board:t,viewer:n}){var r;return(0,i.Z)(n,t)||(0,o.Z)({board:t,viewer:n})&&!(null===(r=t.collaborator_permissions)||void 0===r||!r.includes(e))}},257758:(e,t,n)=>{function i({board:e,viewer:t}){const{collaborated_by_me:n}=e;return Boolean(t.isAuth&&n)}n.d(t,{Z:()=>i})},235744:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(588028),o=n(257758);function r({board:e,viewer:t}){return(0,i.Z)(t,e)||(0,o.Z)({board:e,viewer:t})}},792098:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(811290),o=n(494618),r=n(527618),a=n(883119),s=n(785893);const l=({count:e,countFormat:t,ratingValue:n,shippingInfo:r,highlightLabel:l})=>(0,s.jsxs)(a.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,s.jsx)(i.Z,{count:e,countFormat:t,rating:n,textSize:"200"}),(0,s.jsx)(o.ZP,{customStyles:{color:l?"shopping":"subtle",size:"md"},shippingInfo:r})]}),d=({count:e,countFormat:t,ratingValue:n,shippingInfo:l,condition:d,highlightLabel:c})=>(0,s.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:2,wrap:!0,children:[(0,s.jsx)(i.Z,{count:e,countFormat:t,rating:n,textSize:"300"}),(0,s.jsx)(o.ZP,{condition:d,customStyles:{color:c?"shopping":"default",size:"lg"},shippingInfo:l,showPrevDot:(0,r.Z)({count:e,rating:n})})]});function c(e){return e.isGridView?(0,s.jsx)(l,{...e}):(0,s.jsx)(d,{...e})}},388481:(e,t,n)=>{n.d(t,{$O:()=>s,GZ:()=>d,OE:()=>c,Xv:()=>l,Z0:()=>i,_z:()=>r,fM:()=>a,qA:()=>o,zX:()=>u});const i=40,o=4,r=106,a=133,s=.1,l=10,d=246,c=197,u=236},667910:(e,t,n)=>{n.d(t,{Lh:()=>p,S8:()=>a,U:()=>c,Ym:()=>l,Zy:()=>o,dD:()=>i,eE:()=>s,er:()=>u,j7:()=>_,n5:()=>r,q8:()=>d});const i=3,o=3,r=20,a=100,s=75,l=9/16,d=375,c=d/l,u=1200,p="#FFFFFF",_={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"}},828116:(e,t,n)=>{n.d(t,{Z:()=>N});var i=n(667294),o=n(52063),r=n(929156),a=n(448400),s=n(278482),l=n(685894),d=n(727853),c=n(71445),u=n(42623),p=n(539195),_=n(710159),h=n(786654),E=n(883119),m=n(785893);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},T={overlay:{__style:{backgroundColor:"#000"}}};class g extends i.PureComponent{constructor(...e){super(...e),I(this,"handleRestartVideo",(({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),c.Z.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})})),I(this,"handleShareVideo",(()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n,requireAuth:i,logContextEvent:o}=this.props;t&&c.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),o({event_type:101,component:179,object_id_str:n,view_type:3,view_parameter:156,element:11731}),i((()=>{e&&e()}))()})),I(this,"handleExternalSend",(()=>{c.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})})),I(this,"renderReplayButton",(()=>(0,m.jsx)(E.iP,{onTap:this.handleRestartVideo,rounding:2,children:(0,m.jsxs)(E.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,m.jsx)(E.JO,{accessibilityLabel:this.props.i18n._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:f,size:30}),(0,m.jsx)(E.xu,{margin:1}),(0,m.jsx)(E.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})}))),I(this,"renderShareButton",(()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:o}=this.props;return(0,m.jsxs)(E.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,m.jsx)(u.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:i,onToggleFlyout:this.handleShareVideo,pinId:o,sendType:"pin",shownWithinMasonry:!0,iconOnly:!0}),(0,m.jsx)(E.xu,{margin:1}),(0,m.jsx)(E.iP,{onTap:this.handleShareVideo,rounding:2,children:(0,m.jsx)(E.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished")})})]})}))}componentDidMount(){const{pinId:e,logContextEvent:t}=this.props;c.Z.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),t({event_type:13,component:179,object_id_str:e,view_type:3,view_parameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return(0,m.jsx)(E.xu,{children:(0,m.jsxs)(E.Ee,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,m.jsx)(E.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:T.overlay}),(0,m.jsx)(E.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,m.jsxs)(E.xu,{position:"absolute",children:[(0,m.jsx)(E.xu,{children:this.renderShareButton()}),(0,m.jsx)(E.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function y(e){const{logContextEvent:t}=(0,p.v)(),n=(0,_.ZP)(),i=(0,h.Z)();return(0,m.jsx)(g,{...e,i18n:n,requireAuth:i,logContextEvent:t})}const S=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o})=>{const r=(0,_.ZP)();return(0,m.jsx)(E.xu,{children:(0,m.jsxs)(E.Ee,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,m.jsx)(E.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:T.overlay}),(0,m.jsx)(E.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,m.jsx)(E.xu,{children:(0,m.jsx)(E.iP,{onTap:i,rounding:2,children:(0,m.jsxs)(E.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,m.jsx)(E.JO,{accessibilityLabel:r._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:f,size:30}),(0,m.jsx)(E.xu,{margin:1}),(0,m.jsx)(E.X6,{color:"light",overflow:"normal",size:"400",children:r._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})})})]})})};var v=n(134040),P=n(328865),x=n(952733),A=n(313197),R=n(904810);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.Component{constructor(...e){super(...e),b(this,"state",{controls:"always"===this.props.showControls&&!this.props.disabled,fullscreen:!1,playing:!(0,s.G6)(this.props.requestContext.userAgent.browserName)&&(!!this.props.autoplay&&!this.props.disabled),ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),b(this,"setVideoPwtLoadingStop",((e=!1)=>{if(!r.Z)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:r.Z.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(v._z),i.addSubspan("perceived_video_load",null,r.Z.now()),i.metricId.segment===v.zc&&i.removeConstraint(v.pM))})),b(this,"componentDidMount",(()=>{const{customThumbnail:e,video:t,preferMp4:n}=this.props,i=t.mp4,o=t.hlsv3||t.hls||null,{thumbnail:r}=n&&i||o||{},a=(s=e||r)&&document.querySelector(`video[poster="${s}"]`)||null;var s;4===(null==a?void 0:a.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))})),b(this,"componentDidUpdate",((e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:"never"!==this.props.showControls}),e.isPlaying&&!1===this.props.isPlaying&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1}),(t.controls||t.playing)&&this.props.disabled&&this.setState({playing:!1,controls:!1}),!t.playing&&this.state.playing&&this.props.onPlay&&this.props.onPlay()})),b(this,"handleTouch",(()=>{const{seeking:e}=this.state,{disabled:t}=this.props;e||t||this.setState((e=>({playing:!e.playing})))})),b(this,"handleShowControls",(()=>this.setState({controls:!0}))),b(this,"handleHideControls",(()=>this.setState({controls:!1}))),b(this,"handleReady",(()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})})),b(this,"handleEnded",(({event:e})=>{const{customThumbnail:t,customEndCard:n,pinId:i,setCurrentVideo:o,loop:r,onEnded:a}=this.props;var s;e.stopPropagation(),r||(this.setState({playing:!1}),(s=t)&&s.endsWith(".gif")||n||(this.setState({showEndCard:!0}),o({pinId:i,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),a&&a()})),b(this,"handlePause",(({event:e})=>{e.stopPropagation(),this.setState({playing:!1})})),b(this,"handlePlay",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0})})),b(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})})),b(this,"handlePlayheadDown",(({event:e})=>{this.setState({seeking:!0})})),b(this,"handlePlayheadUp",(({event:e})=>{setTimeout((()=>{this.setState({seeking:!1})}),500)})),b(this,"handleRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),b(this,"handleShareRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),b(this,"handleVolumeChange",(({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})})),b(this,"exitFullscreen",(()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())})),b(this,"renderCloseupVideoEndCard",((e,t,n,i)=>{const o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},r={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:a}=this.props,s={gridDescription:a?a.gridDescription:"",imageSrc:a?a.imageSrc:"",isFlyoutOpen:!!a&&a.isFlyoutOpen,onFlyoutDismiss:a?a.onFlyoutDismiss:()=>{},onToggleFlyout:a?a.onToggleFlyout:()=>{},pinId:a?a.pinId:""};return i?(0,m.jsx)(S,{...r}):(0,m.jsx)(y,{...s,...o})}))}render(){const{autoplay:e,closeupStoryPinViewability:t,contextLogData:n={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:i,isPromoted:r,loop:d,onTimeChange:c,objectFit:u,preferMp4:p,preload:_,requestContext:h,storyPinContext:I,showControls:f,variant:T,video:g,videoStartTime:y}=this.props;n.is_closeup_video=!0;const{controls:S,fullscreen:v,playing:P,showEndCard:x,volume:A}=this.state,R=g.hlsv3||g.hls||null,{ideaPinSessionId:b}=I||{};if(!R&&!g.mp4)return null;const O=g.mp4,N=p&&O&&O.url||R&&[{type:"video/m3u8",src:R.url}]||void 0,{height:C,thumbnail:w,width:D}=p&&O||R||{},L=i||w;let M;return M="default"===T?0:"storyPin"===T?l.yR:2,(0,m.jsx)(E.zd,{willChangeTransform:!((0,s.G6)(h.userAgent.browserName)&&v),rounding:M,wash:!0,children:x?this.renderCloseupVideoEndCard(null!=L?L:"",null!=C?C:1,null!=D?D:1,r):(0,m.jsx)(E.iP,{onMouseEnter:"hover"===f?this.handleShowControls:void 0,onMouseLeave:"hover"===f?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:(0,m.jsx)(o.ZP,{contextLogData:{...n,...b&&{idea_pin_session_id:b},video_id:this.props.video.id,video_play_type:"video"},accessibilityMaximizeLabel:this.props.i18n._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:this.props.i18n._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:this.props.i18n._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:this.props.i18n._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:this.props.i18n._("Play","Play button on video","Play button on video"),accessibilityProgressBarLabel:this.props.i18n._("Progress bar","CloseupVideo.accessibilityProgressBarLabel","Video progress bar accessibility label"),accessibilityUnmuteLabel:this.props.i18n._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:(null!=D?D:1)/(null!=C?C:1),closeupStoryPinViewability:t,captions:"",controls:S,hlsConfig:{startLevel:a.VS},isAutoPlay:!!e,objectFit:u,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:c,onVolumeChange:this.handleVolumeChange,preferMp4:p,playing:P,preload:_,poster:L,src:N,videoStartTime:y,volume:A,loop:d})})})}}function N(e){const t=(0,_.ZP)(),n=(0,x.B)(),i=(0,R.g)(),o=(0,P.EV)(),r=(0,A.c)(),{pinId:a,isPromoted:s}=e,{appUI:{videosAutoplaying:l},setCurrentVideo:c}=(0,d.I)(),{organicVideosAutoplaying:u,promotedVideosAutoplaying:p}=l;let h=null;return h=s?p[a]:u[a],(0,m.jsx)(O,{...e,i18n:t,isPlaying:!h||!h.paused,pwtSurfaceContext:o,requestContext:n,setCurrentVideo:c,storyPinContext:r,storyPinStepStopwatch:i,videoStartTime:h?h.currentTime:null})}b(O,"defaultProps",{loop:!1,showControls:"hover"})},11874:(e,t,n)=>{function i(e,t,n,i){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:i}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function l(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function d(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,{I1:()=>o,Ib:()=>a,NA:()=>i,ZP:()=>r,b9:()=>l,i0:()=>s,yj:()=>d})},628613:(e,t,n)=>{n.d(t,{N:()=>a,Z:()=>r});var i=n(883119),o=n(785893);function r({children:e,fullWidth:t}){return(0,o.jsx)(i.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function a({children:e,enabled:t}){return t?(0,o.jsx)(r,{children:e}):e}},325768:(e,t,n)=>{n.d(t,{Fl:()=>c,GG:()=>u,Pw:()=>_,dl:()=>l,k3:()=>h,su:()=>E,tW:()=>p});var i=n(584230),o=n(309892),r=n(498177);const a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],s=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],d=["US","CA"],c=(e,t)=>{if(s.includes(e.toUpperCase())){const{anyEnabled:e}=t.experiments.getWithActivation("advertiser_growth_qp_expansion");return e}return a.includes(e.toUpperCase())},u=e=>!!e&&d.includes(e.toUpperCase()),p=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),_=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=(0,r.ru)("/business/convert",{next:t});e.push(n)})(t,(e=>e?`/business/ad_create?pinId=${e}`:"/business/ad_create")(n))},h=e=>{const t=e.trim().split(" ").filter((e=>!!e));return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},E=e=>e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,i.Z)(null,e)},629037:(e,t,n)=>{function i(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,{Z:()=>i})},22192:(e,t,n)=>{function i(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}n.d(t,{Z:()=>i})},573686:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(67316),o=n(525479),r=n(925927);function a(e){const t=(0,r.TH)(),{previous:n}=(0,o.H)();return(0,i.Z)(e,t,n)}},766279:(e,t,n)=>{function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:()=>i})},584230:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t){if(!(e||{}).created_at&&!(t||{}).createdAt)return!1;let n="";t&&t.createdAt?n=t.createdAt:e&&e.created_at&&(n=e.created_at);const i=new Date(n);return i.setDate(i.getDate()+28),(new Date).getTime()<i.getTime()}},309892:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t,n=28){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let i;i=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,r=i?new Date(i):o;return r.setDate(r.getDate()+n),(new Date).getTime()<r.getTime()}},880881:(e,t,n)=>{n.d(t,{_Y:()=>i,qe:()=>a,xZ:()=>r});const i=(e,t)=>e.length===t.length&&e.every(((e,n)=>function(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every((n=>e[n]===t[n]))}return e===t}(e,t[n]))),o=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),r=(e,t=o)=>n=>{const i=[];return function(...o){const r=this,a=i.find((e=>e.context===r&&t(e.args,o)));if(a)return a.result;const s={context:r,args:o,result:n.apply(this,o)};return i.push(s),e&&i.length>e&&i.shift(),s.result}},a=r(1);r()},866104:(e,t,n)=>{function i(e={},t=[]){return Object.keys(e).reduce(((n,i)=>t.includes(i)?n:{...n,[i]:e[i]}),{})}n.d(t,{Z:()=>i})},516795:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(377097);var o=n(194594),r=n(766279),a=n(710159),s=n(112978),l=n(883119),d=n(785893);const c={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},u={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function p({backgroundColor:e,identifier:t,size:n="sm"}){const i="pine"===e?"#0FA573":"#fff",o="sm"===n?c:u;return(0,d.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...o,backgroundColor:e?i:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:t})}function _({pin:e,size:t="sm",allowProductCarousel:n,allowShoppingPriceIndicator:c,shoppingLabelColor:u}){const _=(0,a.ZP)(),h=(0,i.Z)(e),E=(0,s.tc)("web_pdp_pur_optim"),{group:m,anyEnabled:I}=(0,s.aq)("hfp_idea_pin_identifer_web");if(h.isGif)return p({identifier:"GIF",size:t});if(h.isStoryPin){const{page_count:n=0,total_video_duration:i=0}=e.story_pin_data||{},o=I?m:"default";let a="idea-pin",s=n.toString();if("default"!==o)if(s=(0,r.Z)(i>0?i:5e3*n),o.includes("play"))a="play";else{if(!o.includes("icon_time"))return p({identifier:s,size:t});a="idea-pin"}return p({identifier:(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,d.jsx)(l.JO,{accessibilityLabel:_._("Idea Pin","pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel","identifier that shows the pin type"),inline:!0,icon:a,color:"default",size:"sm"===t?12:16})}),(0,d.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:s})]}),size:t})}if(h.isVideo){const n=e.videos,{duration:i=0}=n&&n.video_list&&n.video_list[Object.keys(n.video_list)[0]]||{};return p({identifier:(0,r.Z)(i),size:t})}if(h.isProduct){const n=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary;if(c){const e=n&&(n.price||n.max_price);return e?p({identifier:e,size:t}):null}if(u){const i=null==n?void 0:n.percentage_off;let o=!1;i&&(o=E().anyEnabled);const r=o&&i||function(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}(e)[0];return r?p({identifier:r,backgroundColor:u,size:t}):null}return null}if(n){const n=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],i=n&&(0,o.Z)(e.images,n.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:r=[],index:a=0}=i;return p({identifier:`${a+1}/${r.length}`,size:t})}if(h.isCarousel){const n=e.carousel_data||{},{carousel_slots:i=[],index:o=0}=n;return p({identifier:`${o+1}/${i.length}`,size:t})}return null}},834375:(e,t,n)=>{n.d(t,{P:()=>a,t:()=>s});var i=n(724207);const o=()=>{};const r={complaint:function(e,t){i.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){i.ZP.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){i.ZP.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){i.ZP.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){i.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){i.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){i.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){i.ZP.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){i.ZP.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){i.ZP.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){i.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=o){const i=e?r[e]:null;return i?i(t,n):n()}},716975:(e,t,n)=>{n.d(t,{EF:()=>u,XZ:()=>d,ZP:()=>s,nb:()=>c,yl:()=>l});var i=n(632589),o=n(834375),r=n(879268);const a=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return i.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return i.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return i.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:n,board:i,feedbackType:o,makeNavigateLink:r,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=d.board,p=r("navigation",u,o);return t(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:_,url_name:h}=c,E=r("topicUrl",`/topics/${h}`,_);return t(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:E});case"followed":const m=`/${s.username}`,I=r("boardUrl",i.url,a(i.name)),f=r("pinnerUrl",m,a(s.full_name));return s.explicitly_followed_by_me?t(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:f}):t(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:I});case"promoted":switch(n){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:n,username:i}=l,o=r("promotedLink",i?"/"+i+"/":"/",n);return t(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:n,pin:{promoter:i,is_downstream_promotion:o,recommendation_reason:r},pinner:a}){const s=t&&t.type;return i&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===n||144===n||141===n||145===n||139===n||3173===n?"related":92===n?"default":3082===n?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:o,complaintReason:r,throughId:a,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===t;let c,u;switch(t){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(t){case"search":u={query:e.query,pin_id:n};break;case"related":u={pin:n};break;case"newsHub":u={pinId:n,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:o||1,promoted:d,...a?{through_id:a}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:n,feedbackType:i,makeNavigateLink:o,pinner:a,sourceInterest:s})=>{if("topic"===i){if(s){const{id:n,name:i,url_name:a}=s,l=o("topicUrl",`/topics/${a}`,i,!0),d=t(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:r.X},title:"",subTitle:d}}}else if("followed"===i&&n&&a){const{id:i,name:r,url:s}=n||{},{explicitly_followed_by_me:l,full_name:d,username:c}=a,u=`/${c}`,p=o("boardUrl",s,r,!0),_=o("pinnerUrl",u,d,!0);let h=l?t(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:_,formattedBoard:p}):t(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p});return h=l?t(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:_}):t(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:i},title:"",subTitle:h}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,t,n,i,r,a,s){return()=>{const l={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,o.t)(d,l),a(n),s({event_type:101,component:0,element:11181,view_type:i,view_parameter:r})}}},230555:(e,t,n)=>{function i(e,t){if(!e)return"";if(e.embed&&"gif"===e.embed.type)return e.embed&&e.embed.src||"";const n=e.images;if(!n)return"";if(t){const e="474x"===t&&n["474x"]||"236x"===t&&n["236x"]||n["736x"];if(e&&e.url)return e.url}const i=Object.keys(n).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(n[t]=n[e],t):e}catch(t){return""}}));i.sort();const o=i.pop();return n[o]&&n[o].url||""}n.d(t,{Z:()=>i})},377097:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(629037),o=n(8720);function r(e){const{access:t,attribution:n,embed:r,is_eligible_for_web_closeup:a,rich_summary:s,sponsorship:l,story_pin_data_id:d,videos:c}=e,u={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};(0,o._Q)(e)&&(u.isLeadPin=!0),(0,i.Z)(e)&&(u.isCarousel=!0),a&&(u.isOneTap=!0),(0,o.iR)(c)&&(u.isVideo=!0);const p=r||n&&n.embed||null;return p&&"gif"===p.type&&(u.isGif=!0),s&&"product"===s.type_name&&(u.isProduct=!0),s&&"recipe"===s.type_name&&(u.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(u.isPromoted=!0),(t||[]).includes("write")&&(u.isOwnPin=!0),d&&(u.isStoryPin=!0),l&&(u.isSponsored=!0),u}},974610:(e,t,n)=>{n.d(t,{NC:()=>r,Rc:()=>s,WK:()=>d,X9:()=>o,b9:()=>i,f9:()=>l,gu:()=>a});const i="pin-builder-font-faces",o="system-font-faces",r="pin-builder-education-font-faces",a="licensed",s="system",l="brand",d=4},517649:(e,t,n)=>{function i(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}n.d(t,{Z:()=>i})},494618:(e,t,n)=>{n.d(t,{KX:()=>u,Uv:()=>c,ZP:()=>p,gP:()=>d});var i=n(220932),o=n(710159),r=n(225643),a=n(123686),s=n(883119),l=n(785893);function d({condition:e}){const t=(0,o.ZP)();switch(e){case r.ConditionType.USED:return t._("Used","closeup.product.condition_used","product condition that is used");case r.ConditionType.REFURBISHED:return t._("Refurbished","closeup.product.condition_refurbished","product condition that is refurbished");case r.ConditionType.NEW:default:return""}}function c(){return(0,o.ZP)()._("Free shipping","closeup.product.shipping","product shipping info")}function u({freeShippingPrice:e}){const t=(0,o.ZP)();return(0,a.nk)(t._("Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{shippingPrice:e}).join("")}function p({customStyles:e,shippingInfo:t,showPrevDot:n,condition:o}){const{free_shipping_price:r,free_shipping_value:a}=t||{},p=n?[""]:[],{color:_="subtle",size:h="200"}=e||{},E=d({condition:o});return Number.isFinite(a)?(E&&p.push(E),0===a?p.push((0,l.jsx)(c,{})):r&&p.push((0,l.jsx)(u,{freeShippingPrice:r})),0===p.length?null:(0,l.jsx)(s.xv,{color:_,size:h,children:(0,l.jsx)(i.Z,{color:_,items:p})})):null}},339991:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),o=n(883119),r=n(785893);const a=(e,t,n)=>{const o=(0,i.useRef)(null),r=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(e!==o.current||n&&n!==r.current){o.current=e;const n=(i=e,document.querySelector(`img[src="${i}"]`)||null);null!=n&&n.complete&&t()}var i;r.current=n}),[e,t,n])};function s({alt:e,children:t,color:n,elementTiming:i,isActive:s=!1,naturalHeight:l,naturalWidth:d,onLoad:c,src:u}){return a(u,c,s),(0,r.jsx)(o.Ee,{alt:e,color:n,elementTiming:i,naturalHeight:l,naturalWidth:d,onLoad:c,src:u,children:t})}},904810:(e,t,n)=>{n.d(t,{T:()=>a,g:()=>s});var i=n(691088);const{Provider:o,useHook:r}=(0,i.Z)({name:"story_pin_step",v2LoggerMetricName:701,sampleRate:1}),a=o,s=r},483050:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function r(e,t){const{videos:n,is_downstream_promotion:i,is_promoted:o,story_pin_data_id:r,board:a}=e;return!(o||i||(!n||!n.id)&&!r||t||null!=a&&a.is_collaborative&&a.collaborated_by_me)}n.d(t,{At:()=>i,J6:()=>r,Ud:()=>o})},229687:(e,t,n)=>{n.d(t,{A:()=>l,Z:()=>d});var i=n(667294),o=n(498913),r=n.n(o),a=n(883119),s=n(785893);const l=({fill:e,width:t,color:n})=>{const o="half"===e?(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a.xu,{position:"absolute",children:(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:t,width:n,color:o}){const a=[],d=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return r()(c,(e=>a.push((0,s.jsx)(l,{color:o,fill:"full",width:n},e)))),u>=.75?a.push((0,s.jsx)(l,{color:o,fill:"full",width:n},a.length)):u>=.25&&a.push((0,s.jsx)(l,{color:o,fill:"half",width:n},a.length)),r()(5-a.length,(()=>a.push((0,s.jsx)(l,{color:o,fill:"empty",width:n},a.length)))),(0,s.jsx)(i.Fragment,{children:a})}},994953:(e,t,n)=>{n.d(t,{V:()=>i});const i=e=>{const{thumbnail:t,url:n,width:i,height:o,duration:r}=e||{};return t&&n&&i&&o&&{thumbnail:t,url:n,width:i,height:o,duration:r}||void 0}},897985:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(710159),o=n(883119),r=n(785893);function a({height:e,isDenseView:t,rounding:n,width:a}){const s=(0,i.ZP)();return(0,r.jsx)(o.xu,{color:"white",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:n,overflow:"hidden",width:a,height:e,"data-test-id":"unavailable-pin",children:(0,r.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,r.jsx)(o.xu,{paddingY:t?2:4,children:(0,r.jsx)(o.JO,{accessibilityLabel:s._("Pin not available","story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel","Accessibility label on icon"),color:"default",icon:"alert",size:20})}),(0,r.jsx)(o.xv,{weight:"bold",children:s._("Unavailable","story-pin.Closeup.UnavailableIdeaPin.Unavailable","Text on an unavailable idea Pin that has been deleted")}),!t&&(0,r.jsx)(o.xu,{paddingY:1,children:(0,r.jsx)(o.xv,{children:s._("Removed by the creator","story-pin.Closeup.UnavailableIdeaPin.Removed","Text on an unavailable idea Pin explaining it has been removed by its creator")})})]})})}},313197:(e,t,n)=>{n.d(t,{c:()=>s,o:()=>a});var i=n(667294),o=n(785893);const r=(0,i.createContext)(null);function a({children:e,closeupPaneWidth:t,headerHeight:n,ideaPinSessionId:i,isLandingPage:a,loadFonts:s,renderStoryPinMediaLayout:l,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:p,setIdeaPinSessionId:_}){const h={closeupPaneWidth:t,headerHeight:n,ideaPinSessionId:i,isLandingPage:a,loadFonts:s,renderStoryPinMediaLayout:l,renderStoryPinSplitLayout:d,renderStoryPinText:c,renderStoryPinPage:u,productPins:p,setIdeaPinSessionId:_};return(0,o.jsx)(r.Provider,{value:h,children:e})}const s=()=>(0,i.useContext)(r)},685894:(e,t,n)=>{n.d(t,{Cc:()=>d,RR:()=>i,YB:()=>o,YL:()=>a,h8:()=>l,pE:()=>s,yR:()=>r});const i="0.8.0",o=9/16,r=8,a=10;function s(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const l={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},d={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}},277703:(e,t,n)=>{n.d(t,{BN:()=>a,RK:()=>r,d3:()=>l,xm:()=>s});var i=n(685894);const o=(e,t)=>{const n=(0,i.pE)(e,t);return`${n.y}px ${n.x}px`},r=({alignment:e,verticalAlignment:t})=>{const n={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.justifyContent="center",n.textAlign="center"),n},a=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:r,name:a})=>({fontSize:e,letterSpacing:i,color:t,fontFamily:a,margin:0,maxHeight:"100%",textShadow:!n&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...n?{backgroundColor:n,borderRadius:e/5,padding:o(e,r)}:{}}),s=({fontSize:e,hasText:t,highlightColor:n,lineHeight:i})=>({...n?{backgroundColor:t?n:void 0,borderRadius:e/5,padding:o(e,i)}:{}}),l=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]})},514183:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"…":e},819086:(e,t,n)=>{n.d(t,{ZP:()=>i});function i(e,t=80,n="…",i=false){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)o=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+n}},235988:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),o=n(785893);function r({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(i.xv,{color:t,inline:!0,size:null!=n?n:"md",children:"·"})})}},220932:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),o=n(235988),r=n(883119),a=n(785893);function s(e){return null!=e}function l({additionalPadding:e,color:t="darkGray",inline:n,items:l}){const d=e?(0,a.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,a.jsx)(o.Z,{color:t})}):(0,a.jsx)(o.Z,{color:t}),c=l.filter(s).reduce(((e,t,n)=>[...e,0!==n?d:null,t]),[]).filter(s).map(((e,t)=>(0,a.jsx)(i.Fragment,{children:e},t)));return 0===c.length?null:n?(0,a.jsx)(r.xu,{children:c}):(0,a.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:c})}},751438:(e,t,n)=>{n.d(t,{Z:()=>r,t:()=>o});const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var r;return n?"4g"===n?i="40-80":(o="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:o}};function o(e){const{downloadSpeedGroup:t,screenDimension:n}=i(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},r={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[t][n]||e.V_720P||void 0}function r(e){const{video_list:t={}}=e,n=o(t),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},259755:(e,t,n)=>{function i(e){return e.filter((e=>e.is_stela))}function o(e){return e.filter((e=>!!e.label))}n.d(t,{k:()=>i,m:()=>o})},479014:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>T,useRoleBasedAccessControlContext:()=>f});var i=n(667294),o=n(231613),r=n(379771),a=n(456168),s=n(112978),l=n(487889),d=n(454132);const c=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,d.Z)(n)]=e[n]:t[(0,d.Z)(n)]=c(e[n]));return t},u=(e,t)=>{const n=[];for(const r in e)r!==t&&n.push({id:r,...c(e[r])});const i=n.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),o=new Map;for(const r of i)o.set(r.id,r);return o};var p=n(340813);const _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},E=e=>{const[t,n]=(0,i.useReducer)(h,_),o=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:o,disableProfileChanger:r,headerVisible:a}=n;return{changeProfile:(0,i.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!o})}),[t,e,o]),toggleDisableProfileChanger:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!r})}),[t,e,r]),toggleHeaderVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!a})}),[t,e,a])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:a}=t;(0,i.useEffect)((()=>{const e=(0,p.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,p.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,p.Nh)("orbacVisibility",a)}),[a]),(0,i.useEffect)((()=>{(0,p.Nh)("orbacActiveProfile",r)}),[r]);return{state:t,actions:o,receiveProfiles:(0,i.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:u(e,t)})}),[n])}};var m=n(785893);const{Provider:I,useMaybeHook:f}=(0,l.Z)("RoleBasedAccessControlContext"),T=({children:e})=>{const t=(0,s.tc)("web_m10n_business_access_orbac_www"),n=(0,a.Z)(),l=Boolean(n.isAuth&&n.isPartner&&t().anyEnabled),{state:d,actions:c,receiveProfiles:u}=E(l),{activeProfile:p,headerVisible:_,profiles:h=[]}=d,f=h?Array.from(h.values()):[],T=(0,o.Z)(f),g=!!(n.isAuth&&f.length>0)&&T,y=n.isAuth?n.id:"",S=n.isAuth?n.username:"",{changeProfile:v,toggleORBACVisibility:P,toggleDisableProfileChanger:x,toggleHeaderVisibility:A}=c;(0,i.useEffect)((()=>{l&&("string"!=typeof T?p||v(y):v(T))}),[T,y,l,v,p]),(0,i.useEffect)((()=>{l&&(g&&!_&&A(!0),!g&&_&&A(!1))}),[A,g,l,_,h]);const{data:R}=(0,r.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}),b=null==R?void 0:R.profiles;let O;n&&n.isAuth&&d.activeProfile===n.id?O={id:n.id,permissions:["OWNER"],user:{username:S,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&d.profiles&&(O=d.profiles.get(p)),(0,i.useEffect)((()=>{b&&u(b,y)}),[u,b,y]);const N=d.profiles?Array.from(d.profiles.values()):[];return(0,m.jsx)(I,{value:{profiles:N,headerVisible:d.headerVisible,activeProfile:O,changeProfile:v,toggleORBACVisibility:P,toggleDisableProfileChanger:x,toggleHeaderVisibility:A},children:e})}},625983:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(112978),o=n(479014);const r=()=>{const e=(0,i.tc)("web_m10n_business_access_orbac_www"),t=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{};return e().anyEnabled&&n||Object.freeze({})}},231613:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(966338),o=n(456168),r=n(112978),a=n(907683),s=n(925927);const l=e=>{var t;const n=(0,s.TH)(),l=(0,o.Z)(),{anyEnabled:d}=(0,r.tc)("web_m10n_business_access_orbac_beta_2")(),c=(0,s.$B)("/:username"),u=null==c||null===(t=c.params)||void 0===t?void 0:t.username,p=(0,s.$B)("/pin/:id"),_=(0,i.useSelector)((e=>{var t,n,i,o;return!(null==p||null===(t=p.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(i=n[p.params.id])||void 0===i||null===(o=i.pinner)||void 0===o?void 0:o.id)}));if((0,a.ej)(n))return!1;if((0,a.RU)(n))return!0;if((0,a.mY)(n))return d;const h=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:i}=t;return!!(i&&u||_&&n)&&(i===u||_===n)}));return!!h&&h.id}},406335:(e,t,n)=>{n.d(t,{D3:()=>d,DX:()=>s,KY:()=>c,Ms:()=>i,N1:()=>u,_P:()=>a,lJ:()=>r,nl:()=>o,q6:()=>l});const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),r=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",a=(e,t,n)=>{var i;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(i=e.advertiser)||void 0===i?void 0:i.merchant_id},s=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),d=(e,t,n)=>!!(l(e,t,n)||e&&e.isAuth&&t===e.id),c=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return d(e,i,n)};function u(e,t,n){const i=t?t.id:"";return d(e,i,n)}},811290:(e,t,n)=>{n.d(t,{Z:()=>E});var i=n(527618),o=n(144977),r=n(710159),a=n(564327),s=n(123686),l=n(112978),d=n(952733),c=n(229687),u=n(883119),p=n(785893);const _=({rating:e,textSize:t,type:n})=>{if("single"===n){const n=parseFloat(e);return Number.isNaN(n)?null:(0,p.jsxs)(u.kC,{alignItems:"center",children:[(0,p.jsx)(c.A,{fill:"full",width:12}),(0,p.jsx)(u.xv,{size:t,children:n.toFixed(1)})]})}return(0,p.jsx)(c.Z,{rating:e,width:12})},h=({bracket:e,count:t,countFormat:n,marginStart:i,textSize:l})=>{const{locale:c}=(0,d.B)(),_=(0,r.ZP)(),h=(0,a.Z)();if(null==t)return null;let E="text"===n?(0,s.nk)(_.ngettext("{{ count }} rating","{{ count }} ratings",t,"webapp.app.www-unified.productStarRatings.RatingCountText","count: total ratings count"),{count:t}).join(""):h(c,t,{shortform:!0,shortform_maximum_fraction_digits:1});return e&&(E=`(${E})`),(0,p.jsx)(u.xu,{marginStart:i,children:(0,p.jsx)(u.xv,{size:l,children:(0,p.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:E})})})};function E({count:e,countFormat:t,rating:n,textSize:o}){const r=(0,i.Z)({count:e,rating:n}),a=(0,l.tc)("web_pdp_star_rating"),s=(0,l.tc)("mweb_pdp_star_rating"),d=r&&a().anyEnabled,c=r&&s().anyEnabled,E=d||c;return r?(0,p.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,p.jsx)(_,{rating:n,textSize:o,type:E?"single":"multiple"}),(0,p.jsx)(h,{bracket:E,count:e,countFormat:t,marginStart:E?1:void 0,textSize:o})]}):null}},527618:(e,t,n)=>{function i({count:e,rating:t}){return Boolean(t&&"None"!==t&&Number.isFinite(e))}n.d(t,{Z:()=>i})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/50991-b58f8907781f701d.mjs.map